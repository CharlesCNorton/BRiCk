<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.model.simple_pred</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2023&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.algebra.excl</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.algebra.gmap</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.algebra.lib.frac_auth</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.bi.monpred</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.bi.lib.fractional</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.proofmode.proofmode</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.fractional.html#"><span class="id" title="library">bedrock.lang.bi.fractional</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.cancelable_invariants.html#"><span class="id" title="library">bedrock.lang.bi.cancelable_invariants</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#"><span class="id" title="library">bedrock.lang.cpp.bi.cfractional</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.own_instances.html#"><span class="id" title="library">bedrock.lang.cpp.logic.own_instances</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">bedrock.prelude.base</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.option.html#"><span class="id" title="library">bedrock.prelude.option</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#"><span class="id" title="library">bedrock.lang.cpp.arith.z_to_bytes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#"><span class="id" title="library">bedrock.lang.cpp.algebra.cfrac</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.names</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.types</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.typing</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#"><span class="id" title="library">bedrock.lang.cpp.syntax.translation_unit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.values</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.subtyping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.mpred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.pred</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Coercions</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">vt</span> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a>) (σ <span class="id" title="var">resolve</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<span class="id" title="var">q</span> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;todo:&nbsp;does&nbsp;this&nbsp;not&nbsp;exist&nbsp;as&nbsp;a&nbsp;library&nbsp;somewhere?&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="cfractionalR" class="idref" href="#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> (<a id="V:1" class="idref" href="#V:1"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="record">cmra</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">prodR</span> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.tR"><span class="id" title="definition">cQp.tR</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#V:1"><span class="id" title="variable">V</span></a>)).<br/>
<span class="id" title="keyword">Definition</span> <a id="cfrac" class="idref" href="#cfrac"><span class="id" title="definition">cfrac</span></a> {<a id="V:2" class="idref" href="#V:2"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} <a id="q:3" class="idref" href="#q:3"><span class="id" title="binder">q</span></a> (<a id="v:4" class="idref" href="#v:4"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#V:2"><span class="id" title="variable">V</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#V:2"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:3"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="definition">to_agree</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:4"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cfrac_op" class="idref" href="#cfrac_op"><span class="id" title="lemma">cfrac_op</span></a> {<a id="V:5" class="idref" href="#V:5"><span class="id" title="binder">V</span></a>} (<a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#V:5"><span class="id" title="variable">V</span></a>) <a id="q1:7" class="idref" href="#q1:7"><span class="id" title="binder">q1</span></a> <a id="q2:8" class="idref" href="#q2:8"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:7"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:6"><span class="id" title="variable">l</span></a> <span class="id" title="notation">⋅</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:8"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:6"><span class="id" title="variable">l</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:7"><span class="id" title="variable">q1</span></a> <span class="id" title="notation">⋅</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:8"><span class="id" title="variable">q2</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:6"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">pair_op</span> <span class="id" title="lemma">agree_idemp</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cfrac_valid" class="idref" href="#cfrac_valid"><span class="id" title="lemma">cfrac_valid</span></a> {<a id="A:9" class="idref" href="#A:9"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="q1:10" class="idref" href="#q1:10"><span class="id" title="binder">q1</span></a> <a id="q2:11" class="idref" href="#q2:11"><span class="id" title="binder">q2</span></a>} {<a id="v1:12" class="idref" href="#v1:12"><span class="id" title="binder">v1</span></a> <a id="v2:13" class="idref" href="#v2:13"><span class="id" title="binder">v2</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#A:9"><span class="id" title="variable">A</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">✓</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:10"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:12"><span class="id" title="variable">v1</span></a> <span class="id" title="notation">⋅</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:11"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:13"><span class="id" title="variable">v2</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="notation">✓</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:10"><span class="id" title="variable">q1</span></a> <span class="id" title="notation">⋅</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:11"><span class="id" title="variable">q2</span></a>)%<span class="id" title="var">Qp</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:12"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:13"><span class="id" title="variable">v2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> /<span class="id" title="lemma">pair_valid</span> =&gt; /= []? /<span class="id" title="lemma">to_agree_op_inv_L</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="fractional" class="idref" href="#fractional"><span class="id" title="section">fractional</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="K:14" class="idref" href="#K:14"><span class="id" title="binder">K</span></a> <a id="V:15" class="idref" href="#V:15"><span class="id" title="binder">V</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="H:17" class="idref" href="#H:17"><span class="id" title="binder">Countable</span></a> <a id="H:17" class="idref" href="#H:17"><span class="id" title="binder">K</span></a>} `{<a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">!</span></a><a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">HasOwn</span></a> <a id="PROP:18" class="idref" href="#PROP:18"><span class="id" title="binder"><span id="HasOwn0:19" class="id">PROP</span></span></a> <a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">(</span></a><a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">gmapR</span></a> <a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">K</span></a> <a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">(</span></a><a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">cfractionalR</span></a> <a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">V</span></a><a id="HasOwn0:19" class="idref" href="#HasOwn0:19"><span class="id" title="binder">))</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="fractional.gmap_own" class="idref" href="#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a id="cd73289fe2b98ac38c2f430fe6093303" class="idref" href="#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="binder">γ</span></a> <a id="q:21" class="idref" href="#q:21"><span class="id" title="binder">q</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a> <a id="v:23" class="idref" href="#v:23"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapR</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.K"><span class="id" title="variable">K</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.V"><span class="id" title="variable">V</span></a>)) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="variable">γ</span></a> <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:22"><span class="id" title="variable">k</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:21"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:23"><span class="id" title="variable">v</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="cfractional_own_frac" class="idref" href="#cfractional_own_frac"><span class="id" title="instance">cfractional_own_frac</span></a> <a id="33b907111abcf58bde2f69dd57e7406e" class="idref" href="#33b907111abcf58bde2f69dd57e7406e"><span class="id" title="binder">γ</span></a> <a id="k:25" class="idref" href="#k:25"><span class="id" title="binder">k</span></a> <a id="v:26" class="idref" href="#v:26"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:27" class="idref" href="#q:27"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#33b907111abcf58bde2f69dd57e7406e"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:27"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:25"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:26"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.bi.own.html#own_op"><span class="id" title="method">own_op</span></a> <span class="id" title="lemma">singleton_op</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac_op"><span class="id" title="lemma">cfrac_op</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="fractional_own_frac_as_fractional" class="idref" href="#fractional_own_frac_as_fractional"><span class="id" title="instance">fractional_own_frac_as_fractional</span></a> <a id="47503f7816dc0f8f2b36f2488417672f" class="idref" href="#47503f7816dc0f8f2b36f2488417672f"><span class="id" title="binder">γ</span></a> <a id="k:29" class="idref" href="#k:29"><span class="id" title="binder">k</span></a> <a id="v:30" class="idref" href="#v:30"><span class="id" title="binder">v</span></a> <a id="q:31" class="idref" href="#q:31"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional"><span class="id" title="class">AsCFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#47503f7816dc0f8f2b36f2488417672f"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:31"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:29"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:30"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:32" class="idref" href="#q:32"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#47503f7816dc0f8f2b36f2488417672f"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:32"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:29"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:30"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:31"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="gmap_own_agree" class="idref" href="#gmap_own_agree"><span class="id" title="instance">gmap_own_agree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="BiEmbed0:33" class="idref" href="#BiEmbed0:33"><span class="id" title="binder">!</span></a><a id="BiEmbed0:33" class="idref" href="#BiEmbed0:33"><span class="id" title="binder">BiEmbed</span></a> <a id="BiEmbed0:33" class="idref" href="#BiEmbed0:33"><span class="id" title="binder">siPropI</span></a> <a id="BiEmbed0:33" class="idref" href="#BiEmbed0:33"><span class="id" title="binder">PROP</span></a>} `{<a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">!</span></a><a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">HasOwnValid</span></a> <a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">PROP</span></a> <a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">(</span></a><a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">gmapR</span></a> <a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">K</span></a> <a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">(</span></a><a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">cfractionalR</span></a> <a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">V</span></a><a id="HasOwnValid0:34" class="idref" href="#HasOwnValid0:34"><span class="id" title="binder">))</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="v1:35" class="idref" href="#v1:35"><span class="id" title="binder">v1</span></a> <a id="v2:36" class="idref" href="#v2:36"><span class="id" title="binder">v2</span></a> <a id="7f9fc341bcc582b62c59bda84f96621a" class="idref" href="#7f9fc341bcc582b62c59bda84f96621a"><span class="id" title="binder">γ</span></a> <a id="q1:38" class="idref" href="#q1:38"><span class="id" title="binder">q1</span></a> <a id="q2:39" class="idref" href="#q2:39"><span class="id" title="binder">q2</span></a> <a id="k:40" class="idref" href="#k:40"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:35"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:36"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#7f9fc341bcc582b62c59bda84f96621a"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:38"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:40"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:35"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#7f9fc341bcc582b62c59bda84f96621a"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:39"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:40"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:36"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_2_intro_only_provable"><span class="id" title="lemma">observe_2_intro_only_provable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">bi.wand_intro_r</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> -<a class="idref" href="bedrock.lang.bi.own.html#own_op"><span class="id" title="method">own_op</span></a> <span class="id" title="lemma">singleton_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.bi.own.html#own_valid"><span class="id" title="method">own_valid</span></a> <a class="idref" href="bedrock.lang.bi.own.html#discrete_valid"><span class="id" title="lemma">discrete_valid</span></a> <span class="id" title="lemma">singleton_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!%" =&gt; /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac_valid"><span class="id" title="lemma">cfrac_valid</span></a> [].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  We keep this instance local because guarding it with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid2"><span class="id" title="record">CFracValid2</span></a></span>
  prevents it from firing. (Perhaps due to the let binding.)
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="gmap_own_cfrac_valid" class="idref" href="#gmap_own_cfrac_valid"><span class="id" title="instance">gmap_own_cfrac_valid</span></a> <a id="1702d82f562f6fa41761290d2fa51013" class="idref" href="#1702d82f562f6fa41761290d2fa51013"><span class="id" title="binder">γ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="BiEmbed0:42" class="idref" href="#BiEmbed0:42"><span class="id" title="binder">!</span></a><a id="BiEmbed0:42" class="idref" href="#BiEmbed0:42"><span class="id" title="binder">BiEmbed</span></a> <a id="BiEmbed0:42" class="idref" href="#BiEmbed0:42"><span class="id" title="binder">siPropI</span></a> <a id="BiEmbed0:42" class="idref" href="#BiEmbed0:42"><span class="id" title="binder">PROP</span></a>} `{<a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">!</span></a><a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">HasOwnValid</span></a> <a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">PROP</span></a> <a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">(</span></a><a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">gmapR</span></a> <a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">K</span></a> <a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">(</span></a><a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">cfractionalR</span></a> <a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">V</span></a><a id="HasOwnValid0:43" class="idref" href="#HasOwnValid0:43"><span class="id" title="binder">))</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="q:44" class="idref" href="#q:44"><span class="id" title="binder">q</span></a> <a id="k:45" class="idref" href="#k:45"><span class="id" title="binder">k</span></a> <a id="v:46" class="idref" href="#v:46"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.frac"><span class="id" title="projection">cQp.frac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:44"><span class="id" title="variable">q</span></a> <span class="id" title="notation">≤</span> 1 <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Qp</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1702d82f562f6fa41761290d2fa51013"><span class="id" title="variable">γ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:44"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:45"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:46"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_only_provable"><span class="id" title="lemma">observe_intro_only_provable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional.gmap_own"><span class="id" title="variable">gmap_own</span></a> <a class="idref" href="bedrock.lang.bi.own.html#own_valid"><span class="id" title="method">own_valid</span></a> !<a class="idref" href="bedrock.lang.bi.own.html#discrete_valid"><span class="id" title="lemma">discrete_valid</span></a> <span class="id" title="lemma">singleton_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!%" =&gt; /<span class="id" title="lemma">pair_valid</span> [? <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fractional"><span class="id" title="section">fractional</span></a>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#gmap_own_cfrac_valid"><span class="id" title="instance">gmap_own_cfrac_valid</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#"><span class="id" title="library">bedrock.lang.cpp.model.inductive_pointers</span></a>.<br/>
<span class="comment">(*&nbsp;Stand-in&nbsp;for&nbsp;actual&nbsp;models.<br/>
Ensures&nbsp;that&nbsp;everything&nbsp;needed&nbsp;is&nbsp;properly&nbsp;functorized.&nbsp;*)</span><br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a>.<br/>
<span class="id" title="keyword">Declare Module</span> <span class="id" title="keyword">Import</span> <a id="VALUES_DEFS_IMPL" class="idref" href="#VALUES_DEFS_IMPL"><span class="id" title="module">VALUES_DEFS_IMPL</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_FUNCTOR"><span class="id" title="module">VALUES_INTF_FUNCTOR</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>).<br/>

<br/>
</div>

<div class="doc">
A consistency proof for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="SimpleCPP_BASE" class="idref" href="#SimpleCPP_BASE"><span class="id" title="module">SimpleCPP_BASE</span></a> &lt;: <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.addr" class="idref" href="#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.byte" class="idref" href="#SimpleCPP_BASE.byte"><span class="id" title="definition">byte</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variant</span> <a id="SimpleCPP_BASE.runtime_val'" class="idref" href="#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="SimpleCPP_BASE.Rundef" class="idref" href="#SimpleCPP_BASE.Rundef"><span class="id" title="constructor">Rundef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;undefined&nbsp;value,&nbsp;semantically,&nbsp;it&nbsp;means&nbsp;"any&nbsp;value"&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="SimpleCPP_BASE.Rval" class="idref" href="#SimpleCPP_BASE.Rval"><span class="id" title="constructor">Rval</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.byte"><span class="id" title="definition">byte</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;machine&nbsp;level&nbsp;byte&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="SimpleCPP_BASE.Rpointer_chunk" class="idref" href="#SimpleCPP_BASE.Rpointer_chunk"><span class="id" title="constructor">Rpointer_chunk</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="index:49" class="idref" href="#index:49"><span class="id" title="binder">index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;you&nbsp;need&nbsp;the&nbsp;same&nbsp;pointer&nbsp;and&nbsp;consecutive&nbsp;integers&nbsp;to&nbsp;"have"&nbsp;a&nbsp;pointer.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.Z_to_bytes" class="idref" href="#SimpleCPP_BASE.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a> {<a id="5cdb643423f970505cbe86645593e303" class="idref" href="#5cdb643423f970505cbe86645593e303"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="n:51" class="idref" href="#n:51"><span class="id" title="binder">n</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bitsize"><span class="id" title="inductive">bitsize</span></a>) (<a id="sgn:52" class="idref" href="#sgn:52"><span class="id" title="binder">sgn</span></a>: <a class="idref" href="bedrock.lang.cpp.arith.types.html#signed"><span class="id" title="inductive">signed</span></a>) (<a id="v:53" class="idref" href="#v:53"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.Rval"><span class="id" title="constructor">Rval</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes"><span class="id" title="definition">_Z_to_bytes</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:51"><span class="id" title="variable">n</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_byte_order"><span class="id" title="definition">genv_byte_order</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5cdb643423f970505cbe86645593e303"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:52"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:53"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP_BASE.length_Z_to_bytes" class="idref" href="#SimpleCPP_BASE.length_Z_to_bytes"><span class="id" title="lemma">length_Z_to_bytes</span></a> {<a id="a28929961f9d6db5798eaa85407a7306" class="idref" href="#a28929961f9d6db5798eaa85407a7306"><span class="id" title="binder">σ</span></a>} <a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> <a id="sgn:56" class="idref" href="#sgn:56"><span class="id" title="binder">sgn</span></a> <a id="v:57" class="idref" href="#v:57"><span class="id" title="binder">v</span></a> : <span class="id" title="abbreviation">length</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a28929961f9d6db5798eaa85407a7306"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:56"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:57"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:55"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a> <span class="id" title="lemma">fmap_length</span> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes_length"><span class="id" title="lemma">_Z_to_bytes_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="SimpleCPP_BASE.cpp_ghost'" class="idref" href="#SimpleCPP_BASE.cpp_ghost'"><span class="id" title="record">cpp_ghost'</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="SimpleCPP_BASE.heap_name" class="idref" href="#SimpleCPP_BASE.heap_name"><span class="id" title="projection">heap_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.ghost_mem_name" class="idref" href="#SimpleCPP_BASE.ghost_mem_name"><span class="id" title="projection">ghost_mem_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.mem_inj_name" class="idref" href="#SimpleCPP_BASE.mem_inj_name"><span class="id" title="projection">mem_inj_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.blocks_name" class="idref" href="#SimpleCPP_BASE.blocks_name"><span class="id" title="projection">blocks_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.code_name" class="idref" href="#SimpleCPP_BASE.code_name"><span class="id" title="projection">code_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.derivations_name" class="idref" href="#SimpleCPP_BASE.derivations_name"><span class="id" title="projection">derivations_name</span></a> : <span class="id" title="definition">gname</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE._cpp_ghost" class="idref" href="#SimpleCPP_BASE._cpp_ghost"><span class="id" title="definition">_cpp_ghost</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost'"><span class="id" title="record">cpp_ghost'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="SimpleCPP_BASE.cppG'" class="idref" href="#SimpleCPP_BASE.cppG'"><span class="id" title="record">cppG'</span></a> (<a id="b7d14475a959a414c26c016f9aef0e47" class="idref" href="#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="binder">Σ</span></a> : <span class="id" title="class">gFunctors</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="SimpleCPP_BASE.heapGS" class="idref" href="#SimpleCPP_BASE.heapGS"><span class="id" title="projection">heapGS</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapR</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;this&nbsp;represents&nbsp;the&nbsp;contents&nbsp;of&nbsp;physical&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.ghost_memG" class="idref" href="#SimpleCPP_BASE.ghost_memG"><span class="id" title="projection">ghost_memG</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;this&nbsp;represents&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;C++&nbsp;runtime&nbsp;that&nbsp;might<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;be&nbsp;represented&nbsp;in&nbsp;physical&nbsp;memory,&nbsp;e.g.&nbsp;values&nbsp;stored&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registers&nbsp;or&nbsp;temporaries&nbsp;on&nbsp;the&nbsp;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.mem_injG" class="idref" href="#SimpleCPP_BASE.mem_injG"><span class="id" title="projection">mem_injG</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;this&nbsp;carries&nbsp;the&nbsp;(compiler-supplied)&nbsp;mapping&nbsp;from&nbsp;C++&nbsp;locations<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(represented&nbsp;as&nbsp;pointers)&nbsp;to&nbsp;physical&nbsp;memory&nbsp;addresses.&nbsp;Locations&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;not&nbsp;stored&nbsp;in&nbsp;physical&nbsp;memory&nbsp;(e.g.&nbsp;because&nbsp;they&nbsp;are&nbsp;register<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocated)&nbsp;are&nbsp;mapped&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">None</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.blocksG" class="idref" href="#SimpleCPP_BASE.blocksG"><span class="id" title="projection">blocksG</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;this&nbsp;represents&nbsp;the&nbsp;minimum&nbsp;and&nbsp;maximum&nbsp;offset&nbsp;of&nbsp;the&nbsp;block&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.codeG" class="idref" href="#SimpleCPP_BASE.codeG"><span class="id" title="projection">codeG</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;this&nbsp;carries&nbsp;the&nbsp;(compiler-supplied)&nbsp;mapping&nbsp;from&nbsp;C++&nbsp;locations<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;the&nbsp;code&nbsp;stored&nbsp;at&nbsp;that&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.derivationsG" class="idref" href="#SimpleCPP_BASE.derivationsG"><span class="id" title="projection">derivationsG</span></a> : <span class="id" title="class">inG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a> (<span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.has_inv'" class="idref" href="#SimpleCPP_BASE.has_inv'"><span class="id" title="projection">has_inv'</span></a> : <span class="id" title="abbreviation">invGS</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <a id="SimpleCPP_BASE.has_cinv'" class="idref" href="#SimpleCPP_BASE.has_cinv'"><span class="id" title="projection">has_cinv'</span></a> : <span class="id" title="class">cinvG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b7d14475a959a414c26c016f9aef0e47"><span class="id" title="variable">Σ</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.cppPreG" class="idref" href="#SimpleCPP_BASE.cppPreG"><span class="id" title="definition">cppPreG</span></a> : <span class="id" title="class">gFunctors</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cppG'"><span class="id" title="record">cppG'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.has_inv" class="idref" href="#SimpleCPP_BASE.has_inv"><span class="id" title="definition">has_inv</span></a> <a id="5e616d60b6019fd1fcdddd9ee38e237a" class="idref" href="#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cppPreG"><span class="id" title="definition">cppPreG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">invGS</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a> := @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.has_inv'"><span class="id" title="projection">has_inv'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5e616d60b6019fd1fcdddd9ee38e237a"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.has_cinv" class="idref" href="#SimpleCPP_BASE.has_cinv"><span class="id" title="definition">has_cinv</span></a> <a id="0e0d57bbddb84fea16244eabbdac2294" class="idref" href="#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cppPreG"><span class="id" title="definition">cppPreG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="class">cinvG</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="variable">Σ</span></a> := @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.has_cinv'"><span class="id" title="projection">has_cinv'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#0e0d57bbddb84fea16244eabbdac2294"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS_MIXIN"><span class="id" title="module">CPP_LOGIC_CLASS_MIXIN</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP_BASE.with_cpp" class="idref" href="#SimpleCPP_BASE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="cpp_logic0:79" class="idref" href="#cpp_logic0:79"><span class="id" title="binder">!</span></a><a id="cpp_logic0:79" class="idref" href="#cpp_logic0:79"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:77" class="idref" href="#thread_info:77"><span class="id" title="binder"><span id="cpp_logic0:79" class="id">thread_info</span></span></a> <a id="2639e8676b80946ed652087283a1b245" class="idref" href="#2639e8676b80946ed652087283a1b245"><span class="id" title="binder"><span id="cpp_logic0:79" class="id">Σ</span></span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Existing Class</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cppG'"><span class="id" title="record">cppG'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE.cppPreG_cppG'" class="idref" href="#SimpleCPP_BASE.cppPreG_cppG'"><span class="id" title="instance">cppPreG_cppG'</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cppG'"><span class="id" title="class">cppG'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#6183c1cdd8c411b6e675f5b1c49017db"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_has_cppG"><span class="id" title="method">cpp_has_cppG</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.heapGS"><span class="id" title="projection">heapGS</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.ghost_memG"><span class="id" title="projection">ghost_memG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.mem_injG"><span class="id" title="projection">mem_injG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.blocksG"><span class="id" title="projection">blocksG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.codeG"><span class="id" title="projection">codeG</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.derivationsG"><span class="id" title="projection">derivationsG</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.heap_own" class="idref" href="#SimpleCPP_BASE.heap_own"><span class="id" title="definition">heap_own</span></a> (<a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>) <a id="q:81" class="idref" href="#q:81"><span class="id" title="binder">q</span></a> (<a id="r:82" class="idref" href="#r:82"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapR</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.heap_name"><span class="id" title="projection">heap_name</span></a>) <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:80"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:81"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#r:82"><span class="id" title="variable">r</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.ghost_mem_own" class="idref" href="#SimpleCPP_BASE.ghost_mem_own"><span class="id" title="definition">ghost_mem_own</span></a> (<a id="p:83" class="idref" href="#p:83"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) <a id="q:84" class="idref" href="#q:84"><span class="id" title="binder">q</span></a> (<a id="v:85" class="idref" href="#v:85"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.ghost_mem_name"><span class="id" title="projection">ghost_mem_name</span></a>) <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:83"><span class="id" title="variable">p</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:84"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:85"><span class="id" title="variable">v</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.mem_inj_own" class="idref" href="#SimpleCPP_BASE.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> (<a id="p:86" class="idref" href="#p:86"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="va:87" class="idref" href="#va:87"><span class="id" title="binder">va</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.mem_inj_name"><span class="id" title="projection">mem_inj_name</span></a>) <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:86"><span class="id" title="variable">p</span></a> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:87"><span class="id" title="variable">va</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.blocks_own" class="idref" href="#SimpleCPP_BASE.blocks_own"><span class="id" title="definition">blocks_own</span></a> (<a id="p:88" class="idref" href="#p:88"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="l:89" class="idref" href="#l:89"><span class="id" title="binder">l</span></a> <a id="h:90" class="idref" href="#h:90"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.blocks_name"><span class="id" title="projection">blocks_name</span></a>) <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:88"><span class="id" title="variable">p</span></a> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:89"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:90"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE._code_own" class="idref" href="#SimpleCPP_BASE._code_own"><span class="id" title="definition">_code_own</span></a> (<a id="p:91" class="idref" href="#p:91"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="f:92" class="idref" href="#f:92"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.code_name"><span class="id" title="projection">code_name</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> := <span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<span class="id" title="definition">agreeR</span> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:91"><span class="id" title="variable">p</span></a> <span class="id" title="notation">:=</span> <span class="id" title="definition">to_agree</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:92"><span class="id" title="variable">f</span></a> <span class="id" title="notation">]}</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_BASE.derivation_own" class="idref" href="#SimpleCPP_BASE.derivation_own"><span class="id" title="definition">derivation_own</span></a> (<a id="p:93" class="idref" href="#p:93"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) <a id="q:94" class="idref" href="#q:94"><span class="id" title="binder">q</span></a> (<a id="l:95" class="idref" href="#l:95"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>) (<a id="mdc:96" class="idref" href="#mdc:96"><span class="id" title="binder">mdc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.own.html#own"><span class="id" title="method">own</span></a> (<span class="id" title="var">A</span> := <span class="id" title="definition">gmapUR</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfractionalR"><span class="id" title="definition">cfractionalR</span></a> (<span class="id" title="abbreviation">leibnizO</span> (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.cpp_ghost"><span class="id" title="method">cpp_ghost</span></a>.(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.derivations_name"><span class="id" title="projection">derivations_name</span></a>) <span class="id" title="notation">{[</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:93"><span class="id" title="variable">p</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cfrac"><span class="id" title="definition">cfrac</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:94"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:95"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc:96"><span class="id" title="variable">mdc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">]}</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE.mem_inj_own_persistent" class="idref" href="#SimpleCPP_BASE.mem_inj_own_persistent"><span class="id" title="instance">mem_inj_own_persistent</span></a> <a id="p:97" class="idref" href="#p:97"><span class="id" title="binder">p</span></a> <a id="va:98" class="idref" href="#va:98"><span class="id" title="binder">va</span></a> : <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:97"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:98"><span class="id" title="variable">va</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE.mem_inj_own_affine" class="idref" href="#SimpleCPP_BASE.mem_inj_own_affine"><span class="id" title="instance">mem_inj_own_affine</span></a> <a id="p:99" class="idref" href="#p:99"><span class="id" title="binder">p</span></a> <a id="va:100" class="idref" href="#va:100"><span class="id" title="binder">va</span></a> : <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:99"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:100"><span class="id" title="variable">va</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE.mem_inj_own_timeless" class="idref" href="#SimpleCPP_BASE.mem_inj_own_timeless"><span class="id" title="instance">mem_inj_own_timeless</span></a> <a id="p:101" class="idref" href="#p:101"><span class="id" title="binder">p</span></a> <a id="va:102" class="idref" href="#va:102"><span class="id" title="binder">va</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:101"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:102"><span class="id" title="variable">va</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE._code_own_persistent" class="idref" href="#SimpleCPP_BASE._code_own_persistent"><span class="id" title="instance">_code_own_persistent</span></a> <a id="p:103" class="idref" href="#p:103"><span class="id" title="binder">p</span></a> <a id="f:104" class="idref" href="#f:104"><span class="id" title="binder">f</span></a> : <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE._code_own"><span class="id" title="definition">_code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:103"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:104"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE._code_own_affine" class="idref" href="#SimpleCPP_BASE._code_own_affine"><span class="id" title="instance">_code_own_affine</span></a> <a id="p:105" class="idref" href="#p:105"><span class="id" title="binder">p</span></a> <a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a> : <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE._code_own"><span class="id" title="definition">_code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:106"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_BASE._code_own_timeless" class="idref" href="#SimpleCPP_BASE._code_own_timeless"><span class="id" title="instance">_code_own_timeless</span></a> <a id="p:107" class="idref" href="#p:107"><span class="id" title="binder">p</span></a> <a id="f:108" class="idref" href="#f:108"><span class="id" title="binder">f</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE._code_own"><span class="id" title="definition">_code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:108"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Typeclasses</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="var">mem_inj_own</span> <span class="id" title="var">_code_own</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE"><span class="id" title="module">SimpleCPP_BASE</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;provide&nbsp;an&nbsp;instance&nbsp;for&nbsp;this.&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="SimpleCPP_VIRTUAL" class="idref" href="#SimpleCPP_VIRTUAL"><span class="id" title="module">SimpleCPP_VIRTUAL</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE"><span class="id" title="module">SimpleCPP_BASE</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="SimpleCPP_VIRTUAL.vbyte" class="idref" href="#SimpleCPP_VIRTUAL.vbyte"><span class="id" title="axiom">vbyte</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">`{</span><a id="cpp_logic0:111" class="idref" href="#cpp_logic0:111"><span class="id" title="binder">!</span></a><a id="cpp_logic0:111" class="idref" href="#cpp_logic0:111"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:109" class="idref" href="#thread_info:109"><span class="id" title="binder"><span id="cpp_logic0:111" class="id">thread_info</span></span></a> <a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder"><span id="cpp_logic0:111" class="id">Σ</span></span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="va:112" class="idref" href="#va:112"><span class="id" title="binder">va</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>) (<a id="rv:113" class="idref" href="#rv:113"><span class="id" title="binder">rv</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>) (<a id="q:114" class="idref" href="#q:114"><span class="id" title="binder">q</span></a> : <span class="id" title="record">Qp</span><span class="id" title="notation">),</span> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP_VIRTUAL.with_cpp" class="idref" href="#SimpleCPP_VIRTUAL.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:118" class="idref" href="#H:118"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP_VIRTUAL.vbyte_fractional" class="idref" href="#SimpleCPP_VIRTUAL.vbyte_fractional"><span class="id" title="axiom">vbyte_fractional</span></a> : <span class="id" title="notation">forall</span> <a id="va:119" class="idref" href="#va:119"><span class="id" title="binder">va</span></a> <a id="rv:120" class="idref" href="#rv:120"><span class="id" title="binder">rv</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Fractional</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte"><span class="id" title="axiom">vbyte</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:119"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:120"><span class="id" title="variable">rv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP_VIRTUAL.vbyte_timeless" class="idref" href="#SimpleCPP_VIRTUAL.vbyte_timeless"><span class="id" title="axiom">vbyte_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="va:122" class="idref" href="#va:122"><span class="id" title="binder">va</span></a> <a id="rv:123" class="idref" href="#rv:123"><span class="id" title="binder">rv</span></a> <a id="q:124" class="idref" href="#q:124"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte"><span class="id" title="axiom">vbyte</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:122"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:123"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:124"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte_fractional"><span class="id" title="axiom">vbyte_fractional</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte_timeless"><span class="id" title="axiom">vbyte_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP_VIRTUAL.vbytes" class="idref" href="#SimpleCPP_VIRTUAL.vbytes"><span class="id" title="definition">vbytes</span></a> (<a id="a:126" class="idref" href="#a:126"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>) (<a id="rv:127" class="idref" href="#rv:127"><span class="id" title="binder">rv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>) (<a id="q:128" class="idref" href="#q:128"><span class="id" title="binder">q</span></a> : <span class="id" title="record">Qp</span>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[∗</span><span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:129" class="idref" href="#o:129"><span class="id" title="binder"><span id="o:130" class="id">o</span></span></a> <span class="id" title="notation">↦</span> <a id="v:131" class="idref" href="#v:131"><span class="id" title="binder"><span id="v:132" class="id">v</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:127"><span class="id" title="variable">rv</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte"><span class="id" title="axiom">vbyte</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:126"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:129"><span class="id" title="variable">o</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:131"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:128"><span class="id" title="variable">q</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_VIRTUAL.vbytes_fractional" class="idref" href="#SimpleCPP_VIRTUAL.vbytes_fractional"><span class="id" title="instance">vbytes_fractional</span></a> <a id="va:133" class="idref" href="#va:133"><span class="id" title="binder">va</span></a> <a id="rv:134" class="idref" href="#rv:134"><span class="id" title="binder">rv</span></a> : <span class="id" title="class">Fractional</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbytes"><span class="id" title="definition">vbytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:133"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:134"><span class="id" title="variable">rv</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="instance">fractional_big_sepL</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbyte_fractional"><span class="id" title="axiom">vbyte_fractional</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_VIRTUAL.vbytes_as_fractional" class="idref" href="#SimpleCPP_VIRTUAL.vbytes_as_fractional"><span class="id" title="instance">vbytes_as_fractional</span></a> <a id="va:135" class="idref" href="#va:135"><span class="id" title="binder">va</span></a> <a id="rv:136" class="idref" href="#rv:136"><span class="id" title="binder">rv</span></a> <a id="q:137" class="idref" href="#q:137"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">AsFractional</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbytes"><span class="id" title="definition">vbytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:135"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:136"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:137"><span class="id" title="variable">q</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbytes"><span class="id" title="definition">vbytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:135"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:136"><span class="id" title="variable">rv</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:137"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="constructor">Build_AsFractional</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP_VIRTUAL.vbytes_timeless" class="idref" href="#SimpleCPP_VIRTUAL.vbytes_timeless"><span class="id" title="instance">vbytes_timeless</span></a> <a id="va:138" class="idref" href="#va:138"><span class="id" title="binder">va</span></a> <a id="rv:139" class="idref" href="#rv:139"><span class="id" title="binder">rv</span></a> <a id="q:140" class="idref" href="#q:140"><span class="id" title="binder">q</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.vbytes"><span class="id" title="definition">vbytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:138"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:139"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:140"><span class="id" title="variable">q</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL"><span class="id" title="module">SimpleCPP_VIRTUAL</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="SimpleCPP" class="idref" href="#SimpleCPP"><span class="id" title="module">SimpleCPP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE"><span class="id" title="module">SimpleCPP_BASE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_VIRTUAL"><span class="id" title="module">SimpleCPP_VIRTUAL</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.runtime_val" class="idref" href="#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val'"><span class="id" title="inductive">runtime_val'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="SimpleCPP.live_alloc_id" class="idref" href="#SimpleCPP.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">`{</span><a id="cpp_logic0:143" class="idref" href="#cpp_logic0:143"><span class="id" title="binder">!</span></a><a id="cpp_logic0:143" class="idref" href="#cpp_logic0:143"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:141" class="idref" href="#thread_info:141"><span class="id" title="binder"><span id="cpp_logic0:143" class="id">thread_info</span></span></a> <a id="84fbbde278cb15893f039d5cd87bc809" class="idref" href="#84fbbde278cb15893f039d5cd87bc809"><span class="id" title="binder"><span id="cpp_logic0:143" class="id">Σ</span></span></a><span class="id" title="notation">},</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp" class="idref" href="#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:147" class="idref" href="#H:147"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.live_alloc_id_timeless" class="idref" href="#SimpleCPP.live_alloc_id_timeless"><span class="id" title="axiom">live_alloc_id_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="aid:148" class="idref" href="#aid:148"><span class="id" title="binder">aid</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aid:148"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_alloc_id_timeless"><span class="id" title="axiom">live_alloc_id_timeless</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.live_ptr" class="idref" href="#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> (<a id="p:150" class="idref" href="#p:150"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">default</span> <span class="id" title="notation">False</span>%<span class="id" title="var">I</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_alloc_id"><span class="id" title="axiom">live_alloc_id</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:150"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.nullptr_live" class="idref" href="#SimpleCPP.nullptr_live"><span class="id" title="axiom">nullptr_live</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Typeclasses Opaque</span> <span class="id" title="var">live_ptr</span>.<br/>

<br/>
</div>

<div class="doc">
pointer validity  Pointers past the end of an object/array can be valid; see
    https://eel.is/c++draft/expr.add4 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.in_range" class="idref" href="#SimpleCPP.in_range"><span class="id" title="definition">in_range</span></a> (<a id="vt:152" class="idref" href="#vt:152"><span class="id" title="binder">vt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#validity_type"><span class="id" title="inductive">validity_type</span></a>) (<a id="l:153" class="idref" href="#l:153"><span class="id" title="binder">l</span></a> <a id="o:154" class="idref" href="#o:154"><span class="id" title="binder">o</span></a> <a id="h:155" class="idref" href="#h:155"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:153"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:154"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:155"><span class="id" title="variable">h</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:152"><span class="id" title="variable">vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:154"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:155"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.in_range_weaken" class="idref" href="#SimpleCPP.in_range_weaken"><span class="id" title="lemma">in_range_weaken</span></a> <a id="l:156" class="idref" href="#l:156"><span class="id" title="binder">l</span></a> <a id="o:157" class="idref" href="#o:157"><span class="id" title="binder">o</span></a> <a id="h:158" class="idref" href="#h:158"><span class="id" title="binder">h</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_range"><span class="id" title="definition">in_range</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:156"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:157"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:158"><span class="id" title="variable">h</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_range"><span class="id" title="definition">in_range</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:156"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:157"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:158"><span class="id" title="variable">h</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_range"><span class="id" title="definition">in_range</span></a>/=. <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">rewrite</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>. <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP._valid_ptr" class="idref" href="#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a id="vt:159" class="idref" href="#vt:159"><span class="id" title="binder">vt</span></a> (<a id="p:160" class="idref" href="#p:160"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:159"><span class="id" title="variable">vt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">\\//</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="base:161" class="idref" href="#base:161"><span class="id" title="binder">base</span></a> <a id="l:162" class="idref" href="#l:162"><span class="id" title="binder">l</span></a> <a id="h:163" class="idref" href="#h:163"><span class="id" title="binder">h</span></a> <a id="o:164" class="idref" href="#o:164"><span class="id" title="binder">o</span></a> <a id="zo:165" class="idref" href="#zo:165"><span class="id" title="binder">zo</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.blocks_own"><span class="id" title="definition">blocks_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:161"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:162"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:163"><span class="id" title="variable">h</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_range"><span class="id" title="definition">in_range</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:159"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#l:162"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#zo:165"><span class="id" title="variable">zo</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:163"><span class="id" title="variable">h</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;XXX&nbsp;this&nbsp;is&nbsp;wrong:&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;shouldn't&nbsp;take&nbsp;a&nbsp;genv.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="resolve:166" class="idref" href="#resolve:166"><span class="id" title="binder">resolve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:166"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:164"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#zo:165"><span class="id" title="variable">zo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:161"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:164"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.strict_valid_ptr" class="idref" href="#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;relaxed&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.valid_ptr" class="idref" href="#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP._valid_ptr_persistent" class="idref" href="#SimpleCPP._valid_ptr_persistent"><span class="id" title="instance">_valid_ptr_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="b:167" class="idref" href="#b:167"><span class="id" title="binder">b</span></a> <a id="p:168" class="idref" href="#p:168"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:167"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:168"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP._valid_ptr_affine" class="idref" href="#SimpleCPP._valid_ptr_affine"><span class="id" title="instance">_valid_ptr_affine</span></a> : <span class="id" title="notation">forall</span> <a id="b:169" class="idref" href="#b:169"><span class="id" title="binder">b</span></a> <a id="p:170" class="idref" href="#p:170"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:169"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:170"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP._valid_ptr_timeless" class="idref" href="#SimpleCPP._valid_ptr_timeless"><span class="id" title="instance">_valid_ptr_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="b:171" class="idref" href="#b:171"><span class="id" title="binder">b</span></a> <a id="p:172" class="idref" href="#p:172"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:171"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:172"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Needs&nbsp;validity&nbsp;to&nbsp;exclude&nbsp;non-null&nbsp;pointers&nbsp;with&nbsp;0&nbsp;addresses&nbsp;but<br/>
&nbsp;&nbsp;&nbsp;&nbsp;non-null&nbsp;provenance&nbsp;(which&nbsp;can&nbsp;be&nbsp;created&nbsp;by&nbsp;pointer&nbsp;arithmetic!)&nbsp;as<br/>
&nbsp;&nbsp;&nbsp;&nbsp;invalid.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.same_address_eq_null" class="idref" href="#SimpleCPP.same_address_eq_null"><span class="id" title="lemma">same_address_eq_null</span></a> <a id="p:173" class="idref" href="#p:173"><span class="id" title="binder">p</span></a> <a id="tv:174" class="idref" href="#tv:174"><span class="id" title="binder">tv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tv:174"><span class="id" title="variable">tv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:173"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.same_address"><span class="id" title="definition">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:173"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:173"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.same_address_eq"><span class="id" title="lemma">same_address_eq</span></a>; <span class="id" title="var">iIntros</span> "[[-&gt; _]|H]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ |<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (?????) "(_ &amp; _ &amp; _ &amp; %Hne)"]; <span class="id" title="var">iIntros</span> "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_nullptr"><span class="id" title="lemma">ptr_vaddr_nullptr</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">intros</span> -&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_nullptr"><span class="id" title="lemma">ptr_vaddr_nullptr</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.valid_ptr_nullptr" class="idref" href="#SimpleCPP.valid_ptr_nullptr"><span class="id" title="lemma">valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iLeft</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.not_strictly_valid_ptr_nullptr" class="idref" href="#SimpleCPP.not_strictly_valid_ptr_nullptr"><span class="id" title="lemma">not_strictly_valid_ptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "[[_ %]|H] /="; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (?????) "(_ &amp; _ &amp; _ &amp; %Hne)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Typeclasses Opaque</span> <span class="id" title="var">_valid_ptr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.strict_valid_valid" class="idref" href="#SimpleCPP.strict_valid_valid"><span class="id" title="lemma">strict_valid_valid</span></a> <a id="p:175" class="idref" href="#p:175"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:175"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:175"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a>/=; <span class="id" title="var">f_equiv</span>. { <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!%" ([<span class="id" title="var">_</span> ?]). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_range_weaken"><span class="id" title="lemma">in_range_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.valid_ptr_alloc_id" class="idref" href="#SimpleCPP.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a> : <span class="id" title="notation">forall</span> <a id="p:176" class="idref" href="#p:176"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:176"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_alloc_id"><span class="id" title="definition">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:176"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
</div>

<div class="doc">
This is a very simplistic definition of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a></span>.
    A more useful definition should probably not be persistent. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.provides_storage" class="idref" href="#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> (<a id="storage_ptr:178" class="idref" href="#storage_ptr:178"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:179" class="idref" href="#obj_ptr:179"><span class="id" title="binder">obj_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.same_address"><span class="id" title="definition">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:178"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:179"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:178"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:179"><span class="id" title="variable">obj_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_persistent" class="idref" href="#SimpleCPP.provides_storage_persistent"><span class="id" title="instance">provides_storage_persistent</span></a> <a id="storage_ptr:180" class="idref" href="#storage_ptr:180"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:181" class="idref" href="#obj_ptr:181"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:182" class="idref" href="#ty:182"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:180"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:181"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:182"><span class="id" title="variable">ty</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_affine" class="idref" href="#SimpleCPP.provides_storage_affine"><span class="id" title="instance">provides_storage_affine</span></a> <a id="storage_ptr:183" class="idref" href="#storage_ptr:183"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:184" class="idref" href="#obj_ptr:184"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:185" class="idref" href="#ty:185"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:183"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:184"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:185"><span class="id" title="variable">ty</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_timeless" class="idref" href="#SimpleCPP.provides_storage_timeless"><span class="id" title="instance">provides_storage_timeless</span></a> <a id="storage_ptr:186" class="idref" href="#storage_ptr:186"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:187" class="idref" href="#obj_ptr:187"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:188" class="idref" href="#ty:188"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:186"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:187"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:188"><span class="id" title="variable">ty</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_same_address" class="idref" href="#SimpleCPP.provides_storage_same_address"><span class="id" title="instance">provides_storage_same_address</span></a> <a id="storage_ptr:189" class="idref" href="#storage_ptr:189"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:190" class="idref" href="#obj_ptr:190"><span class="id" title="binder">obj_ptr</span></a> <a id="ty:191" class="idref" href="#ty:191"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.same_address"><span class="id" title="definition">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:189"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:190"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:189"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:190"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:191"><span class="id" title="variable">ty</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_valid_storage_ptr" class="idref" href="#SimpleCPP.provides_storage_valid_storage_ptr"><span class="id" title="instance">provides_storage_valid_storage_ptr</span></a> <a id="storage_ptr:192" class="idref" href="#storage_ptr:192"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:193" class="idref" href="#obj_ptr:193"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:194" class="idref" href="#aty:194"><span class="id" title="binder">aty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:192"><span class="id" title="variable">storage_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:192"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:193"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aty:194"><span class="id" title="variable">aty</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.provides_storage_valid_obj_ptr" class="idref" href="#SimpleCPP.provides_storage_valid_obj_ptr"><span class="id" title="instance">provides_storage_valid_obj_ptr</span></a> <a id="storage_ptr:195" class="idref" href="#storage_ptr:195"><span class="id" title="binder">storage_ptr</span></a> <a id="obj_ptr:196" class="idref" href="#obj_ptr:196"><span class="id" title="binder">obj_ptr</span></a> <a id="aty:197" class="idref" href="#aty:197"><span class="id" title="binder">aty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:196"><span class="id" title="variable">obj_ptr</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.provides_storage"><span class="id" title="definition">provides_storage</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#storage_ptr:195"><span class="id" title="variable">storage_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#obj_ptr:196"><span class="id" title="variable">obj_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aty:197"><span class="id" title="variable">aty</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp.with_genv" class="idref" href="#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="159f639eaacaac9dc5e865f81bbb0a9b" class="idref" href="#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="SimpleCPP.with_cpp.with_genv.POINTER_BITSZ" class="idref" href="#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bitsize"><span class="id" title="inductive">bitsize</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#pointer_size_bitsize"><span class="id" title="projection">pointer_size_bitsize</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.POINTER_BYTES" class="idref" href="#SimpleCPP.POINTER_BYTES"><span class="id" title="abbreviation">POINTER_BYTES</span></a> := (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.aptr" class="idref" href="#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> (<a id="p:199" class="idref" href="#p:199"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rpointer_chunk"><span class="id" title="constructor">Rpointer_chunk</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:199"><span class="id" title="variable">p</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.POINTER_BYTES"><span class="id" title="abbreviation">POINTER_BYTES</span></a><span class="id" title="notation">)</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.Z_to_bytes" class="idref" href="#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.cptr" class="idref" href="#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> (<a id="a:200" class="idref" href="#a:200"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#Unsigned"><span class="id" title="constructor">Unsigned</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:200"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.length_aptr" class="idref" href="#SimpleCPP.length_aptr"><span class="id" title="lemma">length_aptr</span></a> <a id="p:201" class="idref" href="#p:201"><span class="id" title="binder">p</span></a> : <span class="id" title="abbreviation">length</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:201"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.POINTER_BYTES"><span class="id" title="abbreviation">POINTER_BYTES</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <span class="id" title="lemma">fmap_length</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#seq_length"><span class="id" title="lemma">seq_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.length_cptr" class="idref" href="#SimpleCPP.length_cptr"><span class="id" title="lemma">length_cptr</span></a> <a id="a:202" class="idref" href="#a:202"><span class="id" title="binder">a</span></a> : <span class="id" title="abbreviation">length</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:202"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.POINTER_BYTES"><span class="id" title="abbreviation">POINTER_BYTES</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.length_Z_to_bytes"><span class="id" title="lemma">length_Z_to_bytes</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytesNat_pos" class="idref" href="#SimpleCPP.bytesNat_pos"><span class="id" title="lemma">bytesNat_pos</span></a> <a id="b:203" class="idref" href="#b:203"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:203"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">b</span> =&gt;/=; <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytesNat_nnonnull" class="idref" href="#SimpleCPP.bytesNat_nnonnull"><span class="id" title="lemma">bytesNat_nnonnull</span></a> <a id="b:204" class="idref" href="#b:204"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:204"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_pos"><span class="id" title="lemma">bytesNat_pos</span></a> <span class="id" title="var">b</span>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">bytesNat_nnonnull</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytesNat_nnonnull'" class="idref" href="#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a> <a id="b:205" class="idref" href="#b:205"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:205"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:205"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">Nat.succ_pred</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull"><span class="id" title="lemma">bytesNat_nnonnull</span></a> <span class="id" title="var">_</span>)). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.list_not_nil_cons" class="idref" href="#SimpleCPP.list_not_nil_cons"><span class="id" title="lemma">list_not_nil_cons</span></a> {<a id="T:206" class="idref" href="#T:206"><span class="id" title="binder">T</span></a>} (<a id="xs:207" class="idref" href="#xs:207"><span class="id" title="binder">xs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#T:206"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#xs:207"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="h:208" class="idref" href="#h:208"><span class="id" title="binder">h</span></a> <a id="t:209" class="idref" href="#t:209"><span class="id" title="binder">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#xs:207"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#h:208"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:209"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">xs</span> =&gt; //= <span class="id" title="var">x</span> <span class="id" title="var">xs</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP._Z_to_bytes_cons" class="idref" href="#SimpleCPP._Z_to_bytes_cons"><span class="id" title="lemma">_Z_to_bytes_cons</span></a> <a id="n:210" class="idref" href="#n:210"><span class="id" title="binder">n</span></a> <a id="x:211" class="idref" href="#x:211"><span class="id" title="binder">x</span></a> <a id="y:212" class="idref" href="#y:212"><span class="id" title="binder">y</span></a> <a id="z:213" class="idref" href="#z:213"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:210"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:214" class="idref" href="#a:214"><span class="id" title="binder">a</span></a> <a id="b:215" class="idref" href="#b:215"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes"><span class="id" title="definition">_Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:210"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#x:211"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#y:212"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:213"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:215"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.list_not_nil_cons"><span class="id" title="lemma">list_not_nil_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">Nat.succ_pred</span></a> <span class="id" title="var">n</span> <span class="id" title="var">Hne</span>) {<span class="id" title="var">Hne</span>} <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes_eq"><span class="id" title="definition">_Z_to_bytes_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes_def"><span class="id" title="definition">_Z_to_bytes_def</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">x</span> =&gt; //= <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_cons_not_nil"><span class="id" title="lemma">app_cons_not_nil</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a>, <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.Z_to_bytes_cons" class="idref" href="#SimpleCPP.Z_to_bytes_cons"><span class="id" title="lemma">Z_to_bytes_cons</span></a> <a id="bs:216" class="idref" href="#bs:216"><span class="id" title="binder">bs</span></a> <a id="x:217" class="idref" href="#x:217"><span class="id" title="binder">x</span></a> <a id="y:218" class="idref" href="#y:218"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="a:219" class="idref" href="#a:219"><span class="id" title="binder">a</span></a> <a id="b:220" class="idref" href="#b:220"><span class="id" title="binder">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bs:216"><span class="id" title="variable">bs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#x:217"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#y:218"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rval"><span class="id" title="constructor">Rval</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:219"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:220"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._Z_to_bytes_cons"><span class="id" title="lemma">_Z_to_bytes_cons</span></a> <span class="id" title="keyword">as</span> (? &amp; ? &amp; -&gt;) =&gt; //; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.cptr_ne_aptr" class="idref" href="#SimpleCPP.cptr_ne_aptr"><span class="id" title="lemma">cptr_ne_aptr</span></a> <a id="p:221" class="idref" href="#p:221"><span class="id" title="binder">p</span></a> <a id="n:222" class="idref" href="#n:222"><span class="id" title="binder">n</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:222"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:221"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes_cons"><span class="id" title="lemma">Z_to_bytes_cons</span></a> <span class="id" title="keyword">as</span> (? &amp; ? &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
WRT pointer equality, see https://eel.is/c++draft/expr.eq3 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.pure_encodes_undef" class="idref" href="#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> (<a id="n:223" class="idref" href="#n:223"><span class="id" title="binder">n</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bitsize"><span class="id" title="inductive">bitsize</span></a>) (<a id="vs:224" class="idref" href="#vs:224"><span class="id" title="binder">vs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:224"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rundef"><span class="id" title="constructor">Rundef</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:223"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.length_pure_encodes_undef" class="idref" href="#SimpleCPP.length_pure_encodes_undef"><span class="id" title="lemma">length_pure_encodes_undef</span></a> <a id="n:225" class="idref" href="#n:225"><span class="id" title="binder">n</span></a> <a id="vs:226" class="idref" href="#vs:226"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:225"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:226"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:226"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:225"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> =&gt; -&gt;. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#repeat_length"><span class="id" title="lemma">repeat_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.in_Z_to_bytes_bounds" class="idref" href="#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> (<a id="cnt':227" class="idref" href="#cnt':227"><span class="id" title="binder">cnt'</span></a> : <a class="idref" href="bedrock.lang.cpp.arith.types.html#bitsize"><span class="id" title="inductive">bitsize</span></a>) <a id="sgn:228" class="idref" href="#sgn:228"><span class="id" title="binder">sgn</span></a> <a id="z:229" class="idref" href="#z:229"><span class="id" title="binder">z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cnt:230" class="idref" href="#cnt:230"><span class="id" title="binder">cnt</span></a> := <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt':227"><span class="id" title="variable">cnt'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:228"><span class="id" title="variable">sgn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.arith.types.html#Signed"><span class="id" title="constructor">Signed</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">(</span></a>8 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:230"><span class="id" title="variable">cnt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">)</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:229"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:229"><span class="id" title="variable">z</span></a> <span class="id" title="notation">≤</span> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">(</span></a>8 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:230"><span class="id" title="variable">cnt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.arith.types.html#Unsigned"><span class="id" title="constructor">Unsigned</span></a> =&gt; (0 <span class="id" title="notation">≤</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:229"><span class="id" title="variable">z</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:229"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">(</span></a>8 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:230"><span class="id" title="variable">cnt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP._Z_to_bytes_inj_1" class="idref" href="#SimpleCPP._Z_to_bytes_inj_1"><span class="id" title="lemma">_Z_to_bytes_inj_1</span></a> <a id="cnt:232" class="idref" href="#cnt:232"><span class="id" title="binder">cnt</span></a> <a id="endianness:233" class="idref" href="#endianness:233"><span class="id" title="binder">endianness</span></a> <a id="sgn:234" class="idref" href="#sgn:234"><span class="id" title="binder">sgn</span></a> <a id="z:235" class="idref" href="#z:235"><span class="id" title="binder">z</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:232"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:234"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:235"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_from_bytes"><span class="id" title="definition">_Z_from_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#endianness:233"><span class="id" title="variable">endianness</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:234"><span class="id" title="variable">sgn</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes"><span class="id" title="definition">_Z_to_bytes</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:232"><span class="id" title="variable">cnt</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#endianness:233"><span class="id" title="variable">endianness</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:234"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:235"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:235"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_from_to_bytes_roundtrip"><span class="id" title="lemma">_Z_from_to_bytes_roundtrip</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP._Z_to_bytes_inj_2" class="idref" href="#SimpleCPP._Z_to_bytes_inj_2"><span class="id" title="lemma">_Z_to_bytes_inj_2</span></a> <a id="cnt:236" class="idref" href="#cnt:236"><span class="id" title="binder">cnt</span></a> <a id="endianness:237" class="idref" href="#endianness:237"><span class="id" title="binder">endianness</span></a> <a id="sgn:238" class="idref" href="#sgn:238"><span class="id" title="binder">sgn</span></a> <a id="z1:239" class="idref" href="#z1:239"><span class="id" title="binder">z1</span></a> <a id="z2:240" class="idref" href="#z2:240"><span class="id" title="binder">z2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:236"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:238"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:239"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:236"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:238"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:240"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes"><span class="id" title="definition">_Z_to_bytes</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:236"><span class="id" title="variable">cnt</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#endianness:237"><span class="id" title="variable">endianness</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:238"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:239"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_to_bytes"><span class="id" title="definition">_Z_to_bytes</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:236"><span class="id" title="variable">cnt</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#endianness:237"><span class="id" title="variable">endianness</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:238"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:240"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:239"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:240"><span class="id" title="variable">z2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hb1</span> <span class="id" title="var">Hb2</span> <span class="id" title="var">Heq</span>%(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<a class="idref" href="bedrock.lang.cpp.arith.z_to_bytes.html#_Z_from_bytes"><span class="id" title="definition">_Z_from_bytes</span></a> <span class="id" title="var">endianness</span> <span class="id" title="var">sgn</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Heq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._Z_to_bytes_inj_1"><span class="id" title="lemma">_Z_to_bytes_inj_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span>: <span class="id" title="class">Inj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rval"><span class="id" title="constructor">Rval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">injection</span> 1. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.Z_to_bytes_inj" class="idref" href="#SimpleCPP.Z_to_bytes_inj"><span class="id" title="lemma">Z_to_bytes_inj</span></a> <a id="cnt:241" class="idref" href="#cnt:241"><span class="id" title="binder">cnt</span></a> <a id="sgn:242" class="idref" href="#sgn:242"><span class="id" title="binder">sgn</span></a> <a id="z1:243" class="idref" href="#z1:243"><span class="id" title="binder">z1</span></a> <a id="z2:244" class="idref" href="#z2:244"><span class="id" title="binder">z2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:241"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:242"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:243"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:241"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:242"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:244"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:241"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:242"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:243"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cnt:241"><span class="id" title="variable">cnt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:242"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:244"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z1:243"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z2:244"><span class="id" title="variable">z2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hb1</span> <span class="id" title="var">Hb2</span> <span class="id" title="var">Heq</span>%(<span class="id" title="definition">inj</span> (<span class="id" title="definition">fmap</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rval"><span class="id" title="constructor">Rval</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._Z_to_bytes_inj_2"><span class="id" title="lemma">_Z_to_bytes_inj_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.pure_encodes" class="idref" href="#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a> (<a id="t:245" class="idref" href="#t:245"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="v:246" class="idref" href="#v:246"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) (<a id="vs:247" class="idref" href="#vs:247"><span class="id" title="binder">vs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:245"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <span class="id" title="var">sz</span> <span class="id" title="var">sgn</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vint"><span class="id" title="constructor">Vint</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <span class="id" title="var">sz</span> <span class="id" title="var">sgn</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <span class="id" title="var">sz</span> <span class="id" title="var">sgn</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vundef"><span class="id" title="constructor">Vundef</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <span class="id" title="var">sz</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tchar_"><span class="id" title="constructor">Tchar_</span></a> <span class="id" title="var">ct</span> =&gt; <span class="id" title="notation">False</span> <span class="comment">(*&nbsp;TODO&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tmember_pointer"><span class="id" title="constructor">Tmember_pointer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vint"><span class="id" title="constructor">Vint</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;note:&nbsp;this&nbsp;is&nbsp;really&nbsp;an&nbsp;offset&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.in_Z_to_bytes_bounds"><span class="id" title="definition">in_Z_to_bytes_bounds</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#Unsigned"><span class="id" title="constructor">Unsigned</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#Unsigned"><span class="id" title="constructor">Unsigned</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vundef"><span class="id" title="constructor">Vundef</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tbool"><span class="id" title="constructor">Tbool</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">decide</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vint"><span class="id" title="constructor">Vint</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rval"><span class="id" title="constructor">Rval</span></a> 0%<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">decide</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vint"><span class="id" title="constructor">Vint</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Rval"><span class="id" title="constructor">Rval</span></a> 1%<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfloat_"><span class="id" title="constructor">Tfloat_</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tarch"><span class="id" title="constructor">Tarch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tpointer"><span class="id" title="abbreviation">Tpointer</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <span class="id" title="var">p</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">decide</span> (<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:246"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <span class="id" title="var">p</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vundef"><span class="id" title="constructor">Vundef</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:247"><span class="id" title="variable">vs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span> <span class="comment">(*&nbsp;&lt;&lt;&nbsp;TODO:&nbsp;incorrect&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span> <span class="comment">(*&nbsp;unreachable&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tincomplete_array"><span class="id" title="constructor">Tincomplete_array</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvariable_array"><span class="id" title="constructor">Tvariable_array</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span> <span class="comment">(*&nbsp;not&nbsp;directly&nbsp;encoded&nbsp;in&nbsp;memory&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.encodes" class="idref" href="#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> (<a id="t:254" class="idref" href="#t:254"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="v:255" class="idref" href="#v:255"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) (<a id="vs:256" class="idref" href="#vs:256"><span class="id" title="binder">vs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:254"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:255"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:256"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_persistent" class="idref" href="#SimpleCPP.encodes_persistent"><span class="id" title="instance">encodes_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="t:257" class="idref" href="#t:257"><span class="id" title="binder">t</span></a> <a id="v:258" class="idref" href="#v:258"><span class="id" title="binder">v</span></a> <a id="vs:259" class="idref" href="#vs:259"><span class="id" title="binder">vs</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:257"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:258"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:259"><span class="id" title="variable">vs</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_timeless" class="idref" href="#SimpleCPP.encodes_timeless"><span class="id" title="instance">encodes_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="t:260" class="idref" href="#t:260"><span class="id" title="binder">t</span></a> <a id="v:261" class="idref" href="#v:261"><span class="id" title="binder">v</span></a> <a id="a:262" class="idref" href="#a:262"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:260"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:261"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:262"><span class="id" title="variable">a</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">length_Z_to_bytes</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">length_aptr</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">length_cptr</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">length_pure_encodes_undef</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_nonvoid" class="idref" href="#SimpleCPP.encodes_nonvoid"><span class="id" title="instance">encodes_nonvoid</span></a> <a id="t:263" class="idref" href="#t:263"><span class="id" title="binder">t</span></a> <a id="v:264" class="idref" href="#v:264"><span class="id" title="binder">v</span></a> <a id="vs:265" class="idref" href="#vs:265"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:263"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:263"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:264"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:265"><span class="id" title="variable">vs</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_persistent"><span class="id" title="lemma">observe_intro_persistent</span></a>; <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.length_encodes" class="idref" href="#SimpleCPP.length_encodes"><span class="id" title="lemma">length_encodes</span></a> <a id="t:266" class="idref" href="#t:266"><span class="id" title="binder">t</span></a> <a id="v:267" class="idref" href="#v:267"><span class="id" title="binder">v</span></a> <a id="vs:268" class="idref" href="#vs:268"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:266"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:267"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:268"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:268"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:266"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tbool"><span class="id" title="constructor">Tbool</span></a> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <span class="id" title="var">sz</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.arith.types.html#bytesNat"><span class="id" title="definition">bytesNat</span></a> <span class="id" title="var">sz</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tmember_pointer"><span class="id" title="constructor">Tmember_pointer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tpointer"><span class="id" title="abbreviation">Tpointer</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.POINTER_BYTES"><span class="id" title="abbreviation">POINTER_BYTES</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; 1	<span class="comment">(*&nbsp;dummy&nbsp;for&nbsp;absurd&nbsp;case,&nbsp;but&nbsp;useful&nbsp;for&nbsp;length_encodes_pos.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a> =&gt; ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <span class="id" title="var">_</span>) =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> =&gt; //; <span class="id" title="var">destruct_and</span>? =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.length_encodes_pos" class="idref" href="#SimpleCPP.length_encodes_pos"><span class="id" title="lemma">length_encodes_pos</span></a> <a id="t:269" class="idref" href="#t:269"><span class="id" title="binder">t</span></a> <a id="v:270" class="idref" href="#v:270"><span class="id" title="binder">v</span></a> <a id="vs:271" class="idref" href="#vs:271"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:269"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:270"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:271"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:271"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.length_encodes"><span class="id" title="lemma">length_encodes</span></a> -&gt;. <span class="id" title="var">have</span> ?: 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#le_n"><span class="id" title="constructor">le_n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">by</span> [ | <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_pos"><span class="id" title="lemma">bytesNat_pos</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.Inj_aptr" class="idref" href="#SimpleCPP.Inj_aptr"><span class="id" title="instance">Inj_aptr</span></a>: <span class="id" title="class">Inj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> =&gt; <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a>; <span class="id" title="var">csimpl</span> =&gt; -[? <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.pure_encodes_undef_aptr" class="idref" href="#SimpleCPP.pure_encodes_undef_aptr"><span class="id" title="lemma">pure_encodes_undef_aptr</span></a> <a id="bitsz:272" class="idref" href="#bitsz:272"><span class="id" title="binder">bitsz</span></a> <a id="p:273" class="idref" href="#p:273"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bitsz:272"><span class="id" title="variable">bitsz</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:273"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv.POINTER_BITSZ"><span class="id" title="variable">POINTER_BITSZ</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a> <span class="id" title="var">bitsz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.pure_encodes_undef_Z_to_bytes" class="idref" href="#SimpleCPP.pure_encodes_undef_Z_to_bytes"><span class="id" title="lemma">pure_encodes_undef_Z_to_bytes</span></a> <a id="bitsz:274" class="idref" href="#bitsz:274"><span class="id" title="binder">bitsz</span></a> <a id="sgn:275" class="idref" href="#sgn:275"><span class="id" title="binder">sgn</span></a> <a id="z:276" class="idref" href="#z:276"><span class="id" title="binder">z</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bitsz:274"><span class="id" title="variable">bitsz</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="abbreviation">Z_to_bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bitsz:274"><span class="id" title="variable">bitsz</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sgn:275"><span class="id" title="variable">sgn</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:276"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef"><span class="id" title="definition">pure_encodes_undef</span></a> /= <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytesNat_nnonnull'"><span class="id" title="lemma">bytesNat_nnonnull'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes_cons"><span class="id" title="lemma">Z_to_bytes_cons</span></a> <span class="id" title="keyword">as</span> (? &amp; ? &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">pure_encodes_undef_aptr</span> <span class="id" title="var">pure_encodes_undef_Z_to_bytes</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_agree" class="idref" href="#SimpleCPP.encodes_agree"><span class="id" title="instance">encodes_agree</span></a> <a id="t:277" class="idref" href="#t:277"><span class="id" title="binder">t</span></a> <a id="v1:278" class="idref" href="#v1:278"><span class="id" title="binder">v1</span></a> <a id="v2:279" class="idref" href="#v2:279"><span class="id" title="binder">v2</span></a> <a id="vs:280" class="idref" href="#vs:280"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:278"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:279"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:278"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:280"><span class="id" title="variable">vs</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:279"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:280"><span class="id" title="variable">vs</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_2_intro_persistent"><span class="id" title="lemma">observe_2_intro_persistent</span></a>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>) "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:? =&gt;//=; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">try</span> (<span class="id" title="var">case_decide</span> || <span class="id" title="var">case_match</span>); <span class="id" title="var">destruct_and</span>?; <span class="id" title="var">simplify_eq</span> =&gt; //);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr_ne_aptr"><span class="id" title="lemma">cptr_ne_aptr</span></a> | <span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef_aptr"><span class="id" title="lemma">pure_encodes_undef_aptr</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes_undef_Z_to_bytes"><span class="id" title="lemma">pure_encodes_undef_Z_to_bytes</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes_inj"><span class="id" title="lemma">Z_to_bytes_inj</span></a> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_consistent" class="idref" href="#SimpleCPP.encodes_consistent"><span class="id" title="instance">encodes_consistent</span></a> <a id="t:281" class="idref" href="#t:281"><span class="id" title="binder">t</span></a> <a id="v1:282" class="idref" href="#v1:282"><span class="id" title="binder">v1</span></a> <a id="v2:283" class="idref" href="#v2:283"><span class="id" title="binder">v2</span></a> <a id="vs1:284" class="idref" href="#vs1:284"><span class="id" title="binder">vs1</span></a> <a id="vs2:285" class="idref" href="#vs2:285"><span class="id" title="binder">vs2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:284"><span class="id" title="variable">vs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:285"><span class="id" title="variable">vs2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:281"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:282"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:284"><span class="id" title="variable">vs1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:281"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:283"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:285"><span class="id" title="variable">vs2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.length_encodes"><span class="id" title="lemma">length_encodes</span></a> -&gt; /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.length_encodes"><span class="id" title="lemma">length_encodes</span></a> -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.Z_to_bytes_proper" class="idref" href="#SimpleCPP.Z_to_bytes_proper"><span class="id" title="instance">Z_to_bytes_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.Z_to_bytes"><span class="id" title="definition">Z_to_bytes</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>σ%<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_byte_order_proper"><span class="id" title="instance">genv_byte_order_proper</span></a>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.cptr_proper" class="idref" href="#SimpleCPP.cptr_proper"><span class="id" title="instance">cptr_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.cptr"><span class="id" title="definition">cptr</span></a> =&gt; σ1 σ2 <span class="id" title="var">Heq</span> ?? -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.aptr_proper" class="idref" href="#SimpleCPP.aptr_proper"><span class="id" title="instance">aptr_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.aptr"><span class="id" title="definition">aptr</span></a> =&gt; σ1 σ2 <span class="id" title="var">Heq</span> ?? -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.encodes_proper" class="idref" href="#SimpleCPP.encodes_proper"><span class="id" title="instance">encodes_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a>; <span class="id" title="tactic">intros</span> σ1 σ2 <span class="id" title="var">Heq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> -&gt; <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> -&gt; <span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pure_encodes"><span class="id" title="definition">pure_encodes</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <span class="id" title="var">t2</span>) =&gt; //; <span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">Heq</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.val_" class="idref" href="#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> (<a id="a:286" class="idref" href="#a:286"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="v:287" class="idref" href="#v:287"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) <a id="q:288" class="idref" href="#q:288"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ghost_mem_own"><span class="id" title="definition">ghost_mem_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:286"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:288"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:287"><span class="id" title="variable">v</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.val_agree" class="idref" href="#SimpleCPP.val_agree"><span class="id" title="instance">val_agree</span></a> <a id="a:289" class="idref" href="#a:289"><span class="id" title="binder">a</span></a> <a id="v1:290" class="idref" href="#v1:290"><span class="id" title="binder">v1</span></a> <a id="v2:291" class="idref" href="#v2:291"><span class="id" title="binder">v2</span></a> <a id="q1:292" class="idref" href="#q1:292"><span class="id" title="binder">q1</span></a> <a id="q2:293" class="idref" href="#q2:293"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:290"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:291"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:289"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:290"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:292"><span class="id" title="variable">q1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:289"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:291"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:293"><span class="id" title="variable">q2</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.val_cfrac_valid" class="idref" href="#SimpleCPP.val_cfrac_valid"><span class="id" title="instance">val_cfrac_valid</span></a> <a id="a:294" class="idref" href="#a:294"><span class="id" title="binder">a</span></a> <a id="v:295" class="idref" href="#v:295"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid0"><span class="id" title="class">CFracValid0</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:294"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:295"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_cfrac_valid</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.val_cfractional" class="idref" href="#SimpleCPP.val_cfractional"><span class="id" title="instance">val_cfractional</span></a> <a id="a:296" class="idref" href="#a:296"><span class="id" title="binder">a</span></a> <a id="rv:297" class="idref" href="#rv:297"><span class="id" title="binder">rv</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:296"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:297"><span class="id" title="variable">rv</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.val_as_cfractional" class="idref" href="#SimpleCPP.val_as_cfractional"><span class="id" title="instance">val_as_cfractional</span></a> <a id="a:298" class="idref" href="#a:298"><span class="id" title="binder">a</span></a> <a id="rv:299" class="idref" href="#rv:299"><span class="id" title="binder">rv</span></a> <a id="q:300" class="idref" href="#q:300"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional"><span class="id" title="class">AsCFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:298"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:299"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:300"><span class="id" title="variable">q</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:298"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:299"><span class="id" title="variable">rv</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:300"><span class="id" title="variable">q</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.val_timeless" class="idref" href="#SimpleCPP.val_timeless"><span class="id" title="instance">val_timeless</span></a> <a id="a:301" class="idref" href="#a:301"><span class="id" title="binder">a</span></a> <a id="rv:302" class="idref" href="#rv:302"><span class="id" title="binder">rv</span></a> <a id="q:303" class="idref" href="#q:303"><span class="id" title="binder">q</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:301"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:302"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:303"><span class="id" title="variable">q</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Typeclasses Opaque</span> <span class="id" title="var">val_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.byte_" class="idref" href="#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> (<a id="a:304" class="idref" href="#a:304"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>) (<a id="rv:305" class="idref" href="#rv:305"><span class="id" title="binder">rv</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) <a id="q:306" class="idref" href="#q:306"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.heap_own"><span class="id" title="definition">heap_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:304"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:306"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:305"><span class="id" title="variable">rv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.byte_agree" class="idref" href="#SimpleCPP.byte_agree"><span class="id" title="instance">byte_agree</span></a> <a id="a:307" class="idref" href="#a:307"><span class="id" title="binder">a</span></a> <a id="v1:308" class="idref" href="#v1:308"><span class="id" title="binder">v1</span></a> <a id="v2:309" class="idref" href="#v2:309"><span class="id" title="binder">v2</span></a> <a id="q1:310" class="idref" href="#q1:310"><span class="id" title="binder">q1</span></a> <a id="q2:311" class="idref" href="#q2:311"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:308"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:309"><span class="id" title="variable">v2</span></a><a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:307"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:308"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:310"><span class="id" title="variable">q1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:307"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:309"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:311"><span class="id" title="variable">q2</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.byte_cfrac_valid" class="idref" href="#SimpleCPP.byte_cfrac_valid"><span class="id" title="instance">byte_cfrac_valid</span></a> <a id="a:312" class="idref" href="#a:312"><span class="id" title="binder">a</span></a> <a id="rv:313" class="idref" href="#rv:313"><span class="id" title="binder">rv</span></a> <a id="q:314" class="idref" href="#q:314"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:314"><span class="id" title="variable">q</span></a> <span class="id" title="notation">≤</span> 1 <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Qp</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:312"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:313"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:314"><span class="id" title="variable">q</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.byte_cfractional" class="idref" href="#SimpleCPP.byte_cfractional"><span class="id" title="instance">byte_cfractional</span></a> {<a id="a:315" class="idref" href="#a:315"><span class="id" title="binder">a</span></a> <a id="rv:316" class="idref" href="#rv:316"><span class="id" title="binder">rv</span></a>} : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:315"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:316"><span class="id" title="variable">rv</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.byte_as_fractional" class="idref" href="#SimpleCPP.byte_as_fractional"><span class="id" title="instance">byte_as_fractional</span></a> <a id="a:317" class="idref" href="#a:317"><span class="id" title="binder">a</span></a> <a id="rv:318" class="idref" href="#rv:318"><span class="id" title="binder">rv</span></a> <a id="q:319" class="idref" href="#q:319"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional"><span class="id" title="class">AsCFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:317"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:318"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:319"><span class="id" title="variable">q</span></a>) (<span class="id" title="keyword">fun</span> <a id="q:320" class="idref" href="#q:320"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:317"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:318"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:320"><span class="id" title="variable">q</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:319"><span class="id" title="variable">q</span></a> := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.byte_timeless" class="idref" href="#SimpleCPP.byte_timeless"><span class="id" title="instance">byte_timeless</span></a> {<a id="a:321" class="idref" href="#a:321"><span class="id" title="binder">a</span></a> <a id="rv:322" class="idref" href="#rv:322"><span class="id" title="binder">rv</span></a> <a id="q:323" class="idref" href="#q:323"><span class="id" title="binder">q</span></a>} : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:321"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:322"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:323"><span class="id" title="variable">q</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.byte_consistent" class="idref" href="#SimpleCPP.byte_consistent"><span class="id" title="lemma">byte_consistent</span></a> <a id="a:324" class="idref" href="#a:324"><span class="id" title="binder">a</span></a> <a id="b:325" class="idref" href="#b:325"><span class="id" title="binder">b</span></a> <a id="b':326" class="idref" href="#b':326"><span class="id" title="binder">b'</span></a> <a id="q:327" class="idref" href="#q:327"><span class="id" title="binder">q</span></a> <a id="q':328" class="idref" href="#q':328"><span class="id" title="binder">q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:324"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:325"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:327"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:324"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b':326"><span class="id" title="variable">b'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q':328"><span class="id" title="variable">q'</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:324"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:325"><span class="id" title="variable">b</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:327"><span class="id" title="variable">q</span></a> <span class="id" title="notation">⋅</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q':328"><span class="id" title="variable">q'</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b:325"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b':326"><span class="id" title="variable">b'</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hb Hb']".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_agree"><span class="id" title="instance">byte_agree</span></a> <span class="id" title="notation">with</span> "Hb Hb'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "Hb Hb'" <span class="id" title="keyword">as</span> "Hb". <span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.byte_update" class="idref" href="#SimpleCPP.byte_update"><span class="id" title="lemma">byte_update</span></a> (<a id="a:329" class="idref" href="#a:329"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>) (<a id="rv:330" class="idref" href="#rv:330"><span class="id" title="binder">rv</span></a> <a id="rv':331" class="idref" href="#rv':331"><span class="id" title="binder">rv'</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:329"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:330"><span class="id" title="variable">rv</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1)<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">|==&gt;</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:329"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv':331"><span class="id" title="variable">rv'</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.bi.own.html#own_update"><span class="id" title="lemma">own_update</span></a>, <span class="id" title="lemma">singleton_update</span>, <span class="id" title="lemma">cmra_update_exclusive</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.bytes" class="idref" href="#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> (<a id="a:332" class="idref" href="#a:332"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>) (<a id="vs:333" class="idref" href="#vs:333"><span class="id" title="binder">vs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) <a id="q:334" class="idref" href="#q:334"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[∗</span><span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="o:335" class="idref" href="#o:335"><span class="id" title="binder"><span id="o:336" class="id">o</span></span></a> <span class="id" title="notation">↦</span> <a id="v:337" class="idref" href="#v:337"><span class="id" title="binder"><span id="v:338" class="id">v</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:333"><span class="id" title="variable">vs</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:332"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:335"><span class="id" title="variable">o</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:337"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:334"><span class="id" title="variable">q</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.bytes_timeless" class="idref" href="#SimpleCPP.bytes_timeless"><span class="id" title="instance">bytes_timeless</span></a> <a id="a:339" class="idref" href="#a:339"><span class="id" title="binder">a</span></a> <a id="rv:340" class="idref" href="#rv:340"><span class="id" title="binder">rv</span></a> <a id="q:341" class="idref" href="#q:341"><span class="id" title="binder">q</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:339"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#rv:340"><span class="id" title="variable">rv</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:341"><span class="id" title="variable">q</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.bytes_fractional" class="idref" href="#SimpleCPP.bytes_fractional"><span class="id" title="instance">bytes_fractional</span></a> <a id="a:342" class="idref" href="#a:342"><span class="id" title="binder">a</span></a> <a id="vs:343" class="idref" href="#vs:343"><span class="id" title="binder">vs</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:342"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:343"><span class="id" title="variable">vs</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.bytes_as_fractional" class="idref" href="#SimpleCPP.bytes_as_fractional"><span class="id" title="instance">bytes_as_fractional</span></a> <a id="a:344" class="idref" href="#a:344"><span class="id" title="binder">a</span></a> <a id="vs:345" class="idref" href="#vs:345"><span class="id" title="binder">vs</span></a> <a id="q:346" class="idref" href="#q:346"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#AsCFractional"><span class="id" title="class">AsCFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:344"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:345"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:346"><span class="id" title="variable">q</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:344"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:345"><span class="id" title="variable">vs</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:346"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_as_cfrac</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytes_nil" class="idref" href="#SimpleCPP.bytes_nil"><span class="id" title="lemma">bytes_nil</span></a> <a id="a:347" class="idref" href="#a:347"><span class="id" title="binder">a</span></a> <a id="q:348" class="idref" href="#q:348"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:347"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:348"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <span class="id" title="notation">emp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytes_cons" class="idref" href="#SimpleCPP.bytes_cons"><span class="id" title="lemma">bytes_cons</span></a> <a id="a:349" class="idref" href="#a:349"><span class="id" title="binder">a</span></a> <a id="v:350" class="idref" href="#v:350"><span class="id" title="binder">v</span></a> <a id="vs:351" class="idref" href="#vs:351"><span class="id" title="binder">vs</span></a> <a id="q:352" class="idref" href="#q:352"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:349"><span class="id" title="variable">a</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:350"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:351"><span class="id" title="variable">vs</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:352"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_"><span class="id" title="definition">byte_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:349"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:350"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:352"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.succ"><span class="id" title="definition">N.succ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:349"><span class="id" title="variable">a</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:351"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:352"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <span class="id" title="lemma">big_sepL_cons</span> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.add_0_r"><span class="id" title="lemma">N.add_0_r</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; ?. <span class="id" title="tactic">do</span> 2 <span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">leibniz_equiv_iff</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytes_agree" class="idref" href="#SimpleCPP.bytes_agree"><span class="id" title="lemma">bytes_agree</span></a> {<a id="a:353" class="idref" href="#a:353"><span class="id" title="binder">a</span></a> <a id="vs1:354" class="idref" href="#vs1:354"><span class="id" title="binder">vs1</span></a> <a id="vs2:355" class="idref" href="#vs2:355"><span class="id" title="binder">vs2</span></a> <a id="q1:356" class="idref" href="#q1:356"><span class="id" title="binder">q1</span></a> <a id="q2:357" class="idref" href="#q2:357"><span class="id" title="binder">q2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:354"><span class="id" title="variable">vs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:355"><span class="id" title="variable">vs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:353"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:354"><span class="id" title="variable">vs1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:356"><span class="id" title="variable">q1</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:353"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:355"><span class="id" title="variable">vs2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:357"><span class="id" title="variable">q2</span></a> <span class="id" title="notation">-∗</span> <span class="id" title="notation">⌜</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:354"><span class="id" title="variable">vs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:355"><span class="id" title="variable">vs2</span></a><span class="id" title="notation">⌝</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">vs2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">vs1</span> <span class="id" title="keyword">as</span> [ |<span class="id" title="var">v</span> <span class="id" title="var">vs1</span> <span class="id" title="var">IH</span>]=&gt; <span class="id" title="var">a</span> <span class="id" title="var">vs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> -&gt;%<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a>%<span class="id" title="lemma">nil_length_inv</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vs2</span> <span class="id" title="keyword">as</span> [ |<span class="id" title="var">v'</span> <span class="id" title="var">vs2</span>]; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">intros</span> [= <span class="id" title="var">Hlen</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes_cons"><span class="id" title="lemma">bytes_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hv Hvs1] [Hv' Hvs2] /=".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_agree"><span class="id" title="instance">byte_agree</span></a> <span class="id" title="notation">with</span> "Hv Hv'"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlen</span> <span class="id" title="notation">with</span> "Hvs1 Hvs2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytes_cfrac_valid" class="idref" href="#SimpleCPP.bytes_cfrac_valid"><span class="id" title="lemma">bytes_cfrac_valid</span></a> <a id="a:358" class="idref" href="#a:358"><span class="id" title="binder">a</span></a> <a id="vs:359" class="idref" href="#vs:359"><span class="id" title="binder">vs</span></a> <a id="q:360" class="idref" href="#q:360"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:359"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:358"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:359"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:360"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:360"><span class="id" title="variable">q</span></a> <span class="id" title="notation">≤</span> 1 <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Qp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a>; <span class="id" title="tactic">case</span>: <span class="id" title="var">vs</span> =&gt; [ |<span class="id" title="var">v</span> <span class="id" title="var">vs</span> <span class="id" title="var">_</span>] /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_cfrac_valid"><span class="id" title="instance">byte_cfrac_valid</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "[% _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.bytes_update" class="idref" href="#SimpleCPP.bytes_update"><span class="id" title="lemma">bytes_update</span></a> {<a id="a:361" class="idref" href="#a:361"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>} {<a id="vs:362" class="idref" href="#vs:362"><span class="id" title="binder">vs</span></a>} <a id="vs':363" class="idref" href="#vs':363"><span class="id" title="binder">vs'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:362"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs':363"><span class="id" title="variable">vs'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:361"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:362"><span class="id" title="variable">vs</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">|==&gt;</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:361"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs':363"><span class="id" title="variable">vs'</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> -<span class="id" title="lemma">big_sepL_bupd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">vs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">v</span> <span class="id" title="var">vs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">vs'</span> <span class="id" title="var">EqL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">simplify_list_eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EqL</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EqL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">vs'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vs'</span> <span class="id" title="keyword">as</span> [ |<span class="id" title="var">v'</span> <span class="id" title="var">vs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<span class="id" title="lemma">big_sepL_cons</span>. <span class="id" title="tactic">apply</span> <span class="id" title="instance">bi.sep_mono'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.byte_update"><span class="id" title="lemma">byte_update</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPoseProof</span> (<span class="id" title="var">IH</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">N</span> <span class="id" title="var">vs'</span>) <span class="id" title="keyword">as</span> "HL".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EqL</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "By".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span>"HL" <span class="id" title="notation">with</span> "[By]"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "By";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><span class="id" title="lemma">big_sepL_mono</span> <span class="id" title="notation">with</span> "By"<span class="id" title="notation">)</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> <span class="id" title="var">k</span>)%<span class="id" title="var">N</span> //; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.mem_inj_own_agree" class="idref" href="#SimpleCPP.mem_inj_own_agree"><span class="id" title="instance">mem_inj_own_agree</span></a> <a id="p:364" class="idref" href="#p:364"><span class="id" title="binder">p</span></a> (<a id="oa1:365" class="idref" href="#oa1:365"><span class="id" title="binder">oa1</span></a> <a id="oa2:366" class="idref" href="#oa2:366"><span class="id" title="binder">oa2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa1:365"><span class="id" title="variable">oa1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa2:366"><span class="id" title="variable">oa2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:364"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa1:365"><span class="id" title="variable">oa1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:364"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa2:366"><span class="id" title="variable">oa2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> /<a class="idref" href="bedrock.lang.bi.observe.html#observe_2_intro_persistent"><span class="id" title="lemma">observe_2_intro_persistent</span></a> /<span class="id" title="lemma">bi.wand_intro_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.bi.own.html#own_op"><span class="id" title="method">own_op</span></a> <span class="id" title="lemma">singleton_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.bi.own.html#own_valid"><span class="id" title="method">own_valid</span></a> <a class="idref" href="bedrock.lang.bi.own.html#discrete_valid"><span class="id" title="lemma">discrete_valid</span></a> <span class="id" title="lemma">singleton_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!%" =&gt; /= /<span class="id" title="lemma">to_agree_op_inv_L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
heap points to 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Auxiliary&nbsp;definitions.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;They're&nbsp;not&nbsp;exported,&nbsp;so&nbsp;we&nbsp;don't&nbsp;give&nbsp;them&nbsp;a&nbsp;complete&nbsp;theory;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;however,&nbsp;some&nbsp;of&nbsp;their&nbsp;proofs&nbsp;can&nbsp;be&nbsp;done&nbsp;via&nbsp;TC&nbsp;inference&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="SimpleCPP.addr_encodes" class="idref" href="#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="90926aa4d329d1d9d577092298d5f8b6" class="idref" href="#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="t:368" class="idref" href="#t:368"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) <a id="q:369" class="idref" href="#q:369"><span class="id" title="binder">q</span></a> (<a id="a:370" class="idref" href="#a:370"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>) (<a id="v:371" class="idref" href="#v:371"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) (<a id="vs:372" class="idref" href="#vs:372"><span class="id" title="binder">vs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.runtime_val"><span class="id" title="definition">runtime_val</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes"><span class="id" title="definition">encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:368"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:371"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:372"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes"><span class="id" title="definition">bytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:370"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:372"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:369"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.vbytes"><span class="id" title="definition">vbytes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:370"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:372"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:369"><span class="id" title="variable">q</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.addr_encodes_fractional" class="idref" href="#SimpleCPP.addr_encodes_fractional"><span class="id" title="instance">addr_encodes_fractional</span></a> {<a id="775df39bee58f1ad5d4501a7268a7eb1" class="idref" href="#775df39bee58f1ad5d4501a7268a7eb1"><span class="id" title="binder">σ</span></a>} <a id="ty:374" class="idref" href="#ty:374"><span class="id" title="binder">ty</span></a> <a id="a:375" class="idref" href="#a:375"><span class="id" title="binder">a</span></a> <a id="v:376" class="idref" href="#v:376"><span class="id" title="binder">v</span></a> <a id="vs:377" class="idref" href="#vs:377"><span class="id" title="binder">vs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:378" class="idref" href="#q:378"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#775df39bee58f1ad5d4501a7268a7eb1"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:374"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:378"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:375"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:376"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:377"><span class="id" title="variable">vs</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.addr_encodes_agree_dst" class="idref" href="#SimpleCPP.addr_encodes_agree_dst"><span class="id" title="instance">addr_encodes_agree_dst</span></a> <a id="a4998a55105c630a87f4c817ff7deda7" class="idref" href="#a4998a55105c630a87f4c817ff7deda7"><span class="id" title="binder">σ</span></a> <a id="t:380" class="idref" href="#t:380"><span class="id" title="binder">t</span></a> <a id="a:381" class="idref" href="#a:381"><span class="id" title="binder">a</span></a> <a id="v1:382" class="idref" href="#v1:382"><span class="id" title="binder">v1</span></a> <a id="v2:383" class="idref" href="#v2:383"><span class="id" title="binder">v2</span></a> <a id="vs1:384" class="idref" href="#vs1:384"><span class="id" title="binder">vs1</span></a> <a id="vs2:385" class="idref" href="#vs2:385"><span class="id" title="binder">vs2</span></a> <a id="q1:386" class="idref" href="#q1:386"><span class="id" title="binder">q1</span></a> <a id="q2:387" class="idref" href="#q2:387"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:384"><span class="id" title="variable">vs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:385"><span class="id" title="variable">vs2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a4998a55105c630a87f4c817ff7deda7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:380"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:386"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:381"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:382"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:384"><span class="id" title="variable">vs1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a4998a55105c630a87f4c817ff7deda7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:380"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:387"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:381"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:383"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:385"><span class="id" title="variable">vs2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_2_intro_persistent"><span class="id" title="lemma">observe_2_intro_persistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[En1 [By1 _]] [En2 [By2 _]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.encodes_consistent"><span class="id" title="instance">encodes_consistent</span></a> <span class="id" title="notation">with</span> "En1 En2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes_agree"><span class="id" title="lemma">bytes_agree</span></a> <span class="id" title="var">Heq</span> <span class="id" title="notation">with</span> "By1 By2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.addr_encodes_agree_src" class="idref" href="#SimpleCPP.addr_encodes_agree_src"><span class="id" title="instance">addr_encodes_agree_src</span></a> <a id="d2e89a77ea5126a60e2bd77c23a0a4cb" class="idref" href="#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="binder">σ</span></a> <a id="t:389" class="idref" href="#t:389"><span class="id" title="binder">t</span></a> <a id="v1:390" class="idref" href="#v1:390"><span class="id" title="binder">v1</span></a> <a id="v2:391" class="idref" href="#v2:391"><span class="id" title="binder">v2</span></a> <a id="a:392" class="idref" href="#a:392"><span class="id" title="binder">a</span></a> <a id="vs1:393" class="idref" href="#vs1:393"><span class="id" title="binder">vs1</span></a> <a id="vs2:394" class="idref" href="#vs2:394"><span class="id" title="binder">vs2</span></a> <a id="q1:395" class="idref" href="#q1:395"><span class="id" title="binder">q1</span></a> <a id="q2:396" class="idref" href="#q2:396"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:390"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:391"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:389"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:395"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:392"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:390"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs1:393"><span class="id" title="variable">vs1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:389"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:396"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:392"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:391"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs2:394"><span class="id" title="variable">vs2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes_agree_dst"><span class="id" title="instance">addr_encodes_agree_dst</span></a> <span class="id" title="notation">with</span> "H1 H2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Using&nbsp;encodes_agree&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe_2"><span class="id" title="definition">observe_2</span></a> <span class="id" title="notation">with</span> "H1 H2"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.addr_encodes_cfrac_valid" class="idref" href="#SimpleCPP.addr_encodes_cfrac_valid"><span class="id" title="instance">addr_encodes_cfrac_valid</span></a> {<a id="c8ab706dfa12e61c86f2bf146a2ee074" class="idref" href="#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="binder">σ</span></a>} <a id="ty:398" class="idref" href="#ty:398"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid3"><span class="id" title="class">CFracValid3</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:398"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_intro_persistent"><span class="id" title="lemma">observe_intro_persistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">Hen</span>%<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.length_encodes_pos"><span class="id" title="lemma">length_encodes_pos</span></a>) "[B _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.bytes_cfrac_valid"><span class="id" title="lemma">bytes_cfrac_valid</span></a> <span class="id" title="notation">with</span> "B"<span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="SimpleCPP.oaddr_encodes" class="idref" href="#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="a696966ec0b4c5e409ecce090cadc2af" class="idref" href="#a696966ec0b4c5e409ecce090cadc2af"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="t:400" class="idref" href="#t:400"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) <a id="q:401" class="idref" href="#q:401"><span class="id" title="binder">q</span></a> (<a id="oa:402" class="idref" href="#oa:402"><span class="id" title="binder">oa</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a>) <a id="p:403" class="idref" href="#p:403"><span class="id" title="binder">p</span></a> (<a id="v:404" class="idref" href="#v:404"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa:402"><span class="id" title="variable">oa</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="vs:406" class="idref" href="#vs:406"><span class="id" title="binder">vs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a696966ec0b4c5e409ecce090cadc2af"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:400"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:401"><span class="id" title="variable">q</span></a> <span class="id" title="var">a</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:404"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vs:406"><span class="id" title="variable">vs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:400"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.val_"><span class="id" title="definition">val_</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:403"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:404"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:401"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Needed&nbsp;by&nbsp;tptsto_cfractional&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.oaddr_encodes_fractional" class="idref" href="#SimpleCPP.oaddr_encodes_fractional"><span class="id" title="instance">oaddr_encodes_fractional</span></a> {<a id="e444b9570c357f85e4f1415355b00e27" class="idref" href="#e444b9570c357f85e4f1415355b00e27"><span class="id" title="binder">σ</span></a>} <a id="t:408" class="idref" href="#t:408"><span class="id" title="binder">t</span></a> <a id="oa:409" class="idref" href="#oa:409"><span class="id" title="binder">oa</span></a> <a id="p:410" class="idref" href="#p:410"><span class="id" title="binder">p</span></a> <a id="v:411" class="idref" href="#v:411"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="q:412" class="idref" href="#q:412"><span class="id" title="binder">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#e444b9570c357f85e4f1415355b00e27"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:408"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:412"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa:409"><span class="id" title="variable">oa</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:410"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:411"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">oa</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.oaddr_encodes_nonvoid" class="idref" href="#SimpleCPP.oaddr_encodes_nonvoid"><span class="id" title="instance">oaddr_encodes_nonvoid</span></a> {<a id="96e549f55582bfa30351b273316cee71" class="idref" href="#96e549f55582bfa30351b273316cee71"><span class="id" title="binder">σ</span></a>} <a id="ty:414" class="idref" href="#ty:414"><span class="id" title="binder">ty</span></a> <a id="q:415" class="idref" href="#q:415"><span class="id" title="binder">q</span></a> <a id="oa:416" class="idref" href="#oa:416"><span class="id" title="binder">oa</span></a> <a id="p:417" class="idref" href="#p:417"><span class="id" title="binder">p</span></a> <a id="v:418" class="idref" href="#v:418"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:414"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#96e549f55582bfa30351b273316cee71"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:414"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:415"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa:416"><span class="id" title="variable">oa</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:417"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:418"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">oa</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.oaddr_encodes_cfrac_valid" class="idref" href="#SimpleCPP.oaddr_encodes_cfrac_valid"><span class="id" title="instance">oaddr_encodes_cfrac_valid</span></a> {<a id="8c017a6f6eceeacc739d0909123df5ec" class="idref" href="#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="binder">σ</span></a>} <a id="t:420" class="idref" href="#t:420"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid3"><span class="id" title="class">CFracValid3</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#8c017a6f6eceeacc739d0909123df5ec"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:420"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">oa</span> ??. <span class="id" title="tactic">destruct</span> <span class="id" title="var">oa</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
the pointer points to the code

<div class="paragraph"> </div>

      note that in the presence of code-loading, function calls will
      require an extra side-condition that the code is loaded.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.code_own" class="idref" href="#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> (<a id="p:421" class="idref" href="#p:421"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="f:422" class="idref" href="#f:422"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._code_own"><span class="id" title="definition">_code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:422"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_own_persistent" class="idref" href="#SimpleCPP.code_own_persistent"><span class="id" title="instance">code_own_persistent</span></a> <a id="f:423" class="idref" href="#f:423"><span class="id" title="binder">f</span></a> <a id="p:424" class="idref" href="#p:424"><span class="id" title="binder">p</span></a> : <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:424"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:423"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_own_affine" class="idref" href="#SimpleCPP.code_own_affine"><span class="id" title="instance">code_own_affine</span></a> <a id="f:425" class="idref" href="#f:425"><span class="id" title="binder">f</span></a> <a id="p:426" class="idref" href="#p:426"><span class="id" title="binder">p</span></a> : <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:426"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:425"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_own_timeless" class="idref" href="#SimpleCPP.code_own_timeless"><span class="id" title="instance">code_own_timeless</span></a> <a id="f:427" class="idref" href="#f:427"><span class="id" title="binder">f</span></a> <a id="p:428" class="idref" href="#p:428"><span class="id" title="binder">p</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:428"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:427"><span class="id" title="variable">f</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.code_own_strict_valid" class="idref" href="#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a> <a id="f:429" class="idref" href="#f:429"><span class="id" title="binder">f</span></a> <a id="p:430" class="idref" href="#p:430"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:430"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:429"><span class="id" title="variable">f</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:430"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[$ _]". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.code_own_valid" class="idref" href="#SimpleCPP.code_own_valid"><span class="id" title="lemma">code_own_valid</span></a> <a id="f:431" class="idref" href="#f:431"><span class="id" title="binder">f</span></a> <a id="p:432" class="idref" href="#p:432"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:432"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:431"><span class="id" title="variable">f</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:432"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_valid"><span class="id" title="lemma">strict_valid_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Typeclasses Opaque</span> <span class="id" title="var">code_own</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.code_at" class="idref" href="#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="f:433" class="idref" href="#f:433"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Func"><span class="id" title="abbreviation">Func</span></a>) (<a id="p:434" class="idref" href="#p:434"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:434"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:433"><span class="id" title="variable">f</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.method_at" class="idref" href="#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="m:435" class="idref" href="#m:435"><span class="id" title="binder">m</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Method"><span class="id" title="abbreviation">Method</span></a>) (<a id="p:436" class="idref" href="#p:436"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:436"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#m:435"><span class="id" title="variable">m</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.ctor_at" class="idref" href="#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="c:437" class="idref" href="#c:437"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Ctor"><span class="id" title="abbreviation">Ctor</span></a>) (<a id="p:438" class="idref" href="#p:438"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:438"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#c:437"><span class="id" title="variable">c</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.dtor_at" class="idref" href="#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="d:439" class="idref" href="#d:439"><span class="id" title="binder">d</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Dtor"><span class="id" title="abbreviation">Dtor</span></a>) (<a id="p:440" class="idref" href="#p:440"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own"><span class="id" title="definition">code_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:440"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#d:439"><span class="id" title="variable">d</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_at_persistent" class="idref" href="#SimpleCPP.code_at_persistent"><span class="id" title="instance">code_at_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="s:441" class="idref" href="#s:441"><span class="id" title="binder">s</span></a> <a id="tu:442" class="idref" href="#tu:442"><span class="id" title="binder">tu</span></a> <a id="f:443" class="idref" href="#f:443"><span class="id" title="binder">f</span></a> <a id="p:444" class="idref" href="#p:444"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:441"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:442"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:443"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:444"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_at_affine" class="idref" href="#SimpleCPP.code_at_affine"><span class="id" title="instance">code_at_affine</span></a> : <span class="id" title="notation">forall</span> <a id="s:445" class="idref" href="#s:445"><span class="id" title="binder">s</span></a> <a id="tu:446" class="idref" href="#tu:446"><span class="id" title="binder">tu</span></a> <a id="f:447" class="idref" href="#f:447"><span class="id" title="binder">f</span></a> <a id="p:448" class="idref" href="#p:448"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:445"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:446"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:447"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:448"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.code_at_timeless" class="idref" href="#SimpleCPP.code_at_timeless"><span class="id" title="instance">code_at_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="s:449" class="idref" href="#s:449"><span class="id" title="binder">s</span></a> <a id="tu:450" class="idref" href="#tu:450"><span class="id" title="binder">tu</span></a> <a id="f:451" class="idref" href="#f:451"><span class="id" title="binder">f</span></a> <a id="p:452" class="idref" href="#p:452"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:449"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:450"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:451"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:452"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.method_at_persistent" class="idref" href="#SimpleCPP.method_at_persistent"><span class="id" title="instance">method_at_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="s:453" class="idref" href="#s:453"><span class="id" title="binder">s</span></a> <a id="tu:454" class="idref" href="#tu:454"><span class="id" title="binder">tu</span></a> <a id="f:455" class="idref" href="#f:455"><span class="id" title="binder">f</span></a> <a id="p:456" class="idref" href="#p:456"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:453"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:454"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:455"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:456"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.method_at_affine" class="idref" href="#SimpleCPP.method_at_affine"><span class="id" title="instance">method_at_affine</span></a> : <span class="id" title="notation">forall</span> <a id="s:457" class="idref" href="#s:457"><span class="id" title="binder">s</span></a> <a id="tu:458" class="idref" href="#tu:458"><span class="id" title="binder">tu</span></a> <a id="f:459" class="idref" href="#f:459"><span class="id" title="binder">f</span></a> <a id="p:460" class="idref" href="#p:460"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:457"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:458"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:459"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:460"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.method_at_timeless" class="idref" href="#SimpleCPP.method_at_timeless"><span class="id" title="instance">method_at_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="s:461" class="idref" href="#s:461"><span class="id" title="binder">s</span></a> <a id="tu:462" class="idref" href="#tu:462"><span class="id" title="binder">tu</span></a> <a id="f:463" class="idref" href="#f:463"><span class="id" title="binder">f</span></a> <a id="p:464" class="idref" href="#p:464"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:461"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:462"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:463"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:464"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.ctor_at_persistent" class="idref" href="#SimpleCPP.ctor_at_persistent"><span class="id" title="instance">ctor_at_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="s:465" class="idref" href="#s:465"><span class="id" title="binder">s</span></a> <a id="tu:466" class="idref" href="#tu:466"><span class="id" title="binder">tu</span></a> <a id="f:467" class="idref" href="#f:467"><span class="id" title="binder">f</span></a> <a id="p:468" class="idref" href="#p:468"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:465"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:466"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:467"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:468"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.ctor_at_affine" class="idref" href="#SimpleCPP.ctor_at_affine"><span class="id" title="instance">ctor_at_affine</span></a> : <span class="id" title="notation">forall</span> <a id="s:469" class="idref" href="#s:469"><span class="id" title="binder">s</span></a> <a id="tu:470" class="idref" href="#tu:470"><span class="id" title="binder">tu</span></a> <a id="f:471" class="idref" href="#f:471"><span class="id" title="binder">f</span></a> <a id="p:472" class="idref" href="#p:472"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:469"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:470"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:471"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:472"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.ctor_at_timeless" class="idref" href="#SimpleCPP.ctor_at_timeless"><span class="id" title="instance">ctor_at_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="s:473" class="idref" href="#s:473"><span class="id" title="binder">s</span></a> <a id="tu:474" class="idref" href="#tu:474"><span class="id" title="binder">tu</span></a> <a id="f:475" class="idref" href="#f:475"><span class="id" title="binder">f</span></a> <a id="p:476" class="idref" href="#p:476"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:473"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:474"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:475"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:476"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.dtor_at_persistent" class="idref" href="#SimpleCPP.dtor_at_persistent"><span class="id" title="instance">dtor_at_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="s:477" class="idref" href="#s:477"><span class="id" title="binder">s</span></a> <a id="tu:478" class="idref" href="#tu:478"><span class="id" title="binder">tu</span></a> <a id="f:479" class="idref" href="#f:479"><span class="id" title="binder">f</span></a> <a id="p:480" class="idref" href="#p:480"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:477"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:478"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:479"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:480"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.dtor_at_affine" class="idref" href="#SimpleCPP.dtor_at_affine"><span class="id" title="instance">dtor_at_affine</span></a> : <span class="id" title="notation">forall</span> <a id="s:481" class="idref" href="#s:481"><span class="id" title="binder">s</span></a> <a id="tu:482" class="idref" href="#tu:482"><span class="id" title="binder">tu</span></a> <a id="f:483" class="idref" href="#f:483"><span class="id" title="binder">f</span></a> <a id="p:484" class="idref" href="#p:484"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:481"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:482"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:483"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:484"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.dtor_at_timeless" class="idref" href="#SimpleCPP.dtor_at_timeless"><span class="id" title="instance">dtor_at_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="s:485" class="idref" href="#s:485"><span class="id" title="binder">s</span></a> <a id="tu:486" class="idref" href="#tu:486"><span class="id" title="binder">tu</span></a> <a id="f:487" class="idref" href="#f:487"><span class="id" title="binder">f</span></a> <a id="p:488" class="idref" href="#p:488"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:485"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:486"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:487"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:488"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.code_at_live" class="idref" href="#SimpleCPP.code_at_live"><span class="id" title="axiom">code_at_live</span></a>   : <span class="id" title="notation">forall</span> <a id="s:489" class="idref" href="#s:489"><span class="id" title="binder">s</span></a> <a id="tu:490" class="idref" href="#tu:490"><span class="id" title="binder">tu</span></a> <a id="f:491" class="idref" href="#f:491"><span class="id" title="binder">f</span></a> <a id="p:492" class="idref" href="#p:492"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span>   @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:489"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:490"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:491"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:492"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:492"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.method_at_live" class="idref" href="#SimpleCPP.method_at_live"><span class="id" title="axiom">method_at_live</span></a> : <span class="id" title="notation">forall</span> <a id="s:494" class="idref" href="#s:494"><span class="id" title="binder">s</span></a> <a id="tu:495" class="idref" href="#tu:495"><span class="id" title="binder">tu</span></a> <a id="f:496" class="idref" href="#f:496"><span class="id" title="binder">f</span></a> <a id="p:497" class="idref" href="#p:497"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span> @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:494"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:495"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:496"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:497"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:497"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.ctor_at_live" class="idref" href="#SimpleCPP.ctor_at_live"><span class="id" title="axiom">ctor_at_live</span></a>   : <span class="id" title="notation">forall</span> <a id="s:499" class="idref" href="#s:499"><span class="id" title="binder">s</span></a> <a id="tu:500" class="idref" href="#tu:500"><span class="id" title="binder">tu</span></a> <a id="f:501" class="idref" href="#f:501"><span class="id" title="binder">f</span></a> <a id="p:502" class="idref" href="#p:502"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span>   @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:499"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:500"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:501"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:502"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:502"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.dtor_at_live" class="idref" href="#SimpleCPP.dtor_at_live"><span class="id" title="axiom">dtor_at_live</span></a>   : <span class="id" title="notation">forall</span> <a id="s:504" class="idref" href="#s:504"><span class="id" title="binder">s</span></a> <a id="tu:505" class="idref" href="#tu:505"><span class="id" title="binder">tu</span></a> <a id="f:506" class="idref" href="#f:506"><span class="id" title="binder">f</span></a> <a id="p:507" class="idref" href="#p:507"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span>   @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#s:504"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:505"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:506"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:507"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:507"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp.with_genv" class="idref" href="#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="08109923b0d807133c50649d7268f143" class="idref" href="#08109923b0d807133c50649d7268f143"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="SimpleCPP.code_at" class="idref" href="#SimpleCPP.code_at"><span class="id" title="abbreviation">code_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="definition">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="SimpleCPP.method_at" class="idref" href="#SimpleCPP.method_at"><span class="id" title="abbreviation">method_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="definition">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="SimpleCPP.ctor_at" class="idref" href="#SimpleCPP.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="definition">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="SimpleCPP.dtor_at" class="idref" href="#SimpleCPP.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="definition">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#159f639eaacaac9dc5e865f81bbb0a9b"><span class="id" title="variable">σ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.code_at_strict_valid" class="idref" href="#SimpleCPP.code_at_strict_valid"><span class="id" title="lemma">code_at_strict_valid</span></a> <a id="tu:510" class="idref" href="#tu:510"><span class="id" title="binder">tu</span></a> <a id="f:511" class="idref" href="#f:511"><span class="id" title="binder">f</span></a> <a id="p:512" class="idref" href="#p:512"><span class="id" title="binder">p</span></a> :   <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_at"><span class="id" title="abbreviation">code_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:510"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:511"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:512"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:512"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.method_at_strict_valid" class="idref" href="#SimpleCPP.method_at_strict_valid"><span class="id" title="lemma">method_at_strict_valid</span></a> <a id="tu:513" class="idref" href="#tu:513"><span class="id" title="binder">tu</span></a> <a id="f:514" class="idref" href="#f:514"><span class="id" title="binder">f</span></a> <a id="p:515" class="idref" href="#p:515"><span class="id" title="binder">p</span></a> :   <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.method_at"><span class="id" title="abbreviation">method_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:513"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:514"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:515"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:515"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.ctor_at_strict_valid" class="idref" href="#SimpleCPP.ctor_at_strict_valid"><span class="id" title="lemma">ctor_at_strict_valid</span></a> <a id="tu:516" class="idref" href="#tu:516"><span class="id" title="binder">tu</span></a> <a id="f:517" class="idref" href="#f:517"><span class="id" title="binder">f</span></a> <a id="p:518" class="idref" href="#p:518"><span class="id" title="binder">p</span></a> :   <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ctor_at"><span class="id" title="abbreviation">ctor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:516"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:517"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:518"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:518"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.dtor_at_strict_valid" class="idref" href="#SimpleCPP.dtor_at_strict_valid"><span class="id" title="lemma">dtor_at_strict_valid</span></a> <a id="tu:519" class="idref" href="#tu:519"><span class="id" title="binder">tu</span></a> <a id="f:520" class="idref" href="#f:520"><span class="id" title="binder">f</span></a> <a id="p:521" class="idref" href="#p:521"><span class="id" title="binder">p</span></a> :   <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.dtor_at"><span class="id" title="abbreviation">dtor_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#tu:519"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:520"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:521"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:521"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.code_own_strict_valid"><span class="id" title="lemma">code_own_strict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
</div>

<div class="doc">
physical representation of pointers.
    OLD, not exposed any more.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="SimpleCPP.pinned_ptr" class="idref" href="#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> (<a id="va:522" class="idref" href="#va:522"><span class="id" title="binder">va</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a id="p:523" class="idref" href="#p:523"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:523"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:523"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:522"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">\\//</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:523"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:523"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:522"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:523"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:522"><span class="id" title="variable">va</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">)</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.pinned_ptr_null" class="idref" href="#SimpleCPP.pinned_ptr_null"><span class="id" title="lemma">pinned_ptr_null</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> 0 <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">by</span> [<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr_nullptr"><span class="id" title="lemma">valid_ptr_nullptr</span></a> | <span class="id" title="var">iLeft</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.type_ptr" class="idref" href="#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> {<a id="resolve:524" class="idref" href="#resolve:524"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="ty:525" class="idref" href="#ty:525"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:526" class="idref" href="#p:526"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:526"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:525"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:526"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:524"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:525"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:526"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:526"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:524"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:525"><span class="id" title="variable">ty</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;inline&nbsp;valid_ptr,&nbsp;and&nbsp;assert&nbsp;validity&nbsp;of&nbsp;the&nbsp;range,&nbsp;like&nbsp;we&nbsp;should&nbsp;do&nbsp;in&nbsp;tptsto!<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;0-byte&nbsp;objects,&nbsp;should&nbsp;we&nbsp;assert&nbsp;ownership&nbsp;of&nbsp;one&nbsp;byte,&nbsp;to&nbsp;get&nbsp;character&nbsp;pointers?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">alloc_own</span></span> <span class="inlinecode">(<span class="id" title="var">alloc_id</span></span> <span class="inlinecode"><span class="id" title="var">p</span>)</span> <span class="inlinecode">(<span class="id" title="var">l</span>,</span> <span class="inlinecode"><span class="id" title="var">h</span>)</span> <span class="inlinecode">**</span>
      <span class="inlinecode">[|</span> <span class="inlinecode"><span class="id" title="var">l</span></span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">ptr_addr</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">ptr_addr</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_sub</span></span> <span class="inlinecode"><span class="id" title="var">resolve</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">1)</span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">h</span></span> <span class="inlinecode">|]</span>&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.type_ptr_persistent" class="idref" href="#SimpleCPP.type_ptr_persistent"><span class="id" title="instance">type_ptr_persistent</span></a> <a id="b11afb53d83371f89b822130ae8bf1b5" class="idref" href="#b11afb53d83371f89b822130ae8bf1b5"><span class="id" title="binder">σ</span></a> <a id="p:528" class="idref" href="#p:528"><span class="id" title="binder">p</span></a> <a id="ty:529" class="idref" href="#ty:529"><span class="id" title="binder">ty</span></a> : <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b11afb53d83371f89b822130ae8bf1b5"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:529"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:528"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.type_ptr_affine" class="idref" href="#SimpleCPP.type_ptr_affine"><span class="id" title="instance">type_ptr_affine</span></a> <a id="b28cc04e7de68a02b2aec33f22661ba5" class="idref" href="#b28cc04e7de68a02b2aec33f22661ba5"><span class="id" title="binder">σ</span></a> <a id="p:531" class="idref" href="#p:531"><span class="id" title="binder">p</span></a> <a id="ty:532" class="idref" href="#ty:532"><span class="id" title="binder">ty</span></a> : <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b28cc04e7de68a02b2aec33f22661ba5"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:532"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:531"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.type_ptr_timeless" class="idref" href="#SimpleCPP.type_ptr_timeless"><span class="id" title="instance">type_ptr_timeless</span></a> <a id="06fba062e6bfb51bbd4b5473b1d6bb8c" class="idref" href="#06fba062e6bfb51bbd4b5473b1d6bb8c"><span class="id" title="binder">σ</span></a> <a id="p:534" class="idref" href="#p:534"><span class="id" title="binder">p</span></a> <a id="ty:535" class="idref" href="#ty:535"><span class="id" title="binder">ty</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#06fba062e6bfb51bbd4b5473b1d6bb8c"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:535"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:534"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_off_nonnull" class="idref" href="#SimpleCPP.type_ptr_off_nonnull"><span class="id" title="lemma">type_ptr_off_nonnull</span></a> {<a id="7ef406d7178406f81b7d9e6beb5a0bc8" class="idref" href="#7ef406d7178406f81b7d9e6beb5a0bc8"><span class="id" title="binder">σ</span></a> <a id="ty:537" class="idref" href="#ty:537"><span class="id" title="binder">ty</span></a> <a id="p:538" class="idref" href="#p:538"><span class="id" title="binder">p</span></a> <a id="o:539" class="idref" href="#o:539"><span class="id" title="binder">o</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:537"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:538"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:539"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:538"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_strict_valid" class="idref" href="#SimpleCPP.type_ptr_strict_valid"><span class="id" title="lemma">type_ptr_strict_valid</span></a> <a id="resolve:540" class="idref" href="#resolve:540"><span class="id" title="binder">resolve</span></a> <a id="ty:541" class="idref" href="#ty:541"><span class="id" title="binder">ty</span></a> <a id="p:542" class="idref" href="#p:542"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:540"><span class="id" title="variable">resolve</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:541"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:542"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:542"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "(_ &amp; _ &amp; _ &amp; $ &amp; _)". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_valid_plus_one" class="idref" href="#SimpleCPP.type_ptr_valid_plus_one"><span class="id" title="lemma">type_ptr_valid_plus_one</span></a> <a id="resolve:543" class="idref" href="#resolve:543"><span class="id" title="binder">resolve</span></a> <a id="ty:544" class="idref" href="#ty:544"><span class="id" title="binder">ty</span></a> <a id="p:545" class="idref" href="#p:545"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;size_of&nbsp;resolve&nbsp;ty&nbsp;=&nbsp;Some&nbsp;sz&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:543"><span class="id" title="variable">resolve</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:544"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:545"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:545"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:543"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:544"><span class="id" title="variable">ty</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "(_ &amp; _ &amp; _ &amp; _ &amp; $)". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_aligned_pure" class="idref" href="#SimpleCPP.type_ptr_aligned_pure"><span class="id" title="lemma">type_ptr_aligned_pure</span></a> <a id="e48d5a3d36d762f608c58d2849c322b9" class="idref" href="#e48d5a3d36d762f608c58d2849c322b9"><span class="id" title="binder">σ</span></a> <a id="ty:547" class="idref" href="#ty:547"><span class="id" title="binder">ty</span></a> <a id="p:548" class="idref" href="#p:548"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:547"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:548"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:547"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:548"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "(_ &amp; $ &amp; _)". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_size" class="idref" href="#SimpleCPP.type_ptr_size"><span class="id" title="lemma">type_ptr_size</span></a> {<a id="83758b8936133bff1646e25b1dd4cc40" class="idref" href="#83758b8936133bff1646e25b1dd4cc40"><span class="id" title="binder">σ</span></a>} <a id="ty:550" class="idref" href="#ty:550"><span class="id" title="binder">ty</span></a> <a id="p:551" class="idref" href="#p:551"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:550"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:551"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#83758b8936133bff1646e25b1dd4cc40"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:550"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "(_ &amp; _ &amp; % &amp; _)"; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;See&nbsp;<span class="inlinecode"><span class="id" title="var">o_sub_mono</span></span>&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">simple_pointers.v</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.valid_ptr_o_sub_proper" class="idref" href="#SimpleCPP.valid_ptr_o_sub_proper"><span class="id" title="axiom">valid_ptr_o_sub_proper</span></a> : <span class="id" title="notation">forall</span> {<a id="5424629597fb6b2c72b32c1da1ac9152" class="idref" href="#5424629597fb6b2c72b32c1da1ac9152"><span class="id" title="binder">σ1</span></a> <a id="7cc74c7c3557ce09cd9039f45df525ba" class="idref" href="#7cc74c7c3557ce09cd9039f45df525ba"><span class="id" title="binder">σ2</span></a> <a id="p:554" class="idref" href="#p:554"><span class="id" title="binder">p</span></a> <a id="ty:555" class="idref" href="#ty:555"><span class="id" title="binder">ty</span></a>}<span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5424629597fb6b2c72b32c1da1ac9152"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#7cc74c7c3557ce09cd9039f45df525ba"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:554"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#5424629597fb6b2c72b32c1da1ac9152"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:555"><span class="id" title="variable">ty</span></a> 1) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:554"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#7cc74c7c3557ce09cd9039f45df525ba"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:555"><span class="id" title="variable">ty</span></a> 1).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.type_ptr_mono" class="idref" href="#SimpleCPP.type_ptr_mono"><span class="id" title="instance">type_ptr_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(⊢)</span>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> =&gt; σ1 σ2 <span class="id" title="var">Heq</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ????; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr_o_sub_proper"><span class="id" title="axiom">valid_ptr_o_sub_proper</span></a> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>=&gt; -[<span class="id" title="var">align</span> [<span class="id" title="var">HalTy</span> <span class="id" title="var">Halp</span>]]. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Heq</span> <span class="id" title="var">HalTy</span> =&gt; /<a class="idref" href="bedrock.lang.cpp.semantics.types.html#Proper_align_of"><span class="id" title="axiom">Proper_align_of</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">f_equiv</span>=&gt; -[<span class="id" title="var">sz1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Heq</span> =&gt; /<a class="idref" href="bedrock.lang.cpp.semantics.types.html#Proper_size_of"><span class="id" title="instance">Proper_size_of</span></a> /(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;lemma&nbsp;is&nbsp;unused;&nbsp;it&nbsp;confirms&nbsp;we&nbsp;can&nbsp;lift&nbsp;the&nbsp;other&nbsp;half&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">pinned_ptr_aligned_divide</span></span>,&nbsp;but&nbsp;we&nbsp;don't&nbsp;expose&nbsp;this.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.pinned_ptr_type_divide_2" class="idref" href="#SimpleCPP.pinned_ptr_type_divide_2"><span class="id" title="lemma">pinned_ptr_type_divide_2</span></a> {<a id="va:557" class="idref" href="#va:557"><span class="id" title="binder">va</span></a> <a id="n:558" class="idref" href="#n:558"><span class="id" title="binder">n</span></a> <a id="6e3db2732c1d62bb9792f77a7d8cf690" class="idref" href="#6e3db2732c1d62bb9792f77a7d8cf690"><span class="id" title="binder">σ</span></a> <a id="p:560" class="idref" href="#p:560"><span class="id" title="binder">p</span></a> <a id="ty:561" class="idref" href="#ty:561"><span class="id" title="binder">ty</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:562" class="idref" href="#Hal:562"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> (σ := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#6e3db2732c1d62bb9792f77a7d8cf690"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:561"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:558"><span class="id" title="variable">n</span></a>) (<a id="Hnn:563" class="idref" href="#Hnn:563"><span class="id" title="binder">Hnn</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:560"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:557"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:560"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:560"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#6e3db2732c1d62bb9792f77a7d8cf690"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:561"><span class="id" title="variable">ty</span></a> 1) <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:558"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:557"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <span class="id" title="notation">-∗</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#6e3db2732c1d62bb9792f77a7d8cf690"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:561"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:560"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <span class="id" title="var">Hal</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[V [%P|[%P P]]] #$ %HvaAl"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> (<span class="id" title="var">Hnn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;iDestruct&nbsp;(pinned_ptr_valid&nbsp;with&nbsp;"P")&nbsp;as&nbsp;"$". *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="var">last</span> <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;XXX&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.align_of_uchar" class="idref" href="#SimpleCPP.align_of_uchar"><span class="id" title="axiom">align_of_uchar</span></a> : <span class="id" title="notation">forall</span> <a id="resolve:564" class="idref" href="#resolve:564"><span class="id" title="binder">resolve</span></a><span class="id" title="notation">,</span> @<a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:564"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 1%<span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Requirememnt&nbsp;is&nbsp;too&nbsp;strong,&nbsp;we'd&nbsp;want&nbsp;just&nbsp;<span class="inlinecode">(<span class="id" title="var">strict_</span>)<span class="id" title="var">valid_ptr</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>;&nbsp;see&nbsp;comment<br/>
&nbsp;&nbsp;&nbsp;&nbsp;above&nbsp;on&nbsp;<span class="inlinecode"><span class="id" title="var">aligned_ptr_mpred</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">mem_inj_own</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;XXX:&nbsp;this&nbsp;assumes&nbsp;that&nbsp;casting&nbsp;to&nbsp;uchar&nbsp;preserves&nbsp;the&nbsp;pointer.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.valid_type_uchar" class="idref" href="#SimpleCPP.valid_type_uchar"><span class="id" title="lemma">valid_type_uchar</span></a> <a id="resolve:566" class="idref" href="#resolve:566"><span class="id" title="binder">resolve</span></a> <a id="p:567" class="idref" href="#p:567"><span class="id" title="binder">p</span></a> (<a id="Hnn:568" class="idref" href="#Hnn:568"><span class="id" title="binder">Hnn</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:567"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>) <a id="va:569" class="idref" href="#va:569"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:569"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:567"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:567"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:566"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> 1) <span class="id" title="notation">-∗</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<span class="id" title="var">resolve</span> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:566"><span class="id" title="variable">resolve</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:567"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#P #V".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr_type_divide_2"><span class="id" title="axiom">pinned_ptr_type_divide_2</span></a> (<span class="id" title="var">n</span> := 1)) =&gt; //. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.align_of_uchar"><span class="id" title="axiom">align_of_uchar</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!%". <span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide_1_l"><span class="id" title="definition">N.divide_1_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;todo(gmm):&nbsp;this&nbsp;isn't&nbsp;accurate,&nbsp;but&nbsp;it&nbsp;is&nbsp;sufficient&nbsp;to&nbsp;show&nbsp;that&nbsp;the&nbsp;axioms&nbsp;are<br/>
&nbsp;&nbsp;&nbsp;&nbsp;instantiatable.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.mdc_path" class="idref" href="#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> {<a id="7addd842019863d1710305c43fd4333d" class="idref" href="#7addd842019863d1710305c43fd4333d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="this:571" class="idref" href="#this:571"><span class="id" title="binder">this</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>) (<a id="most_derived:572" class="idref" href="#most_derived:572"><span class="id" title="binder">most_derived</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="q:573" class="idref" href="#q:573"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="p:574" class="idref" href="#p:574"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:574"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.derivation_own"><span class="id" title="definition">derivation_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:574"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:573"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:571"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#most_derived:572"><span class="id" title="variable">most_derived</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.mdc_path_cfractional" class="idref" href="#SimpleCPP.mdc_path_cfractional"><span class="id" title="instance">mdc_path_cfractional</span></a> {<a id="993ad6d9e5a58353e4623cdf9758ddf9" class="idref" href="#993ad6d9e5a58353e4623cdf9758ddf9"><span class="id" title="binder">σ</span></a>} <a id="this:576" class="idref" href="#this:576"><span class="id" title="binder">this</span></a> <a id="mdc:577" class="idref" href="#mdc:577"><span class="id" title="binder">mdc</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional1"><span class="id" title="abbreviation">CFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:576"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc:577"><span class="id" title="variable">mdc</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.mdc_path_cfrac_valid" class="idref" href="#SimpleCPP.mdc_path_cfrac_valid"><span class="id" title="axiom">mdc_path_cfrac_valid</span></a> : <span class="id" title="notation">forall</span> {<a id="83bb1bc626e0e5431d603fca8be0a41a" class="idref" href="#83bb1bc626e0e5431d603fca8be0a41a"><span class="id" title="binder">σ</span></a>} <a id="cls:579" class="idref" href="#cls:579"><span class="id" title="binder">cls</span></a> <a id="path:580" class="idref" href="#path:580"><span class="id" title="binder">path</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid1"><span class="id" title="class">CFracValid1</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:579"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#path:580"><span class="id" title="variable">path</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.mdc_path_timeless" class="idref" href="#SimpleCPP.mdc_path_timeless"><span class="id" title="instance">mdc_path_timeless</span></a> {<a id="6b45580b2dafa68962e786d6d68a5da3" class="idref" href="#6b45580b2dafa68962e786d6d68a5da3"><span class="id" title="binder">σ</span></a>} <a id="this:583" class="idref" href="#this:583"><span class="id" title="binder">this</span></a> <a id="mdc:584" class="idref" href="#mdc:584"><span class="id" title="binder">mdc</span></a> <a id="q:585" class="idref" href="#q:585"><span class="id" title="binder">q</span></a> <a id="p:586" class="idref" href="#p:586"><span class="id" title="binder">p</span></a> : <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:583"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc:584"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:585"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:586"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.mdc_path_strict_valid" class="idref" href="#SimpleCPP.mdc_path_strict_valid"><span class="id" title="instance">mdc_path_strict_valid</span></a> {<a id="10744245b9242172be8147c2a2ca07f6" class="idref" href="#10744245b9242172be8147c2a2ca07f6"><span class="id" title="binder">σ</span></a>} <a id="this:588" class="idref" href="#this:588"><span class="id" title="binder">this</span></a> <a id="mdc:589" class="idref" href="#mdc:589"><span class="id" title="binder">mdc</span></a> <a id="q:590" class="idref" href="#q:590"><span class="id" title="binder">q</span></a> <a id="p:591" class="idref" href="#p:591"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:591"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:588"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc:589"><span class="id" title="variable">mdc</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:590"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:591"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="SimpleCPP.mdc_path_agree" class="idref" href="#SimpleCPP.mdc_path_agree"><span class="id" title="instance">mdc_path_agree</span></a> {<a id="8493bc5642324f5bdbeee6fe05ea6a85" class="idref" href="#8493bc5642324f5bdbeee6fe05ea6a85"><span class="id" title="binder">σ</span></a>} <a id="cls1:593" class="idref" href="#cls1:593"><span class="id" title="binder">cls1</span></a> <a id="cls2:594" class="idref" href="#cls2:594"><span class="id" title="binder">cls2</span></a> <a id="q1:595" class="idref" href="#q1:595"><span class="id" title="binder">q1</span></a> <a id="q2:596" class="idref" href="#q2:596"><span class="id" title="binder">q2</span></a> <a id="p:597" class="idref" href="#p:597"><span class="id" title="binder">p</span></a> <a id="mdc1:598" class="idref" href="#mdc1:598"><span class="id" title="binder">mdc1</span></a> <a id="mdc2:599" class="idref" href="#mdc2:599"><span class="id" title="binder">mdc2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc1:598"><span class="id" title="variable">mdc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc2:599"><span class="id" title="variable">mdc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls1:593"><span class="id" title="variable">cls1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls2:594"><span class="id" title="variable">cls2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls1:593"><span class="id" title="variable">cls1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc1:598"><span class="id" title="variable">mdc1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:595"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:597"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls2:594"><span class="id" title="variable">cls2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc2:599"><span class="id" title="variable">mdc2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:596"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:597"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[_ A] [_ B]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe_2"><span class="id" title="definition">observe_2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <span class="id" title="notation">with</span> "A B"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %<span class="id" title="var">Heq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
this allows you to forget an object mdc_path, necessary for doing
        placement <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_region.new"><span class="id" title="section">new</span></a></span> over an existing object.
     
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.mdc_path_forget" class="idref" href="#SimpleCPP.mdc_path_forget"><span class="id" title="lemma">mdc_path_forget</span></a> : <span class="id" title="notation">forall</span> <a id="aeb500d89f106efffca7fab25b9bd208" class="idref" href="#aeb500d89f106efffca7fab25b9bd208"><span class="id" title="binder">σ</span></a> <a id="mdc:601" class="idref" href="#mdc:601"><span class="id" title="binder">mdc</span></a> <a id="this:602" class="idref" href="#this:602"><span class="id" title="binder">this</span></a> <a id="p:603" class="idref" href="#p:603"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aeb500d89f106efffca7fab25b9bd208"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:602"><span class="id" title="variable">this</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#mdc:601"><span class="id" title="variable">mdc</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:603"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">|={</span><span class="id" title="notation">↑</span><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><span class="id" title="notation">}=&gt;</span> @<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aeb500d89f106efffca7fab25b9bd208"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#this:602"><span class="id" title="variable">this</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:603"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mdc_path"><span class="id" title="definition">mdc_path</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[$ D]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.own.html#own_update"><span class="id" title="lemma">own_update</span></a> <span class="id" title="notation">with</span> "D"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "&gt;$"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">singleton_update</span>, <span class="id" title="lemma">cmra_update_exclusive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.tptsto" class="idref" href="#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> {<a id="a0562f08e3edf0a5ac7df5af5fc6402d" class="idref" href="#a0562f08e3edf0a5ac7df5af5fc6402d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="t:605" class="idref" href="#t:605"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="q:606" class="idref" href="#q:606"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="p:607" class="idref" href="#p:607"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="v:608" class="idref" href="#v:608"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:607"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#is_heap_type"><span class="id" title="definition">is_heap_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:605"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">(</span></a><a id="oa:609" class="idref" href="#oa:609"><span class="id" title="binder">oa</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr"><span class="id" title="definition">addr</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:605"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:607"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <span class="comment">(*&nbsp;use&nbsp;the&nbsp;appropriate&nbsp;ghost&nbsp;state&nbsp;instead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.mem_inj_own"><span class="id" title="definition">mem_inj_own</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:607"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa:609"><span class="id" title="variable">oa</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a0562f08e3edf0a5ac7df5af5fc6402d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:605"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:606"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#oa:609"><span class="id" title="variable">oa</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:607"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:608"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span>&nbsp;should&nbsp;not&nbsp;include&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span>&nbsp;wholesale,&nbsp;but&nbsp;its<br/>
&nbsp;&nbsp;&nbsp;&nbsp;pieces&nbsp;in&nbsp;the&nbsp;new&nbsp;model,&nbsp;replacing&nbsp;<span class="inlinecode"><span class="id" title="var">mem_inj_own</span></span>,&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_type_ptr</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;proved&nbsp;properly.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_valid_type" class="idref" href="#SimpleCPP.tptsto_valid_type"><span class="id" title="instance">tptsto_valid_type</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="03b41e1b98e8000ff3e5532a17d5a751" class="idref" href="#03b41e1b98e8000ff3e5532a17d5a751"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="t:611" class="idref" href="#t:611"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="q:612" class="idref" href="#q:612"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="a:613" class="idref" href="#a:613"><span class="id" title="binder">a</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="v:614" class="idref" href="#v:614"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#is_heap_type"><span class="id" title="definition">is_heap_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:611"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#t:611"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:612"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:613"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:614"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_type_ptr" class="idref" href="#SimpleCPP.tptsto_type_ptr"><span class="id" title="instance">tptsto_type_ptr</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="08372a071dbd9497cd7e2c49d25fd220" class="idref" href="#08372a071dbd9497cd7e2c49d25fd220"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) <a id="ty:616" class="idref" href="#ty:616"><span class="id" title="binder">ty</span></a> <a id="q:617" class="idref" href="#q:617"><span class="id" title="binder">q</span></a> <a id="p:618" class="idref" href="#p:618"><span class="id" title="binder">p</span></a> <a id="v:619" class="idref" href="#v:619"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:616"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:618"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:616"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:617"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:618"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:619"><span class="id" title="variable">v</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;(JH):&nbsp;We&nbsp;shouldn't&nbsp;be&nbsp;axiomatizing&nbsp;this&nbsp;in&nbsp;our&nbsp;model&nbsp;in&nbsp;the&nbsp;long-run&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.tptsto_live" class="idref" href="#SimpleCPP.tptsto_live"><span class="id" title="axiom">tptsto_live</span></a> : <span class="id" title="notation">forall</span> {<a id="42cf279f16a48eff0e39e84238369e84" class="idref" href="#42cf279f16a48eff0e39e84238369e84"><span class="id" title="binder">σ</span></a>} <a id="ty:621" class="idref" href="#ty:621"><span class="id" title="binder">ty</span></a> (<a id="q:622" class="idref" href="#q:622"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) <a id="p:623" class="idref" href="#p:623"><span class="id" title="binder">p</span></a> <a id="v:624" class="idref" href="#v:624"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#42cf279f16a48eff0e39e84238369e84"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:621"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:622"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:623"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:624"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:623"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <span class="id" title="notation">True</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_nonnull_obs" class="idref" href="#SimpleCPP.tptsto_nonnull_obs"><span class="id" title="instance">tptsto_nonnull_obs</span></a> {<a id="3eb0d599df3ae052d4107dfc407026da" class="idref" href="#3eb0d599df3ae052d4107dfc407026da"><span class="id" title="binder">σ</span></a>} <a id="ty:627" class="idref" href="#ty:627"><span class="id" title="binder">ty</span></a> <a id="q:628" class="idref" href="#q:628"><span class="id" title="binder">q</span></a> <a id="a:629" class="idref" href="#a:629"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <span class="id" title="notation">False</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#3eb0d599df3ae052d4107dfc407026da"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:627"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:628"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:629"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">Hne</span>) "_". <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.tptsto_nonnull" class="idref" href="#SimpleCPP.tptsto_nonnull"><span class="id" title="lemma">tptsto_nonnull</span></a> {<a id="bd86a88c34450b7350b49325c461fb48" class="idref" href="#bd86a88c34450b7350b49325c461fb48"><span class="id" title="binder">σ</span></a>} <a id="ty:631" class="idref" href="#ty:631"><span class="id" title="binder">ty</span></a> <a id="q:632" class="idref" href="#q:632"><span class="id" title="binder">q</span></a> <a id="a:633" class="idref" href="#a:633"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bd86a88c34450b7350b49325c461fb48"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:631"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:632"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a:633"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto_nonnull_obs"><span class="id" title="instance">tptsto_nonnull_obs</span></a>. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "[]". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_mono" class="idref" href="#SimpleCPP.tptsto_mono"><span class="id" title="instance">tptsto_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(⊢)</span>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.oaddr_encodes"><span class="id" title="definition">oaddr_encodes</span></a> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.addr_encodes"><span class="id" title="definition">addr_encodes</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">H</span>σ ??-&gt; ??-&gt; ??-&gt; ??-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "(%Hnonnull &amp; %Htype &amp; H)";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (<span class="id" title="var">oa</span>) "(Htype_ptr &amp; Hmem_inj_own &amp; Hoa)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitR</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">oa</span>; <span class="id" title="var">iFrame</span> "Hmem_inj_own".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Htype_ptr"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>σ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStopProof</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">oa</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_proper" class="idref" href="#SimpleCPP.tptsto_proper"><span class="id" title="instance">tptsto_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> σ1 σ2 [<span class="id" title="var">H</span>σ1 <span class="id" title="var">H</span>σ2] ??-&gt; ??-&gt; ??-&gt; ??-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto_mono"><span class="id" title="instance">tptsto_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Relies&nbsp;on&nbsp;<span class="inlinecode"><span class="id" title="var">oaddr_encodes_fractional</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_cfractional" class="idref" href="#SimpleCPP.tptsto_cfractional"><span class="id" title="instance">tptsto_cfractional</span></a> {<a id="ca7d72115599dec4350f374fed984c6c" class="idref" href="#ca7d72115599dec4350f374fed984c6c"><span class="id" title="binder">σ</span></a>} <a id="ty:635" class="idref" href="#ty:635"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional2"><span class="id" title="abbreviation">CFractional2</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ca7d72115599dec4350f374fed984c6c"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:635"><span class="id" title="variable">ty</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_timeless" class="idref" href="#SimpleCPP.tptsto_timeless"><span class="id" title="instance">tptsto_timeless</span></a> {<a id="1b357d9afcaffbd6be4becef787bfd9b" class="idref" href="#1b357d9afcaffbd6be4becef787bfd9b"><span class="id" title="binder">σ</span></a>} <a id="ty:637" class="idref" href="#ty:637"><span class="id" title="binder">ty</span></a> <a id="q:638" class="idref" href="#q:638"><span class="id" title="binder">q</span></a> <a id="p:639" class="idref" href="#p:639"><span class="id" title="binder">p</span></a> <a id="v:640" class="idref" href="#v:640"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1b357d9afcaffbd6be4becef787bfd9b"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:637"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:638"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:639"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:640"><span class="id" title="variable">v</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_nonvoid" class="idref" href="#SimpleCPP.tptsto_nonvoid"><span class="id" title="instance">tptsto_nonvoid</span></a> {<a id="a2e25e42ddc3c841ca6815690c5165ea" class="idref" href="#a2e25e42ddc3c841ca6815690c5165ea"><span class="id" title="binder">σ</span></a>} <a id="ty:642" class="idref" href="#ty:642"><span class="id" title="binder">ty</span></a> (<a id="q:643" class="idref" href="#q:643"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) <a id="p:644" class="idref" href="#p:644"><span class="id" title="binder">p</span></a> <a id="v:645" class="idref" href="#v:645"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:642"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#a2e25e42ddc3c841ca6815690c5165ea"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:642"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:643"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:644"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:645"><span class="id" title="variable">v</span></a>) := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_cfrac_valid" class="idref" href="#SimpleCPP.tptsto_cfrac_valid"><span class="id" title="instance">tptsto_cfrac_valid</span></a> {<a id="0c8de36a23be09d290415ca15ffda7ca" class="idref" href="#0c8de36a23be09d290415ca15ffda7ca"><span class="id" title="binder">σ</span></a>} <a id="ty:647" class="idref" href="#ty:647"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid2"><span class="id" title="class">CFracValid2</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#0c8de36a23be09d290415ca15ffda7ca"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:647"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_cfrac_valid</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_agree" class="idref" href="#SimpleCPP.tptsto_agree"><span class="id" title="instance">tptsto_agree</span></a> <a id="3f97dd82519405692823c7a367c07db6" class="idref" href="#3f97dd82519405692823c7a367c07db6"><span class="id" title="binder">σ</span></a> <a id="ty:649" class="idref" href="#ty:649"><span class="id" title="binder">ty</span></a> <a id="q1:650" class="idref" href="#q1:650"><span class="id" title="binder">q1</span></a> <a id="q2:651" class="idref" href="#q2:651"><span class="id" title="binder">q2</span></a> <a id="p:652" class="idref" href="#p:652"><span class="id" title="binder">p</span></a> <a id="v1:653" class="idref" href="#v1:653"><span class="id" title="binder">v1</span></a> <a id="v2:654" class="idref" href="#v2:654"><span class="id" title="binder">v2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:653"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:654"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#3f97dd82519405692823c7a367c07db6"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:649"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q1:650"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:652"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v1:653"><span class="id" title="variable">v1</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#3f97dd82519405692823c7a367c07db6"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:649"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q2:651"><span class="id" title="variable">q2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:652"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v2:654"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.bi.observe.html#observe_2_intro_persistent"><span class="id" title="lemma">observe_2_intro_persistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">Hnn1</span> <span class="id" title="var">Ht1</span> <span class="id" title="var">oa1</span>) "H1".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">Hnn2</span> <span class="id" title="var">Ht2</span> <span class="id" title="var">oa2</span>) "H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe_2_elim_pure"><span class="id" title="lemma">observe_2_elim_pure</span></a> (<span class="id" title="var">oa1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">oa2</span>) <span class="id" title="notation">with</span> "H1 H2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">oa2</span>; [<span class="id" title="var">iApply</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe_2"><span class="id" title="definition">observe_2</span></a> <span class="id" title="notation">with</span> "H1 H2"<span class="id" title="notation">)</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe_2"><span class="id" title="definition">observe_2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v2</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <span class="id" title="notation">with</span> "H1 H2"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.same_address_eq_type_ptr" class="idref" href="#SimpleCPP.same_address_eq_type_ptr"><span class="id" title="axiom">same_address_eq_type_ptr</span></a> : <span class="id" title="notation">forall</span> <a id="resolve:655" class="idref" href="#resolve:655"><span class="id" title="binder">resolve</span></a> <a id="ty:656" class="idref" href="#ty:656"><span class="id" title="binder">ty</span></a> <a id="p1:657" class="idref" href="#p1:657"><span class="id" title="binder">p1</span></a> <a id="p2:658" class="idref" href="#p2:658"><span class="id" title="binder">p2</span></a> <a id="n:659" class="idref" href="#n:659"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.same_address"><span class="id" title="definition">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:657"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:658"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#resolve:655"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:656"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:659"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Tuchar</span></span>,&nbsp;one&nbsp;of&nbsp;these&nbsp;pointer&nbsp;could&nbsp;provide&nbsp;storage&nbsp;for&nbsp;the&nbsp;other.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:656"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tuchar"><span class="id" title="abbreviation">Tuchar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:659"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:656"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:657"><span class="id" title="variable">p1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:656"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:658"><span class="id" title="variable">p2</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:657"><span class="id" title="variable">p1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:658"><span class="id" title="variable">p2</span></a> <span class="id" title="notation">⊢</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">|={</span><span class="id" title="notation">↑</span><a class="idref" href="bedrock.lang.cpp.logic.pred.html#pred_ns"><span class="id" title="definition">pred_ns</span></a><span class="id" title="notation">}=&gt;</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:657"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:658"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Not&nbsp;provable&nbsp;in&nbsp;the&nbsp;current&nbsp;model&nbsp;without&nbsp;tying&nbsp;to&nbsp;a&nbsp;concrete&nbsp;model&nbsp;of&nbsp;pointers.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.offset_pinned_ptr_pure" class="idref" href="#SimpleCPP.offset_pinned_ptr_pure"><span class="id" title="lemma">offset_pinned_ptr_pure</span></a> <a id="8d0801fca63d9550232e6d71b8c02075" class="idref" href="#8d0801fca63d9550232e6d71b8c02075"><span class="id" title="binder">σ</span></a> <a id="o:662" class="idref" href="#o:662"><span class="id" title="binder">o</span></a> <a id="z:663" class="idref" href="#z:663"><span class="id" title="binder">z</span></a> <a id="va:664" class="idref" href="#va:664"><span class="id" title="binder">va</span></a> <a id="p:665" class="idref" href="#p:665"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#8d0801fca63d9550232e6d71b8c02075"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:662"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:663"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:664"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:662"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:664"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:663"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:665"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:662"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:664"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:663"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.offset_pinned_ptr_pure" class="idref" href="#SimpleCPP.offset_pinned_ptr_pure"><span class="id" title="axiom">offset_pinned_ptr_pure</span></a> : <span class="id" title="notation">forall</span> <a id="9b34f55aa745d4cdd3bfab071f2ba8b2" class="idref" href="#9b34f55aa745d4cdd3bfab071f2ba8b2"><span class="id" title="binder">σ</span></a> <a id="o:667" class="idref" href="#o:667"><span class="id" title="binder">o</span></a> <a id="z:668" class="idref" href="#z:668"><span class="id" title="binder">z</span></a> <a id="va:669" class="idref" href="#va:669"><span class="id" title="binder">va</span></a> <a id="p:670" class="idref" href="#p:670"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#9b34f55aa745d4cdd3bfab071f2ba8b2"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:667"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:668"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.pinned_ptr_pure"><span class="id" title="definition">pinned_ptr_pure</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:669"><span class="id" title="variable">va</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:670"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:670"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:667"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:669"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:668"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:670"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:667"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:669"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:668"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.offset_inv_pinned_ptr_pure" class="idref" href="#SimpleCPP.offset_inv_pinned_ptr_pure"><span class="id" title="axiom">offset_inv_pinned_ptr_pure</span></a> : <span class="id" title="notation">forall</span> <a id="b9e7cead173ec6ddf44c1defc2729c5a" class="idref" href="#b9e7cead173ec6ddf44c1defc2729c5a"><span class="id" title="binder">σ</span></a> <a id="o:673" class="idref" href="#o:673"><span class="id" title="binder">o</span></a> <a id="z:674" class="idref" href="#z:674"><span class="id" title="binder">z</span></a> <a id="va:675" class="idref" href="#va:675"><span class="id" title="binder">va</span></a> <a id="p:676" class="idref" href="#p:676"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#b9e7cead173ec6ddf44c1defc2729c5a"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:673"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:674"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.pinned_ptr_pure"><span class="id" title="definition">pinned_ptr_pure</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:675"><span class="id" title="variable">va</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:676"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:673"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:676"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o:673"><span class="id" title="variable">o</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:675"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:674"><span class="id" title="variable">z</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">Z</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.pinned_ptr_pure"><span class="id" title="definition">pinned_ptr_pure</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.to_N"><span class="id" title="definition">Z.to_N</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#va:675"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#z:674"><span class="id" title="variable">z</span></a>)) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:676"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="SimpleCPP.exposed_aid" class="idref" href="#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">`{</span><a id="cpp_logic0:680" class="idref" href="#cpp_logic0:680"><span class="id" title="binder">!</span></a><a id="cpp_logic0:680" class="idref" href="#cpp_logic0:680"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:678" class="idref" href="#thread_info:678"><span class="id" title="binder"><span id="cpp_logic0:680" class="id">thread_info</span></span></a> <a id="b09422afae7dc9573f9e99ad681cb603" class="idref" href="#b09422afae7dc9573f9e99ad681cb603"><span class="id" title="binder"><span id="cpp_logic0:680" class="id">Σ</span></span></a><span class="id" title="notation">},</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp" class="idref" href="#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="cpp_logic0:684" class="idref" href="#cpp_logic0:684"><span class="id" title="binder">!</span></a><a id="cpp_logic0:684" class="idref" href="#cpp_logic0:684"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:682" class="idref" href="#thread_info:682"><span class="id" title="binder"><span id="cpp_logic0:684" class="id">thread_info</span></span></a> <a id="16248e1e2fbc21ad443faf0434aaa493" class="idref" href="#16248e1e2fbc21ad443faf0434aaa493"><span class="id" title="binder"><span id="cpp_logic0:684" class="id">Σ</span></span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;strict&nbsp;validity&nbsp;(not&nbsp;past-the-end)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.strict_valid_ptr" class="idref" href="#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;relaxed&nbsp;validity&nbsp;(past-the-end&nbsp;allowed)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="SimpleCPP.valid_ptr" class="idref" href="#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.exposed_aid_persistent" class="idref" href="#SimpleCPP.exposed_aid_persistent"><span class="id" title="axiom">exposed_aid_persistent</span></a> : <span class="id" title="notation">forall</span> <a id="aid:685" class="idref" href="#aid:685"><span class="id" title="binder">aid</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aid:685"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.exposed_aid_affine" class="idref" href="#SimpleCPP.exposed_aid_affine"><span class="id" title="axiom">exposed_aid_affine</span></a> : <span class="id" title="notation">forall</span> <a id="aid:687" class="idref" href="#aid:687"><span class="id" title="binder">aid</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aid:687"><span class="id" title="variable">aid</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.exposed_aid_timeless" class="idref" href="#SimpleCPP.exposed_aid_timeless"><span class="id" title="axiom">exposed_aid_timeless</span></a> : <span class="id" title="notation">forall</span> <a id="aid:689" class="idref" href="#aid:689"><span class="id" title="binder">aid</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#aid:689"><span class="id" title="variable">aid</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.exposed_aid_null_alloc_id" class="idref" href="#SimpleCPP.exposed_aid_null_alloc_id"><span class="id" title="axiom">exposed_aid_null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.exposed_aid"><span class="id" title="axiom">exposed_aid</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.null_alloc_id"><span class="id" title="definition">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_obj_repr_byte" class="idref" href="#SimpleCPP.type_ptr_obj_repr_byte"><span class="id" title="lemma">type_ptr_obj_repr_byte</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="1f8dec9b1053d627dea84c4249ded0eb" class="idref" href="#1f8dec9b1053d627dea84c4249ded0eb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="ty:693" class="idref" href="#ty:693"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:694" class="idref" href="#p:694"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="i:695" class="idref" href="#i:695"><span class="id" title="binder">i</span></a> <a id="sz:696" class="idref" href="#sz:696"><span class="id" title="binder">sz</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1f8dec9b1053d627dea84c4249ded0eb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:693"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sz:696"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;1)&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;has&nbsp;some&nbsp;byte-size&nbsp;<span class="inlinecode"><span class="id" title="var">sz</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:695"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sz:696"><span class="id" title="variable">sz</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>             <span class="comment">(*&nbsp;2)&nbsp;by&nbsp;(1),&nbsp;<span class="inlinecode"><span class="id" title="var">sz</span></span>&nbsp;is&nbsp;nonzero&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;is&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte-offset&nbsp;into&nbsp;the&nbsp;object&nbsp;rooted&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o</span></span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;<span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">ty</span>,</span> <span class="inlinecode"><span class="id" title="var">size_of</span></span> <span class="inlinecode">(<span class="id" title="var">Tarray</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">0)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode">0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;zero-length&nbsp;arrays&nbsp;are&nbsp;not&nbsp;permitted&nbsp;by&nbsp;the&nbsp;Standard<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cf.&nbsp;&lt;https://eel.is/c++draft/dcl.arraydef:array,bound>).
                                     NOTE: if support for flexible array members is ever added,
                                     it will need to be carefully coordinated with these sorts
                                     of transport lemmas.
                                   *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;4)&nbsp;The&nbsp;existence&nbsp;of&nbsp;the&nbsp;"object&nbsp;representation"&nbsp;of&nbsp;an&nbsp;object&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;in&nbsp;conjunction&nbsp;with&nbsp;the&nbsp;premises&nbsp;-&nbsp;justifies&nbsp;"lowering"&nbsp;any<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;fact&nbsp;to&nbsp;a&nbsp;collection&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode">(<span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode">.[<span class="id" title="var">Tu8</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span>])</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;facts&nbsp;-&nbsp;where&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;is&nbsp;a&nbsp;byte-offset&nbsp;within&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;(<span class="inlinecode">0</span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">sizeof</span>(<span class="id" title="var">ty</span>)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:693"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:694"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:694"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1f8dec9b1053d627dea84c4249ded0eb"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:695"><span class="id" title="variable">i</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.type_ptr_obj_repr" class="idref" href="#SimpleCPP.type_ptr_obj_repr"><span class="id" title="lemma">type_ptr_obj_repr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="52a82c22d1986a7605b166f53dfb596a" class="idref" href="#52a82c22d1986a7605b166f53dfb596a"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="ty:698" class="idref" href="#ty:698"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:699" class="idref" href="#p:699"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) (<a id="sz:700" class="idref" href="#sz:700"><span class="id" title="binder">sz</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#52a82c22d1986a7605b166f53dfb596a"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:698"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sz:700"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:698"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:699"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">[∗</span><span class="id" title="notation">list</span><span class="id" title="notation">]</span> <a id="i:701" class="idref" href="#i:701"><span class="id" title="binder"><span id="i:702" class="id">i</span></span></a> <span class="id" title="notation">∈</span> <a class="idref" href="bedrock.prelude.list_numbers.html#seqN"><span class="id" title="definition">seqN</span></a> 0 <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#sz:700"><span class="id" title="variable">sz</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:699"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#52a82c22d1986a7605b166f53dfb596a"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:701"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hsz</span>; <span class="id" title="var">iIntros</span> "#tptr".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="lemma">big_sepL_intro</span>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">n</span>) "%Hn'".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">lookup</span> (<span class="id" title="var">K</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.of_nat"><span class="id" title="definition">N.of_nat</span></a> <span class="id" title="var">k</span>) (<a class="idref" href="bedrock.prelude.list_numbers.html#seqN"><span class="id" title="definition">seqN</span></a> 0%<span class="id" title="var">N</span> <span class="id" title="var">sz</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hn</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="definition">lookupN</span>, <a class="idref" href="bedrock.prelude.list_numbers.html#list_lookupN"><span class="id" title="instance">list_lookupN</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.Nnat.html#Nat2N.id"><span class="id" title="lemma">Nat2N.id</span></a> //);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.prelude.list_numbers.html#lookupN_seqN"><span class="id" title="lemma">lookupN_seqN</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [? ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr_obj_repr_byte"><span class="id" title="axiom">type_ptr_obj_repr_byte</span></a> σ <span class="id" title="var">ty</span> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">sz</span> <span class="id" title="var">Hsz</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">lia</span>) <span class="id" title="notation">with</span> "tptr"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">offset_congP</span></span>&nbsp;hoists&nbsp;<span class="inlinecode"><span class="id" title="var">offset_cong</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">mpred</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.offset_congP" class="idref" href="#SimpleCPP.offset_congP"><span class="id" title="definition">offset_congP</span></a> (<a id="6292f8cb877f814e7b86dfc6e336127d" class="idref" href="#6292f8cb877f814e7b86dfc6e336127d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="o1:704" class="idref" href="#o1:704"><span class="id" title="binder">o1</span></a> <a id="o2:705" class="idref" href="#o2:705"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#6292f8cb877f814e7b86dfc6e336127d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o1:704"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#o2:705"><span class="id" title="variable">o2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span>&nbsp;is&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">mpred</span></span>&nbsp;which&nbsp;quotients&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_cong</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;requiring&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;holds&nbsp;for&nbsp;both&nbsp;<span class="inlinecode"><span class="id" title="var">p1</span></span>&nbsp;/and/&nbsp;<span class="inlinecode"><span class="id" title="var">p2</span></span>.&nbsp;This&nbsp;property<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;sound&nbsp;and&nbsp;sufficient&nbsp;for&nbsp;transporting&nbsp;certain&nbsp;physical<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resources&nbsp;between&nbsp;<span class="inlinecode"><span class="id" title="var">p1</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">p2</span></span>&nbsp;-&nbsp;and&nbsp;we&nbsp;hypothesize&nbsp;that&nbsp;it&nbsp;is&nbsp;also<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;necessary.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.ptr_congP" class="idref" href="#SimpleCPP.ptr_congP"><span class="id" title="definition">ptr_congP</span></a> (<a id="bcb5b9d9898a82290c48cfe65328f019" class="idref" href="#bcb5b9d9898a82290c48cfe65328f019"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) (<a id="p1:707" class="idref" href="#p1:707"><span class="id" title="binder">p1</span></a> <a id="p2:708" class="idref" href="#p2:708"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#bcb5b9d9898a82290c48cfe65328f019"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:707"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:708"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:707"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:708"><span class="id" title="variable">p2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;facts&nbsp;can&nbsp;be&nbsp;transported&nbsp;over&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;High&nbsp;level&nbsp;meaning:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;C++&nbsp;object&nbsp;model,&nbsp;a&nbsp;single&nbsp;byte&nbsp;of&nbsp;storage&nbsp;can&nbsp;be&nbsp;accessed&nbsp;through&nbsp;different&nbsp;pointers,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.&nbsp;consider&nbsp;<span class="inlinecode"><span class="id" title="keyword">struct</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode">{</span> <span class="inlinecode"><span class="id" title="var">int</span></span> <span class="inlinecode"><span class="id" title="var">x</span>;</span> <span class="inlinecode"><span class="id" title="var">int</span></span> <span class="inlinecode"><span class="id" title="var">y</span>;</span> <span class="inlinecode">}</span> <span class="inlinecode"><span class="id" title="var">c</span>;</span>.&nbsp;The&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;struct&nbsp;can&nbsp;be&nbsp;read&nbsp;through<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">static_cast</span>&lt;<span class="id" title="var">byte</span>*&gt;(&amp;<span class="id" title="var">c</span>)</span>&nbsp;(with&nbsp;pointer&nbsp;representation&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>)&nbsp;as&nbsp;well&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">static_cast</span>&lt;<span class="id" title="var">byte</span>*&gt;(&amp;<span class="id" title="var">c.x</span>)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(with&nbsp;pointer&nbsp;representation&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">_field</span></span> <span class="inlinecode">&quot;::<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;</span>).&nbsp;To&nbsp;put&nbsp;an&nbsp;ownership&nbsp;discipline&nbsp;on&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single&nbsp;byte,&nbsp;we&nbsp;build&nbsp;an&nbsp;equivalence&nbsp;relation&nbsp;on&nbsp;pointers&nbsp;that&nbsp;allows&nbsp;us&nbsp;to&nbsp;transport&nbsp;ownership<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;byte&nbsp;between&nbsp;these&nbsp;different&nbsp;pointers.&nbsp;For&nbsp;example,&nbsp;half&nbsp;of&nbsp;the&nbsp;ownership&nbsp;could&nbsp;live&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;the&nbsp;other&nbsp;half&nbsp;of&nbsp;the&nbsp;ownership&nbsp;can&nbsp;live&nbsp;at&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">_field</span></span> <span class="inlinecode">&quot;::<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;standard&nbsp;justifies&nbsp;this&nbsp;as&nbsp;follows:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span>&nbsp;comment)&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;ensures&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;points&nbsp;to&nbsp;a&nbsp;memory<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;with&nbsp;C++&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;and&nbsp;which&nbsp;has&nbsp;some&nbsp;value&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2)&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="keyword">Section</span></span> <span class="inlinecode"><span class="id" title="var">type_ptr_object_representation</span></span>)&nbsp;<span class="inlinecode"><span class="id" title="var">type_ptr</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span>&nbsp;holds&nbsp;for&nbsp;all&nbsp;of&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes&nbsp;(i.e.&nbsp;the&nbsp;"object&nbsp;reprsentation")&nbsp;constituting&nbsp;well-typed&nbsp;C++&nbsp;objects.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3)&nbsp;NOTE&nbsp;(JH):&nbsp;the&nbsp;following&nbsp;isn't&nbsp;quite&nbsp;true&nbsp;yet,&nbsp;but&nbsp;we'll&nbsp;want&nbsp;this&nbsp;when&nbsp;we&nbsp;flesh<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;<span class="inlinecode"><span class="id" title="var">rawR</span></span>/<span class="inlinecode"><span class="id" title="var">RAW_BYTES</span></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;all&nbsp;values&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;can&nbsp;be&nbsp;converted&nbsp;into&nbsp;(potentially&nbsp;many)&nbsp;<span class="inlinecode"><span class="id" title="var">raw_byte</span></span>s&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;capture&nbsp;its&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;all&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;facts&nbsp;can&nbsp;be&nbsp;shattered&nbsp;into&nbsp;(potentially&nbsp;many)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;facts&nbsp;corresponding&nbsp;to&nbsp;its&nbsp;"object&nbsp;representation"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4)&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;can&nbsp;be&nbsp;transported&nbsp;over&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a)&nbsp;<span class="inlinecode"><span class="id" title="var">tptso</span></span> <span class="inlinecode"><span class="id" title="var">Tu8</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">(<span class="id" title="var">Vraw</span></span> <span class="inlinecode"><span class="id" title="var">_</span>)</span>&nbsp;facts&nbsp;deal&nbsp;with&nbsp;the&nbsp;"object&nbsp;representation"&nbsp;directly<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;thus&nbsp;permit&nbsp;erasing&nbsp;the&nbsp;structure&nbsp;of&nbsp;pointers&nbsp;in&nbsp;favor&nbsp;of&nbsp;reasoning&nbsp;about<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative&nbsp;byte&nbsp;offsets&nbsp;from&nbsp;a&nbsp;shared&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>-prefix.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b)&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ptr</span></span>s&nbsp;are&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_congP</span></span>&nbsp;so&nbsp;we&nbsp;know&nbsp;that:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i)&nbsp;they&nbsp;share&nbsp;a&nbsp;common&nbsp;base&nbsp;pointer&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ii)&nbsp;the&nbsp;byte-offset&nbsp;values&nbsp;of&nbsp;the&nbsp;C++&nbsp;offsets&nbsp;which&nbsp;reconstitute&nbsp;the&nbsp;src/dst&nbsp;from<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span>&nbsp;are&nbsp;equal<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iii)&nbsp;NOTE:&nbsp;(cf.&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr_nonnull_nonzero</span></span>/<span class="inlinecode"><span class="id" title="var">type_ptr_valid_ptr</span></span>/<span class="inlinecode"><span class="id" title="var">type_ptr_nonnull</span></span>&nbsp;below)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p_base</span></span>&nbsp;has&nbsp;some&nbsp;<span class="inlinecode"><span class="id" title="var">vaddr</span></span>,&nbsp;but&nbsp;we&nbsp;don't&nbsp;currently&nbsp;rely&nbsp;on&nbsp;this&nbsp;fact.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;improve&nbsp;our&nbsp;axiomatic&nbsp;support&nbsp;for&nbsp;raw&nbsp;values&nbsp;-&nbsp;including&nbsp;"shattering"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-raw&nbsp;values&nbsp;into&nbsp;their&nbsp;constituent&nbsp;raw&nbsp;pieces&nbsp;-&nbsp;to&nbsp;enable&nbsp;deriving<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_ptr_congP_transport</span></span>&nbsp;from&nbsp;<span class="inlinecode"><span class="id" title="var">tptsto_raw_ptr_congP_transport</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.tptsto_ptr_congP_transport" class="idref" href="#SimpleCPP.tptsto_ptr_congP_transport"><span class="id" title="lemma">tptsto_ptr_congP_transport</span></a> : <span class="id" title="notation">forall</span> {<a id="50907173111813ddac2657b9e57994e7" class="idref" href="#50907173111813ddac2657b9e57994e7"><span class="id" title="binder">σ</span></a>} <a id="q:710" class="idref" href="#q:710"><span class="id" title="binder">q</span></a> <a id="p1:711" class="idref" href="#p1:711"><span class="id" title="binder">p1</span></a> <a id="p2:712" class="idref" href="#p2:712"><span class="id" title="binder">p2</span></a> <a id="v:713" class="idref" href="#v:713"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.ptr_congP"><span class="id" title="definition">ptr_congP</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#50907173111813ddac2657b9e57994e7"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:711"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:712"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#50907173111813ddac2657b9e57994e7"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:710"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p1:711"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:713"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#50907173111813ddac2657b9e57994e7"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:710"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p2:712"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:713"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.strict_valid_if_not_empty_array" class="idref" href="#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a id="ty:714" class="idref" href="#ty:714"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:714"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.stict_valid_if_not_empty_array_persistent" class="idref" href="#SimpleCPP.stict_valid_if_not_empty_array_persistent"><span class="id" title="instance">stict_valid_if_not_empty_array_persistent</span></a> <a id="ty:715" class="idref" href="#ty:715"><span class="id" title="binder">ty</span></a> <a id="p:716" class="idref" href="#p:716"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Persistent</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:715"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:716"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.stict_valid_if_not_empty_array_affine" class="idref" href="#SimpleCPP.stict_valid_if_not_empty_array_affine"><span class="id" title="instance">stict_valid_if_not_empty_array_affine</span></a> <a id="ty:717" class="idref" href="#ty:717"><span class="id" title="binder">ty</span></a> <a id="p:718" class="idref" href="#p:718"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Affine</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:717"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:718"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.stict_valid_if_not_empty_array_timeless" class="idref" href="#SimpleCPP.stict_valid_if_not_empty_array_timeless"><span class="id" title="instance">stict_valid_if_not_empty_array_timeless</span></a> <a id="ty:719" class="idref" href="#ty:719"><span class="id" title="binder">ty</span></a> <a id="p:720" class="idref" href="#p:720"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">Timeless</span> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:719"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:720"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.zero_size_array_erase_qualifiers" class="idref" href="#SimpleCPP.zero_size_array_erase_qualifiers"><span class="id" title="lemma">zero_size_array_erase_qualifiers</span></a> <a id="ty:721" class="idref" href="#ty:721"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:721"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:721"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm"><span class="id" title="definition">qual_norm</span></a> /=; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty</span>. <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#merge_tq"><span class="id" title="definition">merge_tq</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#QM"><span class="id" title="constructor">QM</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">rewrite</span> /= /<a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm"><span class="id" title="definition">qual_norm</span></a>/=; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<span class="id" title="var">IHty</span>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.stict_valid_if_not_empty_array_erase" class="idref" href="#SimpleCPP.stict_valid_if_not_empty_array_erase"><span class="id" title="lemma">stict_valid_if_not_empty_array_erase</span></a> <a id="ty:722" class="idref" href="#ty:722"><span class="id" title="binder">ty</span></a> <a id="p:723" class="idref" href="#p:723"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:722"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:723"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:722"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:723"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.zero_size_array_erase_qualifiers"><span class="id" title="lemma">zero_size_array_erase_qualifiers</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.has_type" class="idref" href="#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> {<a id="ec239920186eca736b8b63b0cac2a7f7" class="idref" href="#ec239920186eca736b8b63b0cac2a7f7"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="v:725" class="idref" href="#v:725"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) (<a id="ty:726" class="idref" href="#ty:726"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:725"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:725"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <span class="id" title="var">p</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#drop_qualifiers"><span class="id" title="definition">drop_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <span class="id" title="var">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">ty</span> | <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">emp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:726"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.has_type_mono" class="idref" href="#SimpleCPP.has_type_mono"><span class="id" title="instance">has_type_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(⊢)</span>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.reference_to" class="idref" href="#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> {<a id="8f690e0fc8bdb62d0de3dafc20238e0d" class="idref" href="#8f690e0fc8bdb62d0de3dafc20238e0d"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="ty:729" class="idref" href="#ty:729"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:730" class="idref" href="#p:730"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:729"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:730"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:730"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:730"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:729"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#::stdpp_scope:'emp'"><span class="id" title="notation">emp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:730"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.reference_to_mono" class="idref" href="#SimpleCPP.reference_to_mono"><span class="id" title="instance">reference_to_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(⊢)</span>) (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="SimpleCPP.has_type_or_undef" class="idref" href="#SimpleCPP.has_type_or_undef"><span class="id" title="definition">has_type_or_undef</span></a> {<a id="53236c36231cf89ed23bcacafdd0e853" class="idref" href="#53236c36231cf89ed23bcacafdd0e853"><span class="id" title="binder">σ</span></a>} (<a id="v:732" class="idref" href="#v:732"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a>) <a id="ty:733" class="idref" href="#ty:733"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:732"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:733"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">\\//</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:732"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vundef"><span class="id" title="constructor">Vundef</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_or_undef_unfold" class="idref" href="#SimpleCPP.has_type_or_undef_unfold"><span class="id" title="lemma">has_type_or_undef_unfold</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type_or_undef"><span class="id" title="definition">has_type_or_undef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="5c3510c3cae7bebee3dcd4f1be5209e3" class="idref" href="#5c3510c3cae7bebee3dcd4f1be5209e3"><span class="id" title="binder">σ</span></a> <a id="v:735" class="idref" href="#v:735"><span class="id" title="binder">v</span></a> <a id="ty:736" class="idref" href="#ty:736"><span class="id" title="binder">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:735"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:736"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3a2de85a354f74f4500a62a40ce68fff"><span class="id" title="notation">\\//</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:735"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vundef"><span class="id" title="constructor">Vundef</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp.with_genv" class="idref" href="#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="05919c830cfa9b557efbf34b6f8138b3" class="idref" href="#05919c830cfa9b557efbf34b6f8138b3"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.has_type_knowledge" class="idref" href="#SimpleCPP.has_type_knowledge"><span class="id" title="instance">has_type_knowledge</span></a> : <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#Knowledge2"><span class="id" title="abbreviation">Knowledge2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_knowledge</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.has_type_timeless" class="idref" href="#SimpleCPP.has_type_timeless"><span class="id" title="instance">has_type_timeless</span></a> : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless2"><span class="id" title="abbreviation">Timeless2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;AUTO:&nbsp;this&nbsp;gives&nbsp;a&nbsp;measureable&nbsp;speedup&nbsp;:-(&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ?: <a class="idref" href="bedrock.prelude.base.html#Refine"><span class="id" title="abbreviation">Refine</span></a> (<span class="id" title="class">Timeless</span> (<span class="id" title="var">PROP</span> := <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) <span class="id" title="notation">emp</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_has_type_prop" class="idref" href="#SimpleCPP.has_type_has_type_prop"><span class="id" title="lemma">has_type_has_type_prop</span></a> <a id="v:738" class="idref" href="#v:738"><span class="id" title="binder">v</span></a> <a id="ty:739" class="idref" href="#ty:739"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:738"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:739"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:738"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:739"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[$ _]". <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_prop_has_type_noptr" class="idref" href="#SimpleCPP.has_type_prop_has_type_noptr"><span class="id" title="lemma">has_type_prop_has_type_noptr</span></a> <a id="v:740" class="idref" href="#v:740"><span class="id" title="binder">v</span></a> <a id="ty:741" class="idref" href="#ty:741"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:741"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:740"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:741"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:740"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:741"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type"><span class="id" title="definition">nonptr_prim_type</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_erase_qualifiers" class="idref" href="#SimpleCPP.has_type_erase_qualifiers"><span class="id" title="lemma">has_type_erase_qualifiers</span></a> <a id="ty:742" class="idref" href="#ty:742"><span class="id" title="binder">ty</span></a> <a id="v:743" class="idref" href="#v:743"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:743"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:742"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:743"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:742"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_erase_qualifiers"><span class="id" title="axiom">has_type_prop_erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#drop_erase_qualifiers"><span class="id" title="lemma">drop_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.pred.html#nonptr_prim_type_erase_qualifiers"><span class="id" title="lemma">nonptr_prim_type_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_drop_qualifiers"><span class="id" title="lemma">erase_drop_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty_erase_qualifiers"><span class="id" title="lemma">aligned_ptr_ty_erase_qualifiers</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.stict_valid_if_not_empty_array_erase"><span class="id" title="lemma">stict_valid_if_not_empty_array_erase</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#unqual_drop_qualifiers"><span class="id" title="lemma">unqual_drop_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_nullptr'" class="idref" href="#SimpleCPP.has_type_nullptr'"><span class="id" title="lemma">has_type_nullptr'</span></a> <a id="p:744" class="idref" href="#p:744"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:744"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:744"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>/= <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_nullptr"><span class="id" title="axiom">has_type_prop_nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">inj_iff</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">iIntros</span> "[$ _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "-&gt;". <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_ptr'" class="idref" href="#SimpleCPP.has_type_ptr'"><span class="id" title="lemma">has_type_ptr'</span></a> <a id="p:745" class="idref" href="#p:745"><span class="id" title="binder">p</span></a> <a id="ty:746" class="idref" href="#ty:746"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:745"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tpointer"><span class="id" title="abbreviation">Tpointer</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:746"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:745"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:746"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:745"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>/= <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_pointer"><span class="id" title="axiom">has_type_prop_pointer</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#only_provable_True"><span class="id" title="lemma">only_provable_True</span></a> ?(<span class="id" title="definition">left_id</span> <a class="idref" href="bedrock.lang.bi.prelude.html#::stdpp_scope:'emp'"><span class="id" title="notation">emp</span></a>) //. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.strict_valid_ptr_nonnull" class="idref" href="#SimpleCPP.strict_valid_ptr_nonnull"><span class="id" title="instance">strict_valid_ptr_nonnull</span></a> <a id="p:747" class="idref" href="#p:747"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:747"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:747"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#? !&gt;"; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hne</span>]; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.not_strictly_valid_ptr_nullptr"><span class="id" title="lemma">not_strictly_valid_ptr_nullptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_ref'" class="idref" href="#SimpleCPP.has_type_ref'"><span class="id" title="lemma">has_type_ref'</span></a> <a id="p:748" class="idref" href="#p:748"><span class="id" title="binder">p</span></a> <a id="ty:749" class="idref" href="#ty:749"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:748"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tref"><span class="id" title="constructor">Tref</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:749"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:749"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:748"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>/=/<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_ref"><span class="id" title="axiom">has_type_prop_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_if_not_empty_array"><span class="id" title="definition">strict_valid_if_not_empty_array</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[%Ht [#H $]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [? [<span class="id" title="var">Ht</span>?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">case_match</span>; <span class="id" title="var">iFrame</span> "%#∗".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_valid"><span class="id" title="lemma">strict_valid_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="SimpleCPP.has_type_rv_ref'" class="idref" href="#SimpleCPP.has_type_rv_ref'"><span class="id" title="lemma">has_type_rv_ref'</span></a> <a id="p:750" class="idref" href="#p:750"><span class="id" title="binder">p</span></a> <a id="ty:751" class="idref" href="#ty:751"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:750"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:751"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:751"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:750"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type_ref'"><span class="id" title="lemma">has_type_ref'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>/= <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_ref"><span class="id" title="axiom">has_type_prop_ref</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.has_type_prop_rv_ref"><span class="id" title="axiom">has_type_prop_rv_ref</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.reference_to_knowledge" class="idref" href="#SimpleCPP.reference_to_knowledge"><span class="id" title="instance">reference_to_knowledge</span></a> : <a class="idref" href="bedrock.lang.bi.spec.knowledge.html#Knowledge2"><span class="id" title="abbreviation">Knowledge2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.reference_to_timeless" class="idref" href="#SimpleCPP.reference_to_timeless"><span class="id" title="instance">reference_to_timeless</span></a> : <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless2"><span class="id" title="abbreviation">Timeless2</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.reference_to_erase" class="idref" href="#SimpleCPP.reference_to_erase"><span class="id" title="lemma">reference_to_erase</span></a> : <span class="id" title="notation">forall</span> <a id="ty:752" class="idref" href="#ty:752"><span class="id" title="binder">ty</span></a> <a id="p:753" class="idref" href="#p:753"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:752"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:753"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:752"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:753"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty_erase_qualifiers"><span class="id" title="lemma">aligned_ptr_ty_erase_qualifiers</span></a> -<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.zero_size_array_erase_qualifiers"><span class="id" title="lemma">zero_size_array_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.reference_to_intro" class="idref" href="#SimpleCPP.reference_to_intro"><span class="id" title="lemma">reference_to_intro</span></a> : <span class="id" title="notation">forall</span> <a id="ty:754" class="idref" href="#ty:754"><span class="id" title="binder">ty</span></a> <a id="p:755" class="idref" href="#p:755"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:755"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:755"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:754"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:754"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:755"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type"><span class="id" title="definition">has_type</span></a>/<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "#V [%Htype [? %Haligned]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <span class="id" title="notation">(</span><a class="idref" href="bedrock.lang.bi.observe.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <span class="id" title="notation">with</span> "V"<span class="id" title="notation">)</span> <span class="id" title="keyword">as</span> "#$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.reference_to_elim" class="idref" href="#SimpleCPP.reference_to_elim"><span class="id" title="lemma">reference_to_elim</span></a> : <span class="id" title="notation">forall</span> <a id="ty:756" class="idref" href="#ty:756"><span class="id" title="binder">ty</span></a> <a id="p:757" class="idref" href="#p:757"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:756"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:756"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:756"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="notation">emp</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:757"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp.with_genv"><span class="id" title="section">with_genv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.tptsto_welltyped" class="idref" href="#SimpleCPP.tptsto_welltyped"><span class="id" title="lemma">tptsto_welltyped</span></a> : <span class="id" title="notation">forall</span> {<a id="68de7bb63cddf4b12d2cbc66365fb4e9" class="idref" href="#68de7bb63cddf4b12d2cbc66365fb4e9"><span class="id" title="binder">σ</span></a>} <a id="p:759" class="idref" href="#p:759"><span class="id" title="binder">p</span></a> <a id="ty:760" class="idref" href="#ty:760"><span class="id" title="binder">ty</span></a> <a id="q:761" class="idref" href="#q:761"><span class="id" title="binder">q</span></a> (<a id="v:762" class="idref" href="#v:762"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.has_type_or_undef"><span class="id" title="definition">has_type_or_undef</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:762"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:760"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#68de7bb63cddf4b12d2cbc66365fb4e9"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:760"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:761"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:759"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:762"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="keyword">Notation</span></span>&nbsp;connects&nbsp;to&nbsp;the&nbsp;wrong&nbsp;definition&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Theorem</span> <a id="SimpleCPP.tptsto_reference_to" class="idref" href="#SimpleCPP.tptsto_reference_to"><span class="id" title="lemma">tptsto_reference_to</span></a> : <span class="id" title="notation">forall</span> {<a id="9a42112bdc701bca99e79110a6b8ecd6" class="idref" href="#9a42112bdc701bca99e79110a6b8ecd6"><span class="id" title="binder">σ</span></a>} <a id="p:764" class="idref" href="#p:764"><span class="id" title="binder">p</span></a> <a id="ty:765" class="idref" href="#ty:765"><span class="id" title="binder">ty</span></a> <a id="q:766" class="idref" href="#q:766"><span class="id" title="binder">q</span></a> (<a id="v:767" class="idref" href="#v:767"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL.val"><span class="id" title="inductive">val</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.reference_to"><span class="id" title="definition">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:765"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:764"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a> (σ:=<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#9a42112bdc701bca99e79110a6b8ecd6"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:765"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:766"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:764"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#v:767"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.struct_padding" class="idref" href="#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">`{</span><a id="cpp_logic0:770" class="idref" href="#cpp_logic0:770"><span class="id" title="binder">!</span></a><a id="cpp_logic0:770" class="idref" href="#cpp_logic0:770"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:768" class="idref" href="#thread_info:768"><span class="id" title="binder"><span id="cpp_logic0:770" class="id">thread_info</span></span></a> <a id="6bf91d213df0bb0ac259b13d0e6fa801" class="idref" href="#6bf91d213df0bb0ac259b13d0e6fa801"><span class="id" title="binder"><span id="cpp_logic0:770" class="id">Σ</span></span></a>} {<a id="46d2c1ba4a970bceee941830f905d787" class="idref" href="#46d2c1ba4a970bceee941830f905d787"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><span class="id" title="notation">},</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp" class="idref" href="#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:775" class="idref" href="#H:775"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.struct_padding_timeless" class="idref" href="#SimpleCPP.struct_padding_timeless"><span class="id" title="instance">struct_padding_timeless</span></a> {<a id="9a818dd8ba61826ba7cef2970ae2ede5" class="idref" href="#9a818dd8ba61826ba7cef2970ae2ede5"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} :  <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless3"><span class="id" title="abbreviation">Timeless3</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.struct_padding_fractional" class="idref" href="#SimpleCPP.struct_padding_fractional"><span class="id" title="instance">struct_padding_fractional</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="e279b5d89ad0eaa299b505ff9620b116" class="idref" href="#e279b5d89ad0eaa299b505ff9620b116"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:778" class="idref" href="#p:778"><span class="id" title="binder">p</span></a> <a id="cls:779" class="idref" href="#cls:779"><span class="id" title="binder">cls</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:778"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:779"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.struct_padding_frac_valid" class="idref" href="#SimpleCPP.struct_padding_frac_valid"><span class="id" title="instance">struct_padding_frac_valid</span></a> :  <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="741b5a917292ba327f9d8dd5e459e0bd" class="idref" href="#741b5a917292ba327f9d8dd5e459e0bd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:781" class="idref" href="#p:781"><span class="id" title="binder">p</span></a> <a id="cls:782" class="idref" href="#cls:782"><span class="id" title="binder">cls</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid0"><span class="id" title="class">CFracValid0</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:781"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:782"><span class="id" title="variable">cls</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.struct_padding_type_ptr_observe" class="idref" href="#SimpleCPP.struct_padding_type_ptr_observe"><span class="id" title="instance">struct_padding_type_ptr_observe</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="e3c41ca2fc8c7444a8d268028842392a" class="idref" href="#e3c41ca2fc8c7444a8d268028842392a"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:784" class="idref" href="#p:784"><span class="id" title="binder">p</span></a> <a id="cls:785" class="idref" href="#cls:785"><span class="id" title="binder">cls</span></a> <a id="q:786" class="idref" href="#q:786"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:785"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:784"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.struct_padding"><span class="id" title="axiom">struct_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:784"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:785"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:786"><span class="id" title="variable">q</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="SimpleCPP.union_padding" class="idref" href="#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">`{</span><a id="cpp_logic0:789" class="idref" href="#cpp_logic0:789"><span class="id" title="binder">!</span></a><a id="cpp_logic0:789" class="idref" href="#cpp_logic0:789"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:787" class="idref" href="#thread_info:787"><span class="id" title="binder"><span id="cpp_logic0:789" class="id">thread_info</span></span></a> <a id="ddbb4a4a16f277d990c8262705554992" class="idref" href="#ddbb4a4a16f277d990c8262705554992"><span class="id" title="binder"><span id="cpp_logic0:789" class="id">Σ</span></span></a>} {<a id="6f6bad12343acf73a7fd507964e8d0c5" class="idref" href="#6f6bad12343acf73a7fd507964e8d0c5"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><span class="id" title="notation">},</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="SimpleCPP.with_cpp" class="idref" href="#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:794" class="idref" href="#H:794"><span class="id" title="binder">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.union_padding_timeless" class="idref" href="#SimpleCPP.union_padding_timeless"><span class="id" title="instance">union_padding_timeless</span></a> {<a id="64d87a1c5c79edc8757351bb35250fda" class="idref" href="#64d87a1c5c79edc8757351bb35250fda"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} :  <a class="idref" href="bedrock.lang.bi.derived_laws.html#nary.Timeless4"><span class="id" title="abbreviation">Timeless4</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.union_padding_fractional" class="idref" href="#SimpleCPP.union_padding_fractional"><span class="id" title="instance">union_padding_fractional</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="e1fc08f4c0b3abd47c83067c2ffc26ca" class="idref" href="#e1fc08f4c0b3abd47c83067c2ffc26ca"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:797" class="idref" href="#p:797"><span class="id" title="binder">p</span></a> <a id="cls:798" class="idref" href="#cls:798"><span class="id" title="binder">cls</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional1"><span class="id" title="abbreviation">CFractional1</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:797"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:798"><span class="id" title="variable">cls</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.union_padding_frac_valid" class="idref" href="#SimpleCPP.union_padding_frac_valid"><span class="id" title="instance">union_padding_frac_valid</span></a> :  <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="bd4ad20937015a47dd2651e35661e288" class="idref" href="#bd4ad20937015a47dd2651e35661e288"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:800" class="idref" href="#p:800"><span class="id" title="binder">p</span></a> <a id="cls:801" class="idref" href="#cls:801"><span class="id" title="binder">cls</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFracValid1"><span class="id" title="class">CFracValid1</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:800"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:801"><span class="id" title="variable">cls</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.union_padding_type_ptr_observe" class="idref" href="#SimpleCPP.union_padding_type_ptr_observe"><span class="id" title="instance">union_padding_type_ptr_observe</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="97be9723778c8e3cd715f8c858df8689" class="idref" href="#97be9723778c8e3cd715f8c858df8689"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:803" class="idref" href="#p:803"><span class="id" title="binder">p</span></a> <a id="cls:804" class="idref" href="#cls:804"><span class="id" title="binder">cls</span></a> <a id="q:805" class="idref" href="#q:805"><span class="id" title="binder">q</span></a> <a id="active:806" class="idref" href="#active:806"><span class="id" title="binder">active</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:804"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:803"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:803"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:804"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:805"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#active:806"><span class="id" title="variable">active</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.union_padding_agree" class="idref" href="#SimpleCPP.union_padding_agree"><span class="id" title="instance">union_padding_agree</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">{</span><a id="059a477717ba16af62e53a991168d579" class="idref" href="#059a477717ba16af62e53a991168d579"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="p:808" class="idref" href="#p:808"><span class="id" title="binder">p</span></a> <a id="cls:809" class="idref" href="#cls:809"><span class="id" title="binder">cls</span></a> <a id="q:810" class="idref" href="#q:810"><span class="id" title="binder">q</span></a> <a id="q':811" class="idref" href="#q':811"><span class="id" title="binder">q'</span></a> <a id="i:812" class="idref" href="#i:812"><span class="id" title="binder">i</span></a> <a id="i':813" class="idref" href="#i':813"><span class="id" title="binder">i'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe2"><span class="id" title="class">Observe2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:812"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i':813"><span class="id" title="variable">i'</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:808"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:809"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q:810"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:812"><span class="id" title="variable">i</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.union_padding"><span class="id" title="axiom">union_padding</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:808"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:809"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#q':811"><span class="id" title="variable">q'</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i':813"><span class="id" title="variable">i'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="SimpleCPP.tptsto_params" class="idref" href="#SimpleCPP.tptsto_params"><span class="id" title="instance">tptsto_params</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a>) 3 := {}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP"><span class="id" title="module">SimpleCPP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="SimpleCPP_INTF" class="idref" href="#SimpleCPP_INTF"><span class="id" title="module">SimpleCPP_INTF</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS"><span class="id" title="module">CPP_LOGIC_CLASS</span></a> &lt;+ <a class="idref" href="bedrock.lang.cpp.logic.pred.html#CPP_LOGIC"><span class="id" title="module">CPP_LOGIC</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL"><span class="id" title="module">VALUES_DEFS_IMPL</span></a>.<br/>
<span class="id" title="keyword">Module</span> <a id="L" class="idref" href="#L"><span class="id" title="module">L</span></a> &lt;: <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_INTF"><span class="id" title="module">SimpleCPP_INTF</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP"><span class="id" title="module">SimpleCPP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="VALID_PTR" class="idref" href="#VALID_PTR"><span class="id" title="module">VALID_PTR</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.pred.html#VALID_PTR_AXIOMS"><span class="id" title="module">VALID_PTR_AXIOMS</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALUES_DEFS_IMPL"><span class="id" title="module">VALUES_DEFS_IMPL</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#L"><span class="id" title="module">L</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#L"><span class="id" title="module">L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP"><span class="id" title="module">SimpleCPP</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="VALID_PTR.strict_valid_ptr" class="idref" href="#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="VALID_PTR.valid_ptr" class="idref" href="#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> := (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="VALID_PTR.with_cpp" class="idref" href="#VALID_PTR.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:816" class="idref" href="#H:816"><span class="id" title="binder">cpp_logic</span></a>} {<a id="ead98f48c1380d4307207c210823105a" class="idref" href="#ead98f48c1380d4307207c210823105a"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="VALID_PTR.invalid_ptr_invalid" class="idref" href="#VALID_PTR.invalid_ptr_invalid"><span class="id" title="lemma">invalid_ptr_invalid</span></a> <a id="vt:818" class="idref" href="#vt:818"><span class="id" title="binder">vt</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:818"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.invalid_ptr"><span class="id" title="definition">invalid_ptr</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;proper&nbsp;proof&nbsp;requires&nbsp;redesigning&nbsp;valid_ptr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a>; <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "[%|H]"; <span class="id" title="tactic">first</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> (<span class="id" title="var">base</span> <span class="id" title="var">l</span> <span class="id" title="var">h</span> <span class="id" title="var">o</span> <span class="id" title="var">zo</span>) "(B &amp; Rng &amp; %Hoff &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hoff</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">Heval</span> &amp; <span class="id" title="var">Habs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Justified by <span class="inlinecode"><span class="id" title="var">https</span>://<span class="id" title="var">eel.is</span>/<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.c"><span class="id" title="abbreviation">c</span></a>++<span class="id" title="var">draft</span>/<span class="id" title="var">expr.add</span>#4.1</span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR._valid_ptr_nullptr_sub_false" class="idref" href="#VALID_PTR._valid_ptr_nullptr_sub_false"><span class="id" title="axiom">_valid_ptr_nullptr_sub_false</span></a> : <span class="id" title="notation">forall</span> <a id="vt:819" class="idref" href="#vt:819"><span class="id" title="binder">vt</span></a> <a id="ty:820" class="idref" href="#ty:820"><span class="id" title="binder">ty</span></a> (<a id="i:821" class="idref" href="#i:821"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:821"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:819"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:820"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:821"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <span class="id" title="notation">False</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;TODO&nbsp;Controversial;&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;is&nbsp;the&nbsp;first&nbsp;field,&nbsp;<span class="inlinecode"><span class="id" title="var">nullptr</span>-&gt;<span class="id" title="var">f</span></span>&nbsp;or&nbsp;casts&nbsp;relying&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;https://eel.is/c++draft/basic.compound4 might invalidate this.
    To make this valid, we could ensure our axiomatic semantics produces
    [nullptr] instead of [nullptr ., o_field]. *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;_valid_ptr_nullptr_field_false&nbsp;:&nbsp;forall&nbsp;vt&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_valid_ptr&nbsp;vt&nbsp;(nullptr&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;False.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
These axioms are named after the predicate in the conclusion. 
<div class="paragraph"> </div>


<div class="paragraph"> </div>

    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a></span> assumes that, if <span class="inlinecode"><span class="id" title="var">p'</span></span>
    normalizes to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> is defined to imply
    validity of all pointers from <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> to <span class="inlinecode"><span class="id" title="var">p'</span></span>.

<div class="paragraph"> </div>

    Note that `arrR` exposes stronger reasoning principles, but this might still be useful.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.strict_valid_ptr_sub" class="idref" href="#VALID_PTR.strict_valid_ptr_sub"><span class="id" title="axiom">strict_valid_ptr_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="i:823" class="idref" href="#i:823"><span class="id" title="binder">i</span></a> <a id="j:824" class="idref" href="#j:824"><span class="id" title="binder">j</span></a> <a id="k:825" class="idref" href="#k:825"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="p:826" class="idref" href="#p:826"><span class="id" title="binder">p</span></a> <a id="ty:827" class="idref" href="#ty:827"><span class="id" title="binder">ty</span></a> <a id="vt1:828" class="idref" href="#vt1:828"><span class="id" title="binder">vt1</span></a> <a id="vt2:829" class="idref" href="#vt2:829"><span class="id" title="binder">vt2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:823"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#j:824"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:825"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt1:828"><span class="id" title="variable">vt1</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:826"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:827"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:823"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt2:829"><span class="id" title="variable">vt2</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:826"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:827"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#k:825"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:826"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:827"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#j:824"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
XXX: this axiom is convoluted but
    TODO: The intended proof of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a></span> (and friends) is that
    (1) if <span class="inlinecode"><span class="id" title="var">p'</span></span> normalizes to <span class="inlinecode"><span class="id" title="var">p''</span></span> <span class="inlinecode">.,</span> <span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode">!</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">]</span>, then <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p'</span></span> implies
    <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode"><span class="id" title="var">p''</span></span>.
    (2) <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#compat_le.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> will normalize to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span>
    <span class="inlinecode">σ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#compat_le.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>, without cancellation.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.strict_valid_ptr_field_sub" class="idref" href="#VALID_PTR.strict_valid_ptr_field_sub"><span class="id" title="axiom">strict_valid_ptr_field_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:831" class="idref" href="#p:831"><span class="id" title="binder">p</span></a> <a id="ty:832" class="idref" href="#ty:832"><span class="id" title="binder">ty</span></a> (<a id="i:833" class="idref" href="#i:833"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <a id="f:834" class="idref" href="#f:834"><span class="id" title="binder">f</span></a> <a id="vt:835" class="idref" href="#vt:835"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:833"><span class="id" title="variable">i</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:835"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:831"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:834"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:832"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:833"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:831"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:834"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;can&nbsp;we&nbsp;deduce&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;strictly&nbsp;valid?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR._valid_ptr_field" class="idref" href="#VALID_PTR._valid_ptr_field"><span class="id" title="axiom">_valid_ptr_field</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="p:837" class="idref" href="#p:837"><span class="id" title="binder">p</span></a> <a id="f:838" class="idref" href="#f:838"><span class="id" title="binder">f</span></a> <a id="vt:839" class="idref" href="#vt:839"><span class="id" title="binder">vt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:839"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:837"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#f:838"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:839"><span class="id" title="variable">vt</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:837"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Pointers&nbsp;to&nbsp;fields&nbsp;can't&nbsp;be&nbsp;past-the-end,&nbsp;right?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Except&nbsp;0-size&nbsp;arrays.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;if&nbsp;we&nbsp;add&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>,&nbsp;we&nbsp;can&nbsp;derive<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">_valid_ptr_field</span></span>&nbsp;from&nbsp;just&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr_field</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;strict_valid_ptr_field&nbsp;:&nbsp;∀&nbsp;p&nbsp;f,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict_valid_ptr&nbsp;(p&nbsp;,,&nbsp;o_field&nbsp;σ&nbsp;f)&nbsp;|--&nbsp;strict_valid_ptr&nbsp;p.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;maybe&nbsp;add&nbsp;a&nbsp;validity&nbsp;of&nbsp;offsets&nbsp;to&nbsp;allow&nbsp;stating&nbsp;this&nbsp;more&nbsp;generally.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.valid_o_sub_size" class="idref" href="#VALID_PTR.valid_o_sub_size"><span class="id" title="axiom">valid_o_sub_size</span></a> : <span class="id" title="notation">forall</span> <a id="p:841" class="idref" href="#p:841"><span class="id" title="binder">p</span></a> <a id="ty:842" class="idref" href="#ty:842"><span class="id" title="binder">ty</span></a> <a id="i:843" class="idref" href="#i:843"><span class="id" title="binder">i</span></a> <a id="vt:844" class="idref" href="#vt:844"><span class="id" title="binder">vt</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#vt:844"><span class="id" title="variable">vt</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:841"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_sub"><span class="id" title="definition">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:842"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#i:843"><span class="id" title="variable">i</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:842"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.type_ptr_o_base" class="idref" href="#VALID_PTR.type_ptr_o_base"><span class="id" title="axiom">type_ptr_o_base</span></a> : <span class="id" title="notation">forall</span> <a id="derived:846" class="idref" href="#derived:846"><span class="id" title="binder">derived</span></a> <a id="base:847" class="idref" href="#base:847"><span class="id" title="binder">base</span></a> <a id="p:848" class="idref" href="#p:848"><span class="id" title="binder">p</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.subtyping.html#class_derives"><span class="id" title="class">class_derives</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:846"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:847"><span class="id" title="variable">base</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:846"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:848"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:847"><span class="id" title="variable">base</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:848"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL._base"><span class="id" title="abbreviation">_base</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:846"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:847"><span class="id" title="variable">base</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.type_ptr_o_field_type_ptr" class="idref" href="#VALID_PTR.type_ptr_o_field_type_ptr"><span class="id" title="axiom">type_ptr_o_field_type_ptr</span></a> : <span class="id" title="notation">forall</span> <a id="p:850" class="idref" href="#p:850"><span class="id" title="binder">p</span></a> <a id="fld:851" class="idref" href="#fld:851"><span class="id" title="binder">fld</span></a> <a id="cls:852" class="idref" href="#cls:852"><span class="id" title="binder">cls</span></a> (<a id="st:853" class="idref" href="#st:853"><span class="id" title="binder">st</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Struct"><span class="id" title="abbreviation">Struct</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:852"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#st:853"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fld:851"><span class="id" title="variable">fld</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_fields"><span class="id" title="projection">s_fields</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#st:853"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:852"><span class="id" title="variable">cls</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:850"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fld:851"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_type"><span class="id" title="projection">mem_type</span></a>) (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:850"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#847bdbd0a33c4a8a994af8f1f31a300e"><span class="id" title="notation">.,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#847bdbd0a33c4a8a994af8f1f31a300e"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#fld:851"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_name"><span class="id" title="projection">mem_name</span></a>) ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#cls:852"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#847bdbd0a33c4a8a994af8f1f31a300e"><span class="id" title="notation">|}</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.type_ptr_o_sub" class="idref" href="#VALID_PTR.type_ptr_o_sub"><span class="id" title="axiom">type_ptr_o_sub</span></a> : <span class="id" title="notation">forall</span> <a id="p:855" class="idref" href="#p:855"><span class="id" title="binder">p</span></a> (<a id="m:856" class="idref" href="#m:856"><span class="id" title="binder">m</span></a> <a id="n:857" class="idref" href="#n:857"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) <a id="ty:858" class="idref" href="#ty:858"><span class="id" title="binder">ty</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#m:856"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:857"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:858"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:857"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:855"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:858"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:855"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:858"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#m:856"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.type_ptr_o_sub_end" class="idref" href="#VALID_PTR.type_ptr_o_sub_end"><span class="id" title="axiom">type_ptr_o_sub_end</span></a> : <span class="id" title="notation">forall</span> <a id="p:860" class="idref" href="#p:860"><span class="id" title="binder">p</span></a> (<a id="n:861" class="idref" href="#n:861"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>) <a id="ty:862" class="idref" href="#ty:862"><span class="id" title="binder">ty</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:862"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:861"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:860"><span class="id" title="variable">p</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:860"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#ty:862"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#n:861"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.o_base_directly_derives" class="idref" href="#VALID_PTR.o_base_directly_derives"><span class="id" title="axiom">o_base_directly_derives</span></a> : <span class="id" title="notation">forall</span> <a id="p:864" class="idref" href="#p:864"><span class="id" title="binder">p</span></a> <a id="base:865" class="idref" href="#base:865"><span class="id" title="binder">base</span></a> <a id="derived:866" class="idref" href="#derived:866"><span class="id" title="binder">derived</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:864"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_base"><span class="id" title="definition">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:866"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:865"><span class="id" title="variable">base</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:866"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:865"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="VALID_PTR.o_derived_directly_derives" class="idref" href="#VALID_PTR.o_derived_directly_derives"><span class="id" title="axiom">o_derived_directly_derives</span></a> : <span class="id" title="notation">forall</span> <a id="p:868" class="idref" href="#p:868"><span class="id" title="binder">p</span></a> <a id="base:869" class="idref" href="#base:869"><span class="id" title="binder">base</span></a> <a id="derived:870" class="idref" href="#derived:870"><span class="id" title="binder">derived</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.strict_valid_ptr"><span class="id" title="abbreviation">strict_valid_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#p:868"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_derived"><span class="id" title="definition">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:869"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:870"><span class="id" title="variable">derived</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#1a0d2ec0cd05ed31c400527f2765558d"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#derived:870"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#base:869"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR"><span class="id" title="module">VALID_PTR</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
