<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.semantics.ptrs</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2023&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
The "operational" style definitions about C++ pointers.

<div class="paragraph"> </div>

C++ pointers are subtle to model.
The definitions in this file are based on the C and C++ standards, and
formalizations of their memory object models (see <span class="inlinecode"><span class="id" title="var">doc</span>/<span class="id" title="var">sphinx</span>/<span class="id" title="var">bibliography.rst</span></span>).
 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">elpi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">locker</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.prelude</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">base</span></a> <a class="idref" href="bedrock.prelude.addr.html#"><span class="id" title="library">addr</span></a> <a class="idref" href="bedrock.prelude.option.html#"><span class="id" title="library">option</span></a> <a class="idref" href="bedrock.prelude.numbers.html#"><span class="id" title="library">numbers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.ast.html#"><span class="id" title="library">bedrock.lang.cpp.ast</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp.semantics</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#"><span class="id" title="library">types</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#"><span class="id" title="library">genv</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;only&nbsp;load&nbsp;Iris&nbsp;to&nbsp;declare&nbsp;trivial&nbsp;OFEs&nbsp;over&nbsp;pointers&nbsp;via&nbsp;<span class="inlinecode"><span class="id" title="var">leibnizO</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">iris.algebra.ofe</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="var">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (Ïƒ : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab142"></a><h2 class="section">Allocation IDs. We use them to model pointer provenance, following</h2>

Cerberus. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="alloc_id" class="idref" href="#alloc_id"><span class="id" title="record">alloc_id</span></a> := <span class="id" title="var">MkAllocId</span> { <a id="alloc_id_car" class="idref" href="#alloc_id_car"><span class="id" title="projection">alloc_id_car</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> }.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MkAllocId_inj" class="idref" href="#MkAllocId_inj"><span class="id" title="instance">MkAllocId_inj</span></a> : <span class="id" title="class">Inj</span> <span class="id" title="notation">(=)</span> <span class="id" title="notation">(=)</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#MkAllocId"><span class="id" title="constructor">MkAllocId</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?? [=]. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="alloc_id_eq_dec" class="idref" href="#alloc_id_eq_dec"><span class="id" title="instance">alloc_id_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="alloc_id_countable" class="idref" href="#alloc_id_countable"><span class="id" title="instance">alloc_id_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<span class="id" title="definition">inj_countable'</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id_car"><span class="id" title="projection">alloc_id_car</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#MkAllocId"><span class="id" title="constructor">MkAllocId</span></a>) =&gt; -[?]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_INPUTS" class="idref" href="#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.offset" class="idref" href="#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__offset_ptr" class="idref" href="#PTRS_SYNTAX_INPUTS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_SYNTAX_INPUTS.__o_dot" class="idref" href="#PTRS_SYNTAX_INPUTS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_SYNTAX_MIXIN" class="idref" href="#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">Inputs</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_INPUTS"><span class="id" title="module">PTRS_SYNTAX_INPUTS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_from" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="var">yes</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_to" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> :&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; #[<span class="id" title="var">canonical</span>=<span class="id" title="keyword">no</span>] <a id="PTRS_SYNTAX_MIXIN.DOT_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#DOT_from:8"><span class="id" title="method">DOT_from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#DOT_to:9"><span class="id" title="method">DOT_to</span></a> }.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_ptr_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.ptr"><span class="id" title="axiom">ptr</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="p:11" class="idref" href="#p:11"><span class="id" title="binder">p</span></a> <a id="o:12" class="idref" href="#o:12"><span class="id" title="binder">o</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:11"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:12"><span class="id" title="variable">o</span></a> |}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_SYNTAX_MIXIN.DOT_offset_offset" class="idref" href="#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT"><span class="id" title="record">DOT</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_from"><span class="id" title="projection">DOT_from</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_to"><span class="id" title="projection">DOT_to</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.offset"><span class="id" title="axiom">offset</span></a>; <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_dot"><span class="id" title="projection">DOT_dot</span></a> <a id="o1:13" class="idref" href="#o1:13"><span class="id" title="binder">o1</span></a> <a id="o2:14" class="idref" href="#o2:14"><span class="id" title="binder">o2</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#Inputs.__o_dot"><span class="id" title="axiom">__o_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:13"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:14"><span class="id" title="variable">o2</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">mlock</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">Definition</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">_dot</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a> <a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">@</span></span></span></span></span></span></span></a><a id="PTRS_SYNTAX_MIXIN._dot_Locked" class="idref" href="#PTRS_SYNTAX_MIXIN._dot_Locked"><span class="id" title="axiom, definition, module"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_Locked.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.body" class="id"><span id="PTRS_SYNTAX_MIXIN._dot.unlock" class="id"><span id="PTRS_SYNTAX_MIXIN._dot_unlock_subterm" class="id">DOT_dot</span></span></span></span></span></span></span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.body"><span class="id" title="axiom">_dot</span></a> {<span class="id" title="var">DOT</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">rename</span>, <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN._offset_ptr" class="idref" href="#PTRS_SYNTAX_MIXIN._offset_ptr"><span class="id" title="abbreviation">_offset_ptr</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_ptr_offset"><span class="id" title="definition">DOT_ptr_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="PTRS_SYNTAX_MIXIN.o_dot" class="idref" href="#PTRS_SYNTAX_MIXIN.o_dot"><span class="id" title="abbreviation">o_dot</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN.DOT_offset_offset"><span class="id" title="definition">DOT_offset_offset</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ,, o" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> <span class="id" title="var">o</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  ,,  o") : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS" class="idref" href="#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>
</div>

<div class="doc">
<a id="lab143"></a><h1 class="section">Pointers.</h1>


<div class="paragraph"> </div>

  This is the abstract model of pointers in C++ â€” more precisely, of their
  values. Pointers describe paths that might identify objects, which might be
  alive. Hence they must be understood relative to the C++ object model
  (https://eel.is/c++draft/intro.object). We also use pointers to represent the
  values of references, even if those are restricted to point to objects or
  functions (https://eel.is/c++draft/dcl.ref5).

  - Not all of our pointers have concrete addresses.
    In C++, pointers to some objects are never created, and typical compilers
    might choose to not store such objects in memory; nevertheless, for
    uniformity our semantics identifies such objects via pointers, but
    our pointers need not represent an address
    (https://eel.is/c++draft/basic.compounddef:represents_the_address).
    Function <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr"><span class="id" title="definition">ptr_vaddr</span></a></span> maps a pointer to the address it represents, if any.
    See also documentation of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.tptsto"><span class="id" title="definition">tptsto</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.pinned_ptr"><span class="id" title="definition">pinned_ptr</span></a></span>.
    (Compilers might temporarily store objects elsewhere, but only as a
    semantics-preserving optimization, which we ignore in our model of the C++
    abstract machine).
    That objects (of non-zero size) have constant addresses follows:
<ul class="doclist">
<li> for C11 (draft N1570), from 6.2.4.2:
      &gt; An object exists, has a constant address^33
      &gt; <span class="inlinecode">33</span>: The term â€˜â€˜constant addressâ€™â€™ means that two pointers to the object
      constructed at possibly different times will compare equal.

</li>
<li> for C++, from https://eel.is/c++draft/intro.object8:

      > an object with nonzero size shall occupy one or more bytes of storage

      and https://eel.is/c++draft/intro.memory1:

<div class="paragraph"> </div>

      &gt; every byte has a unique address.

</li>
</ul>

<div class="paragraph"> </div>

  Pointers also have an <i>allocation ID</i>; the concept does not exist in
  the standard but is used to model provenance in many models of C
  pointers (CompCert, Krebbers, Cerberus, LLVM's twin semantics), sometimes
  under the name of "object ID". Allocation ID of deallocated regions are never
  reused for new regions.
<ul class="doclist">
<li> C++ objects form a forest of <i>complete objects</i>, and subobjects contained
    within (https://eel.is/c++draft/intro.object2).
    All subobjects of the same complete object share the same allocation
    ID.
  - Character array objects can _provide storage_ to other objects.
    (http://eel.is/c++draft/intro.objectdef:provides_storage)
    In particular, when memory allocators allocate an object <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> out of a
    character array <span class="inlinecode"><span class="id" title="library">arr</span></span>, then <span class="inlinecode"><span class="id" title="library">arr</span></span> provides storage to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span>.
    Following Cerberus, a pointer to <span class="inlinecode"><span class="id" title="library">arr</span></span> and a pointer to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> are
    considered as having distinct provenance.

<div class="paragraph"> </div>

    In Cerberus, pointers with fresh provenances are created by a
    magic <span class="inlinecode"><span class="id" title="var">malloc</span></span> primitive, which cannot be implemented in C (at least
    because of effective types, as Krebbers explains); in our semantics,
    pointers with fresh provenance are created by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.with_cpp_logic.with_resolve.new"><span class="id" title="section">new</span></a></span> operations (see
    <span class="inlinecode"><span class="id" title="var">wp_prval_new</span></span> axiom).

</li>
</ul>

<div class="paragraph"> </div>

  From a pointer to an object, one can use offsets to constructs pointers
  to subojects.

<div class="paragraph"> </div>

  Our API allows tracking nested objects accurately, matching the C (object)
  memory model (as rendered by Krebbers) and the model mandated by the C++
  standard.

<div class="paragraph"> </div>

  A simple model is <span class="inlinecode"><span class="id" title="var">alloc</span></span> <span class="inlinecode"><span class="id" title="var">ID</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a></span> <span class="inlinecode"><span class="id" title="var">address</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers.html#SIMPLE_PTRS_IMPL"><span class="id" title="module">SIMPLE_PTRS_IMPL</span></a></span>; a richer
  one is <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL"><span class="id" title="module">PTRS_IMPL</span></a></span>.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr" class="idref" href="#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="PTRS.ptr_eq_dec" class="idref" href="#PTRS.ptr_eq_dec"><span class="id" title="instance">ptr_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_countable" class="idref" href="#PTRS.ptr_countable"><span class="id" title="axiom">ptr_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_countable"><span class="id" title="axiom">ptr_countable</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab144"></a><h1 class="section">Pointer offsets.</h1>

      Offsets represent paths between objects and subobjects.

<div class="paragraph"> </div>

      If <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> points to an object and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is an offset to a subobject,
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> is a pointer to that subobject. If no such object exist,
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#VALID_PTR.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">,,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span> will not hold.

<div class="paragraph"> </div>

      For instance, if <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a>-&gt;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.x"><span class="id" title="variable">x</span></a></span> is a C++ object but <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a>-&gt;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.y"><span class="id" title="variable">y</span></a></span> isn't, in Coq,
      the pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">&quot;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.x"><span class="id" title="variable">x</span></a>&quot;</span> will be valid but <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a></span> <span class="inlinecode">.,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.o_field"><span class="id" title="definition">o_field</span></a></span> <span class="inlinecode">&quot;<a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.y"><span class="id" title="variable">y</span></a>&quot;</span>
      will not.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.offset" class="idref" href="#PTRS.offset"><span class="id" title="axiom">offset</span></a> : <span class="id" title="keyword">Set</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_eq_dec" class="idref" href="#PTRS.offset_eq_dec"><span class="id" title="axiom">offset_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset_eq_dec"><span class="id" title="axiom">offset_eq_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_countable" class="idref" href="#PTRS.offset_countable"><span class="id" title="axiom">offset_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset_countable"><span class="id" title="axiom">offset_countable</span></a>.<br/>

<br/>
</div>

<div class="doc">
combine an offset and a pointer to get a new pointer;
    this is a right monoid action.
   
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__offset_ptr" class="idref" href="#PTRS.__offset_ptr"><span class="id" title="axiom">__offset_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Parameter</span> <a id="PTRS.__o_dot" class="idref" href="#PTRS.__o_dot"><span class="id" title="axiom">__o_dot</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_SYNTAX_MIXIN"><span class="id" title="module">PTRS_SYNTAX_MIXIN</span></a>.<br/>

<br/>
</div>

<div class="doc">
Offsets form a monoid 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_id" class="idref" href="#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>  : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.id_dot" class="idref" href="#PTRS.id_dot"><span class="id" title="axiom">id_dot</span></a>    : <span class="id" title="class">LeftId</span>  <span class="id" title="notation">(=)</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.dot_id" class="idref" href="#PTRS.dot_id"><span class="id" title="axiom">dot_id</span></a>    : <span class="id" title="class">RightId</span> <span class="id" title="notation">(=)</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.dot_assoc" class="idref" href="#PTRS.dot_assoc"><span class="id" title="axiom">dot_assoc</span></a> : <span class="id" title="class">Assoc</span>   <span class="id" title="notation">(=)</span>      <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_dot"><span class="id" title="abbreviation">o_dot</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.id_dot"><span class="id" title="axiom">id_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.dot_id"><span class="id" title="axiom">dot_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.dot_assoc"><span class="id" title="axiom">dot_assoc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_id" class="idref" href="#PTRS.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> : <span class="id" title="notation">forall</span> <a id="p:26" class="idref" href="#p:26"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:26"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:26"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.offset_ptr_dot" class="idref" href="#PTRS.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="p:28" class="idref" href="#p:28"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:29" class="idref" href="#o1:29"><span class="id" title="binder">o1</span></a> <a id="o2:30" class="idref" href="#o2:30"><span class="id" title="binder">o2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:28"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:29"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:30"><span class="id" title="variable">o2</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:28"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:29"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:30"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
C++ provides a distinguished pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.nullptr"><span class="id" title="definition">nullptr</span></a></span> that is *never
      dereferenceable*
      (https://eel.is/c++draft/basic.compound3)
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.nullptr" class="idref" href="#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
An invalid pointer, included as a sentinel value. Other pointers might
      be invalid as well; see <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP._valid_ptr"><span class="id" title="definition">_valid_ptr</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.invalid_ptr" class="idref" href="#PTRS.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Pointer&nbsp;to&nbsp;a&nbsp;C++&nbsp;"complete&nbsp;object"&nbsp;with&nbsp;external&nbsp;or&nbsp;internal&nbsp;linkage,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;"functions";&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;distinct&nbsp;in&nbsp;C/C++&nbsp;standards&nbsp;(e.g.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://eel.is/c++draft/basic.pre:object
     https://eel.is/c++draft/basic.compound3.1),&nbsp;we&nbsp;represent&nbsp;them&nbsp;in&nbsp;the&nbsp;same<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;way.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since&nbsp;function&nbsp;pointers&nbsp;cannot&nbsp;be&nbsp;offset,&nbsp;offsetting&nbsp;function&nbsp;pointers<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produces&nbsp;<span class="inlinecode"><span class="id" title="var">invalid_ptr</span></span>,&nbsp;but&nbsp;we&nbsp;haven't&nbsp;needed&nbsp;to&nbsp;expose&nbsp;this.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;^&nbsp;the&nbsp;address&nbsp;of&nbsp;global&nbsp;variables&nbsp;&amp;&nbsp;functions&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.global_ptr" class="idref" href="#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#obj_name"><span class="id" title="definition">obj_name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Dynamic&nbsp;loading&nbsp;might&nbsp;require&nbsp;adding&nbsp;some&nbsp;abstract&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Might&nbsp;need&nbsp;deferring,&nbsp;as&nbsp;it&nbsp;needs&nbsp;designing&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">translation_unit_id</span></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;loading&nbsp;the&nbsp;same&nbsp;translation&nbsp;unit&nbsp;twice&nbsp;can&nbsp;give&nbsp;different<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addresses.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull" class="idref" href="#PTRS.global_ptr_nonnull"><span class="id" title="axiom">global_ptr_nonnull</span></a> : <span class="id" title="notation">forall</span> <a id="tu:35" class="idref" href="#tu:35"><span class="id" title="binder">tu</span></a> <a id="o:36" class="idref" href="#o:36"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:35"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:36"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Other&nbsp;constructors&nbsp;exist,&nbsp;but&nbsp;they&nbsp;are&nbsp;internal&nbsp;to&nbsp;C++&nbsp;model.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;They&nbsp;include:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;pointers&nbsp;to&nbsp;local&nbsp;variables&nbsp;(objects&nbsp;with&nbsp;automatic&nbsp;linkage/storage<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;duration,&nbsp;https://eel.is/c++draft/basic.memobjbasic.stc.auto).
     - pointers to this (https://eel.is/c++draft/expr.prim.this) are just normal
       pointers naming the receiver of a method invocation.
   *)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab145"></a><h2 class="section">Concrete pointer offsets.</h2>


<div class="paragraph"> </div>

      They correspond to the kind of aggregate objects described in e.g.
      https://eel.is/c++draft/basic.compound.
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;object&nbsp;with&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">cls</span></span>&nbsp;and&nbsp;field&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_field</span></span> <span class="inlinecode"><span class="id" title="var">cls</span></span> <span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;points&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><span class="id" title="var">f</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_field" class="idref" href="#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#field"><span class="id" title="record">field</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p ., o" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span> <span class="id" title="var">o</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">cls</span>*</span>&nbsp;points&nbsp;to&nbsp;an&nbsp;array&nbsp;object&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;elements&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">â‰¤</span> <span class="inlinecode"><span class="id" title="var">n</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">,,</span> <span class="inlinecode"><span class="id" title="var">o_sub</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;represents&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">i</span></span>&nbsp;(which&nbsp;might&nbsp;be&nbsp;a&nbsp;past-the-end&nbsp;pointer).<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_sub" class="idref" href="#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> "p .[ t ! n ]" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS._dot"><span class="id" title="abbreviation">_dot</span></a> <span class="id" title="var">p</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "p  .[  t  '!'  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> ".[ t ! n ]" := (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span> <span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 11, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> ".[  t  !  n  ]") : <span class="id" title="var">stdpp_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">o_sub_0</span></span>&nbsp;axiom&nbsp;is&nbsp;required&nbsp;because&nbsp;any&nbsp;object&nbsp;is&nbsp;a&nbsp;1-object&nbsp;array<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(https://eel.is/c++draft/expr.addfootnote-80).
   *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_sub_0" class="idref" href="#PTRS.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">âˆ€</span></a> <a id="8e75f09b8bdf2cf51669c3cfbb551722" class="idref" href="#8e75f09b8bdf2cf51669c3cfbb551722"><span class="id" title="binder">Ïƒ</span></a> <a id="ty:41" class="idref" href="#ty:41"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8e75f09b8bdf2cf51669c3cfbb551722"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:41"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:41"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_id"><span class="id" title="axiom">o_id</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;drop&nbsp;(is_Some&nbsp;(size_of&nbsp;Ïƒ&nbsp;ty))&nbsp;via<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`displacement&nbsp;(o_sub&nbsp;Ïƒ&nbsp;ty&nbsp;i)&nbsp;=&nbsp;if&nbsp;(i&nbsp;=&nbsp;0)&nbsp;then&nbsp;0&nbsp;else&nbsp;i&nbsp;*&nbsp;size_of&nbsp;Ïƒ&nbsp;ty`<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
going up and down the class hierarchy, one step at a time;
  these offsets are only for non-virtual inheritance. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_base" class="idref" href="#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="derived:43" class="idref" href="#derived:43"><span class="id" title="binder">derived</span></a> <a id="base:44" class="idref" href="#base:44"><span class="id" title="binder">base</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><span class="id" title="notation">),</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.o_derived" class="idref" href="#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="base:46" class="idref" href="#base:46"><span class="id" title="binder">base</span></a> <a id="derived:47" class="idref" href="#derived:47"><span class="id" title="binder">derived</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#globname"><span class="id" title="definition">globname</span></a><span class="id" title="notation">),</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We're&nbsp;ignoring&nbsp;virtual&nbsp;inheritance&nbsp;here,&nbsp;since&nbsp;we&nbsp;have&nbsp;no&nbsp;plans&nbsp;to<br/>
&nbsp;&nbsp;support&nbsp;it&nbsp;for&nbsp;now,&nbsp;but&nbsp;this&nbsp;might&nbsp;hold&nbsp;there&nbsp;too.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_base_derived" class="idref" href="#PTRS.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a> : <span class="id" title="notation">forall</span> <a id="a5164b770c73878809c71cb845d5d280" class="idref" href="#a5164b770c73878809c71cb845d5d280"><span class="id" title="binder">Ïƒ</span></a> <a id="p:50" class="idref" href="#p:50"><span class="id" title="binder">p</span></a> <a id="base:51" class="idref" href="#base:51"><span class="id" title="binder">base</span></a> <a id="derived:52" class="idref" href="#derived:52"><span class="id" title="binder">derived</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a5164b770c73878809c71cb845d5d280"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:52"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:51"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:50"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a5164b770c73878809c71cb845d5d280"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:52"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:51"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a5164b770c73878809c71cb845d5d280"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:51"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:52"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:50"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_derived_base" class="idref" href="#PTRS.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a> : <span class="id" title="notation">forall</span> <a id="a28929961f9d6db5798eaa85407a7306" class="idref" href="#a28929961f9d6db5798eaa85407a7306"><span class="id" title="binder">Ïƒ</span></a> <a id="p:55" class="idref" href="#p:55"><span class="id" title="binder">p</span></a> <a id="base:56" class="idref" href="#base:56"><span class="id" title="binder">base</span></a> <a id="derived:57" class="idref" href="#derived:57"><span class="id" title="binder">derived</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives"><span class="id" title="abbreviation">directly_derives</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a28929961f9d6db5798eaa85407a7306"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:57"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:56"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:55"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a28929961f9d6db5798eaa85407a7306"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:56"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:57"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a28929961f9d6db5798eaa85407a7306"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:57"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:56"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:55"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to allocation IDs; total on valid pointers thanks to
      <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_alloc_id" class="idref" href="#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.null_alloc_id" class="idref" href="#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#alloc_id"><span class="id" title="record">alloc_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_nullptr" class="idref" href="#PTRS.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_alloc_id_offset" class="idref" href="#PTRS.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> : <span class="id" title="notation">forall</span> {<a id="p:62" class="idref" href="#p:62"><span class="id" title="binder">p</span></a> <a id="o:63" class="idref" href="#o:63"><span class="id" title="binder">o</span></a>}<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:62"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:63"><span class="id" title="variable">o</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:62"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:63"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:62"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
Map pointers to the address they represent,
      (https://eel.is/c++draft/basic.compounddef:represents_the_address).
      Not defined on all valid pointers; defined on pointers existing in C++ (
      https://eel.is/c++draft/basic.compound3).
      See discussion above.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.ptr_vaddr" class="idref" href="#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.prelude.addr.html#vaddr"><span class="id" title="definition">vaddr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_nullptr"><span class="id" title="lemma">ptr_vaddr_nullptr</span></a></span> is not mandated by the standard, but valid across
      compilers we are interested in.
      The closest hint is in https://eel.is/c++draft/conv.ptr
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_vaddr_nullptr" class="idref" href="#PTRS.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull_addr" class="idref" href="#PTRS.global_ptr_nonnull_addr"><span class="id" title="axiom">global_ptr_nonnull_addr</span></a> : <span class="id" title="notation">forall</span> <a id="tu:67" class="idref" href="#tu:67"><span class="id" title="binder">tu</span></a> <a id="o:68" class="idref" href="#o:68"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:67"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:68"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_nonnull_aid" class="idref" href="#PTRS.global_ptr_nonnull_aid"><span class="id" title="axiom">global_ptr_nonnull_aid</span></a> : <span class="id" title="notation">forall</span> <a id="tu:70" class="idref" href="#tu:70"><span class="id" title="binder">tu</span></a> <a id="o:71" class="idref" href="#o:71"><span class="id" title="binder">o</span></a><span class="id" title="notation">,</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:70"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:71"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.null_alloc_id"><span class="id" title="axiom">null_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_inj" class="idref" href="#PTRS.global_ptr_inj"><span class="id" title="axiom">global_ptr_inj</span></a> : <span class="id" title="notation">forall</span> <a id="tu:73" class="idref" href="#tu:73"><span class="id" title="binder">tu</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Inj</span> <span class="id" title="notation">(=)</span> <span class="id" title="notation">(=)</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:73"><span class="id" title="variable">tu</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_addr_inj" class="idref" href="#PTRS.global_ptr_addr_inj"><span class="id" title="axiom">global_ptr_addr_inj</span></a> : <span class="id" title="notation">forall</span> <a id="tu:75" class="idref" href="#tu:75"><span class="id" title="binder">tu</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Inj</span> <span class="id" title="notation">(=)</span> <span class="id" title="notation">(=)</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">Î»</span></a> <a id="o:76" class="idref" href="#o:76"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:75"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:76"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.global_ptr_aid_inj" class="idref" href="#PTRS.global_ptr_aid_inj"><span class="id" title="axiom">global_ptr_aid_inj</span></a> : <span class="id" title="notation">forall</span> <a id="tu:78" class="idref" href="#tu:78"><span class="id" title="binder">tu</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Inj</span> <span class="id" title="notation">(=)</span> <span class="id" title="notation">(=)</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">Î»</span></a> <a id="o:79" class="idref" href="#o:79"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr"><span class="id" title="axiom">global_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:78"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:79"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="var">Instances</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr_inj"><span class="id" title="axiom">global_ptr_inj</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr_addr_inj"><span class="id" title="axiom">global_ptr_addr_inj</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.global_ptr_aid_inj"><span class="id" title="axiom">global_ptr_aid_inj</span></a>.<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
  Wrapped by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.ptr_vaddr_o_sub_eq" class="idref" href="#PTRS.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a> : <span class="id" title="notation">forall</span> <a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a> <a id="af1b85f1b64b89cb559829d66ecff348" class="idref" href="#af1b85f1b64b89cb559829d66ecff348"><span class="id" title="binder">Ïƒ</span></a> <a id="ty:83" class="idref" href="#ty:83"><span class="id" title="binder">ty</span></a> <a id="n1:84" class="idref" href="#n1:84"><span class="id" title="binder">n1</span></a> <a id="n2:85" class="idref" href="#n2:85"><span class="id" title="binder">n2</span></a> <a id="sz:86" class="idref" href="#sz:86"><span class="id" title="binder">sz</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#af1b85f1b64b89cb559829d66ecff348"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:83"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:86"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:86"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:83"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:84"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:83"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:85"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:84"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:85"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.o_dot_sub" class="idref" href="#PTRS.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">âˆ€</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">{</span></a><a id="481f8487e3a3a0d5bb887248fb3107c3" class="idref" href="#481f8487e3a3a0d5bb887248fb3107c3"><span class="id" title="binder">Ïƒ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="i:89" class="idref" href="#i:89"><span class="id" title="binder">i</span></a> <a id="j:90" class="idref" href="#j:90"><span class="id" title="binder">j</span></a> <a id="ty:91" class="idref" href="#ty:91"><span class="id" title="binder">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:91"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:89"><span class="id" title="variable">i</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:91"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:90"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:91"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:89"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:90"><span class="id" title="variable">j</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> and associated axioms are more advanced, only to be used
  in special cases. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;drop&nbsp;<span class="inlinecode"><span class="id" title="var">genv</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS.eval_offset" class="idref" href="#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_o_sub" class="idref" href="#PTRS.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a> : <span class="id" title="notation">forall</span> <a id="393a609183004821a1b9d395ef5ef97e" class="idref" href="#393a609183004821a1b9d395ef5ef97e"><span class="id" title="binder">Ïƒ</span></a> <a id="ty:95" class="idref" href="#ty:95"><span class="id" title="binder">ty</span></a> (<a id="i:96" class="idref" href="#i:96"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#393a609183004821a1b9d395ef5ef97e"><span class="id" title="variable">Ïƒ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_sub"><span class="id" title="axiom">o_sub</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#393a609183004821a1b9d395ef5ef97e"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:95"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:96"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;order&nbsp;enables&nbsp;reducing&nbsp;for&nbsp;known&nbsp;ty.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_N"><span class="id" title="definition">Z.of_N</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:97"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:96"><span class="id" title="variable">i</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#393a609183004821a1b9d395ef5ef97e"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:95"><span class="id" title="variable">ty</span></a>.<br/>

<br/>
</div>

<div class="doc">
  To hide implementation details of the compiler from proofs, we restrict
  this axiom to POD/Standard-layout structures.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_o_field" class="idref" href="#PTRS.eval_o_field"><span class="id" title="axiom">eval_o_field</span></a> : <span class="id" title="notation">forall</span> <a id="55b134b38a7198382c602a077460cfcc" class="idref" href="#55b134b38a7198382c602a077460cfcc"><span class="id" title="binder">Ïƒ</span></a> <a id="f:100" class="idref" href="#f:100"><span class="id" title="binder">f</span></a> <a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a> <a id="cls:102" class="idref" href="#cls:102"><span class="id" title="binder">cls</span></a> <a id="st:103" class="idref" href="#st:103"><span class="id" title="binder">st</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:100"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">{|</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:101"><span class="id" title="variable">n</span></a> ; <a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#cls:102"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">|}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#glob_def"><span class="id" title="definition">glob_def</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#cls:102"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:103"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:103"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#POD"><span class="id" title="constructor">POD</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#st:103"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_layout"><span class="id" title="projection">s_layout</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Standard"><span class="id" title="constructor">Standard</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">Ïƒ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.o_field"><span class="id" title="axiom">o_field</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:100"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#offset_of"><span class="id" title="definition">offset_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#55b134b38a7198382c602a077460cfcc"><span class="id" title="variable">Ïƒ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_type"><span class="id" title="projection">f_type</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:100"><span class="id" title="variable">f</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.names.html#f_name"><span class="id" title="projection">f_name</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#f:100"><span class="id" title="variable">f</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;respects&nbsp;the&nbsp;monoidal&nbsp;structure&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>s&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS.eval_offset_dot" class="idref" href="#PTRS.eval_offset_dot"><span class="id" title="axiom">eval_offset_dot</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">âˆ€</span></a> <a id="a255feff7b2e62ba2eca44b34f92eb33" class="idref" href="#a255feff7b2e62ba2eca44b34f92eb33"><span class="id" title="binder">Ïƒ</span></a> (<a id="o1:106" class="idref" href="#o1:106"><span class="id" title="binder">o1</span></a> <a id="o2:107" class="idref" href="#o2:107"><span class="id" title="binder">o2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.offset"><span class="id" title="axiom">offset</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a255feff7b2e62ba2eca44b34f92eb33"><span class="id" title="variable">Ïƒ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:106"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:107"><span class="id" title="variable">o2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.prelude.option.html#add_opt"><span class="id" title="definition">add_opt</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a255feff7b2e62ba2eca44b34f92eb33"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:106"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#a255feff7b2e62ba2eca44b34f92eb33"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:107"><span class="id" title="variable">o2</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_DERIVED" class="idref" href="#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_alloc" class="idref" href="#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_alloc_eq" class="idref" href="#PTRS_DERIVED.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="PTRS_DERIVED.same_address" class="idref" href="#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="PTRS_DERIVED.same_address_eq" class="idref" href="#PTRS_DERIVED.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF_MINIMAL" class="idref" href="#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS"><span class="id" title="module">PTRS</span></a> &lt;+ <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_DERIVED"><span class="id" title="module">PTRS_DERIVED</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_MIXIN" class="idref" href="#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>
</div>

<div class="doc">
  Explictly declare that all Iris equalities on pointers are trivial.
  We only add such explicit declarations as actually needed.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="PTRS_MIXIN.ptrO" class="idref" href="#PTRS_MIXIN.ptrO"><span class="id" title="definition">ptrO</span></a> := <span class="id" title="abbreviation">leibnizO</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_inhabited" class="idref" href="#PTRS_MIXIN.ptr_inhabited"><span class="id" title="instance">ptr_inhabited</span></a> : <span class="id" title="class">Inhabited</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> := <span class="id" title="constructor">populate</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab146"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> expresses that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">o2</span></span>
     both produce <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> shared numerical value.

<div class="paragraph"> </div>

     Given that offsets are typed, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> becomes a useful way of locally "erasing" the richer structure
     of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span>s/<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span>s.

<div class="paragraph"> </div>

     NOTE: <span class="inlinecode"><a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a></span> ensures that the partial <span class="inlinecode"><span class="id" title="var">obs</span></span>ervation (<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span>)
     are both <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span>; <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a></span> is <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a></span> for some <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.offset"><span class="id" title="definition">offset</span></a></span> iff
     <span class="inlinecode"><span class="id" title="definition">is_Some</span></span> <span class="inlinecode">(<a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.o"><span class="id" title="variable">o</span></a>)</span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.offset_cong" class="idref" href="#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset"><span class="id" title="axiom">offset</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="d84ce6ea74a93839e7086ccae997cc55" class="idref" href="#d84ce6ea74a93839e7086ccae997cc55"><span class="id" title="binder">Ïƒ</span></a> <a id="o1:114" class="idref" href="#o1:114"><span class="id" title="binder">o1</span></a> <a id="o2:115" class="idref" href="#o2:115"><span class="id" title="binder">o2</span></a> =&gt; <a class="idref" href="bedrock.prelude.option.html#same_property"><span class="id" title="definition">same_property</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.eval_offset"><span class="id" title="axiom">eval_offset</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#d84ce6ea74a93839e7086ccae997cc55"><span class="id" title="variable">Ïƒ</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:114"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:115"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.offset_cong_equiv" class="idref" href="#PTRS_MIXIN.offset_cong_equiv"><span class="id" title="instance">offset_cong_equiv</span></a> {<a id="03f86bc26ea6bf4494eb49e11860d2a4" class="idref" href="#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="binder">Ïƒ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#03f86bc26ea6bf4494eb49e11860d2a4"><span class="id" title="variable">Ïƒ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.prelude.option.html#same_property_per"><span class="id" title="instance">same_property_per</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab147"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> Congruence</h2>


<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> expresses that <span class="inlinecode"><span class="id" title="var">p1</span></span> and <span class="inlinecode"><span class="id" title="var">p2</span></span> share a common <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> prefix and that
     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.eval_offset"><span class="id" title="definition">eval_offset</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">o1</span></span> <span class="inlinecode"><span class="id" title="var">o2</span></span> holds for the suffixes which "complete" p1 and p2.

<div class="paragraph"> </div>

     Given that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span>s have a rich structure, <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> is not generally sufficient to
     transport resources - when the resources are even transportable in the first place.
     However, in certain limited circumstances where the integral values of pointers are
     meaningful - such as reasoning at the level of the byte-representation of an
     object - <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a></span> <span class="inlinecode">Ïƒ</span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode"><span class="id" title="var">p2</span></span> (in conjunction with <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a></span> <span class="inlinecode"><span class="id" title="var">p1</span></span> <span class="inlinecode">**</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.type_ptr"><span class="id" title="definition">type_ptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a></span> <span class="inlinecode"><span class="id" title="var">p2</span></span>)
     /can/ be used to transport select resources.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.ptr_cong" class="idref" href="#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="6e499a318406f5ed75a8978efc740cc7" class="idref" href="#6e499a318406f5ed75a8978efc740cc7"><span class="id" title="binder">Ïƒ</span></a> <a id="p1:118" class="idref" href="#p1:118"><span class="id" title="binder">p1</span></a> <a id="p2:119" class="idref" href="#p2:119"><span class="id" title="binder">p2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="p:120" class="idref" href="#p:120"><span class="id" title="binder">p</span></a> <a id="o1:121" class="idref" href="#o1:121"><span class="id" title="binder">o1</span></a> <a id="o2:122" class="idref" href="#o2:122"><span class="id" title="binder">o2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:118"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:120"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:121"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:119"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:120"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:122"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#6e499a318406f5ed75a8978efc740cc7"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:121"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:122"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_reflexive" class="idref" href="#PTRS_MIXIN.ptr_cong_reflexive"><span class="id" title="instance">ptr_cong_reflexive</span></a> {<a id="5aebc82d1c1ea3ee056fdc7d8afa13a1" class="idref" href="#5aebc82d1c1ea3ee056fdc7d8afa13a1"><span class="id" title="binder">Ïƒ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#5aebc82d1c1ea3ee056fdc7d8afa13a1"><span class="id" title="variable">Ïƒ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>, (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0 <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>), (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tu8"><span class="id" title="abbreviation">Tu8</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b60c9e4543d503f134b8b3a46b1f4528"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.eval_o_sub"><span class="id" title="axiom">eval_o_sub</span></a>/= <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.mul_0_r"><span class="id" title="lemma">Z.mul_0_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_cong_sym" class="idref" href="#PTRS_MIXIN.ptr_cong_sym"><span class="id" title="instance">ptr_cong_sym</span></a> {<a id="95270db9d09194b606d8cb9477013c9d" class="idref" href="#95270db9d09194b606d8cb9477013c9d"><span class="id" title="binder">Ïƒ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#95270db9d09194b606d8cb9477013c9d"><span class="id" title="variable">Ïƒ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> [<span class="id" title="var">p''</span> [<span class="id" title="var">o1</span> [<span class="id" title="var">o2</span> [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hp'</span> <span class="id" title="var">Hcong</span>]]]]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p''</span>, <span class="id" title="var">o2</span>, <span class="id" title="var">o1</span>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;(JH):&nbsp;<span class="inlinecode"><span class="id" title="var">Transitive</span></span>&nbsp;isn't&nbsp;provable&nbsp;without&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_vaddr</span></span>&nbsp;side-condition&nbsp;because<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;intermediate&nbsp;<span class="inlinecode"><span class="id" title="var">offset</span></span>&nbsp;might&nbsp;not&nbsp;<span class="inlinecode"><span class="id" title="var">eval_offset</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">Some</span></span>&nbsp;integral&nbsp;value.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;[global] Instance ptr_cong_trans {Ïƒ : genv} : Transitive (ptr_cong Ïƒ). *)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_ptr_cong" class="idref" href="#PTRS_MIXIN.offset_ptr_cong"><span class="id" title="lemma">offset_ptr_cong</span></a> <a id="5be940541e34fd1057abf4714b43dd87" class="idref" href="#5be940541e34fd1057abf4714b43dd87"><span class="id" title="binder">Ïƒ</span></a> (<a id="p:126" class="idref" href="#p:126"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="o1:127" class="idref" href="#o1:127"><span class="id" title="binder">o1</span></a> <a id="o2:128" class="idref" href="#o2:128"><span class="id" title="binder">o2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.offset_cong"><span class="id" title="definition">offset_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#5be940541e34fd1057abf4714b43dd87"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:127"><span class="id" title="variable">o1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:128"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#5be940541e34fd1057abf4714b43dd87"><span class="id" title="variable">Ïƒ</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:126"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:127"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:126"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:128"><span class="id" title="variable">o2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_cong"><span class="id" title="definition">ptr_cong</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab148"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN.same_address"><span class="id" title="definition">same_address</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_dec" class="idref" href="#PTRS_MIXIN.same_address_dec"><span class="id" title="instance">same_address_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_per" class="idref" href="#PTRS_MIXIN.same_address_per"><span class="id" title="instance">same_address_per</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_RewriteRelation" class="idref" href="#PTRS_MIXIN.same_address_RewriteRelation"><span class="id" title="instance">same_address_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_iff" class="idref" href="#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a> <a id="p1:129" class="idref" href="#p1:129"><span class="id" title="binder">p1</span></a> <a id="p2:130" class="idref" href="#p2:130"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:129"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:130"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">âˆƒ</span></a> <a id="va:131" class="idref" href="#va:131"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:129"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:131"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">âˆ§</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:130"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:131"><span class="id" title="variable">va</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_intro" class="idref" href="#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a> <a id="p1:132" class="idref" href="#p1:132"><span class="id" title="binder">p1</span></a> <a id="p2:133" class="idref" href="#p2:133"><span class="id" title="binder">p2</span></a> <a id="va:134" class="idref" href="#va:134"><span class="id" title="binder">va</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:132"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:134"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:133"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:134"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:132"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:133"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>; <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.prelude.option.html#same_property_intro"><span class="id" title="lemma">same_property_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_address_nullptr_nullptr"><span class="id" title="lemma">same_address_nullptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_nullptr"><span class="id" title="axiom">ptr_vaddr_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_intro"><span class="id" title="lemma">same_address_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_proper" class="idref" href="#PTRS_MIXIN.ptr_vaddr_proper"><span class="id" title="instance">ptr_vaddr_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> (<span class="id" title="var">va</span>&amp;-&gt;&amp;-&gt;)%<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_iff"><span class="id" title="lemma">same_address_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.ptr_vaddr_params" class="idref" href="#PTRS_MIXIN.ptr_vaddr_params"><span class="id" title="instance">ptr_vaddr_params</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> 1 := {}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab149"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a></span> lemmas</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.same_address_bool" class="idref" href="#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a id="p1:135" class="idref" href="#p1:135"><span class="id" title="binder">p1</span></a> <a id="p2:136" class="idref" href="#p2:136"><span class="id" title="binder">p2</span></a> := <span class="id" title="definition">bool_decide</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:135"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:136"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_address_bool_comm" class="idref" href="#PTRS_MIXIN.same_address_bool_comm"><span class="id" title="instance">same_address_bool_comm</span></a> : <span class="id" title="class">Comm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="lemma">bool_decide_ext</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_eq" class="idref" href="#PTRS_MIXIN.same_address_bool_eq"><span class="id" title="lemma">same_address_bool_eq</span></a> {<a id="p1:137" class="idref" href="#p1:137"><span class="id" title="binder">p1</span></a> <a id="p2:138" class="idref" href="#p2:138"><span class="id" title="binder">p2</span></a> <a id="va1:139" class="idref" href="#va1:139"><span class="id" title="binder">va1</span></a> <a id="va2:140" class="idref" href="#va2:140"><span class="id" title="binder">va2</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:137"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va1:139"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">â†’</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:138"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va2:140"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">â†’</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:137"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:138"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">bool_decide</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va1:139"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va2:140"><span class="id" title="variable">va2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">bool_decide_ext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_bool_partial_reflexive" class="idref" href="#PTRS_MIXIN.same_address_bool_partial_reflexive"><span class="id" title="lemma">same_address_bool_partial_reflexive</span></a> <a id="p:141" class="idref" href="#p:141"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:141"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:141"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:141"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hsm</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <span class="id" title="abbreviation">bool_decide_true</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a> -<a class="idref" href="bedrock.prelude.option.html#same_property_reflexive_equiv"><span class="id" title="lemma">same_property_reflexive_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab150"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pointers_utils.html#PTRS_DERIVED_MIXIN.same_alloc"><span class="id" title="definition">same_alloc</span></a></span> lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_dec" class="idref" href="#PTRS_MIXIN.same_alloc_dec"><span class="id" title="instance">same_alloc_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.same_alloc_per" class="idref" href="#PTRS_MIXIN.same_alloc_per"><span class="id" title="instance">same_alloc_per</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#PER"><span class="id" title="class">RelationClasses.PER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_iff" class="idref" href="#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a> <a id="p1:142" class="idref" href="#p1:142"><span class="id" title="binder">p1</span></a> <a id="p2:143" class="idref" href="#p2:143"><span class="id" title="binder">p2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:142"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:143"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">âˆƒ</span></a> <a id="aid:144" class="idref" href="#aid:144"><span class="id" title="binder">aid</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:142"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:144"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">âˆ§</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:143"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:144"><span class="id" title="variable">aid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a> <a class="idref" href="bedrock.prelude.option.html#same_property_iff"><span class="id" title="lemma">same_property_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_intro" class="idref" href="#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a> <a id="p1:145" class="idref" href="#p1:145"><span class="id" title="binder">p1</span></a> <a id="p2:146" class="idref" href="#p2:146"><span class="id" title="binder">p2</span></a> <a id="aid:147" class="idref" href="#aid:147"><span class="id" title="binder">aid</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:145"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:147"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:146"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#aid:147"><span class="id" title="variable">aid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:145"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:146"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc_eq"><span class="id" title="axiom">same_alloc_eq</span></a>; <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.prelude.option.html#same_property_intro"><span class="id" title="lemma">same_property_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_nullptr_nullptr" class="idref" href="#PTRS_MIXIN.same_alloc_nullptr_nullptr"><span class="id" title="lemma">same_alloc_nullptr_nullptr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.nullptr"><span class="id" title="axiom">nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">have</span> ? := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_nullptr"><span class="id" title="axiom">ptr_alloc_id_nullptr</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_intro"><span class="id" title="lemma">same_alloc_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.ptr_alloc_id_base" class="idref" href="#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <a id="p:148" class="idref" href="#p:148"><span class="id" title="binder">p</span></a> <a id="o:149" class="idref" href="#o:149"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:150" class="idref" href="#Hs:150"><span class="id" title="binder">Hs</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:148"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:149"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:148"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset" class="idref" href="#PTRS_MIXIN.same_alloc_offset"><span class="id" title="lemma">same_alloc_offset</span></a> <a id="p:151" class="idref" href="#p:151"><span class="id" title="binder">p</span></a> <a id="o:152" class="idref" href="#o:152"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:153" class="idref" href="#Hs:153"><span class="id" title="binder">Hs</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:152"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:151"><span class="id" title="variable">p</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:151"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:152"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">Hs</span>) =&gt; <span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_2" class="idref" href="#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <a id="p:154" class="idref" href="#p:154"><span class="id" title="binder">p</span></a> <a id="o1:155" class="idref" href="#o1:155"><span class="id" title="binder">o1</span></a> <a id="o2:156" class="idref" href="#o2:156"><span class="id" title="binder">o2</span></a> <a id="p1:157" class="idref" href="#p1:157"><span class="id" title="binder">p1</span></a> <a id="p2:158" class="idref" href="#p2:158"><span class="id" title="binder">p2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="E1:159" class="idref" href="#E1:159"><span class="id" title="binder">E1</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:157"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:155"><span class="id" title="variable">o1</span></a>) (<a id="E2:160" class="idref" href="#E2:160"><span class="id" title="binder">E2</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:158"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:156"><span class="id" title="variable">o2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs1:161" class="idref" href="#Hs1:161"><span class="id" title="binder">Hs1</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o1:155"><span class="id" title="variable">o1</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs2:162" class="idref" href="#Hs2:162"><span class="id" title="binder">Hs2</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:154"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o2:156"><span class="id" title="variable">o2</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p1:157"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p2:158"><span class="id" title="variable">p2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hs1</span>) =&gt; [<span class="id" title="var">aid</span> <span class="id" title="var">Eq</span>]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_iff"><span class="id" title="lemma">same_alloc_iff</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">aid</span>; <span class="id" title="tactic">move</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs1</span>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id_offset"><span class="id" title="axiom">ptr_alloc_id_offset</span></a> <span class="id" title="var">Hs2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_alloc_offset_1" class="idref" href="#PTRS_MIXIN.same_alloc_offset_1"><span class="id" title="lemma">same_alloc_offset_1</span></a> <a id="p:163" class="idref" href="#p:163"><span class="id" title="binder">p</span></a> <a id="o:164" class="idref" href="#o:164"><span class="id" title="binder">o</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:165" class="idref" href="#Hs:165"><span class="id" title="binder">Hs</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_alloc_id"><span class="id" title="axiom">ptr_alloc_id</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:163"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:164"><span class="id" title="variable">o</span></a>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:163"><span class="id" title="variable">p</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:163"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#o:164"><span class="id" title="variable">o</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a> <span class="id" title="var">p</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> <span class="id" title="var">o</span>); <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.ptr_alloc_id_base"><span class="id" title="lemma">ptr_alloc_id_base</span></a> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Pointers into the same array with the same address have the same index.
  Wrapper by <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.same_address_o_sub_eq" class="idref" href="#PTRS_MIXIN.same_address_o_sub_eq"><span class="id" title="lemma">same_address_o_sub_eq</span></a> <a id="p:166" class="idref" href="#p:166"><span class="id" title="binder">p</span></a> <a id="7f7a16e3c0c069446106fc9daa71970e" class="idref" href="#7f7a16e3c0c069446106fc9daa71970e"><span class="id" title="binder">Ïƒ</span></a> <a id="ty:168" class="idref" href="#ty:168"><span class="id" title="binder">ty</span></a> <a id="n1:169" class="idref" href="#n1:169"><span class="id" title="binder">n1</span></a> <a id="n2:170" class="idref" href="#n2:170"><span class="id" title="binder">n2</span></a> <a id="sz:171" class="idref" href="#sz:171"><span class="id" title="binder">sz</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#7f7a16e3c0c069446106fc9daa71970e"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:168"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:171"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#sz:171"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#::N_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address"><span class="id" title="axiom">same_address</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:166"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:168"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:169"><span class="id" title="variable">n1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:166"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:168"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:170"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n1:169"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n2:170"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.same_address_eq"><span class="id" title="axiom">same_address_eq</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr_o_sub_eq"><span class="id" title="axiom">ptr_vaddr_o_sub_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.offset_ptr_sub_0" class="idref" href="#PTRS_MIXIN.offset_ptr_sub_0"><span class="id" title="lemma">offset_ptr_sub_0</span></a> (<a id="p:172" class="idref" href="#p:172"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:173" class="idref" href="#ty:173"><span class="id" title="binder">ty</span></a> <a id="resolve:174" class="idref" href="#resolve:174"><span class="id" title="binder">resolve</span></a> (<a id="Hsz:175" class="idref" href="#Hsz:175"><span class="id" title="binder">Hsz</span></a> : <span class="id" title="definition">is_Some</span> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#resolve:174"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:173"><span class="id" title="variable">ty</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:172"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:173"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> 0<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:172"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub_0"><span class="id" title="axiom">o_sub_0</span></a> // <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a></span> states that the pointer (if it exists in memory) has
  the given alignment.
    
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr" class="idref" href="#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a id="align:176" class="idref" href="#align:176"><span class="id" title="binder">align</span></a> <a id="p:177" class="idref" href="#p:177"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="va:178" class="idref" href="#va:178"><span class="id" title="binder">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:177"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:178"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:176"><span class="id" title="variable">align</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:178"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:177"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="PTRS_MIXIN.aligned_ptr_ty" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> {<a id="03a393249d49235f8abc6efe1bcbbfe3" class="idref" href="#03a393249d49235f8abc6efe1bcbbfe3"><span class="id" title="binder">Ïƒ</span></a>} <a id="ty:180" class="idref" href="#ty:180"><span class="id" title="binder">ty</span></a> <a id="p:181" class="idref" href="#p:181"><span class="id" title="binder">p</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="align:182" class="idref" href="#align:182"><span class="id" title="binder">align</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:180"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:182"><span class="id" title="variable">align</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#align:182"><span class="id" title="variable">align</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:181"><span class="id" title="variable">p</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_ty_erase_qualifiers" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_erase_qualifiers"><span class="id" title="lemma">aligned_ptr_ty_erase_qualifiers</span></a> : <span class="id" title="notation">forall</span> {<a id="642a2a43addda51af8727be6c0020e25" class="idref" href="#642a2a43addda51af8727be6c0020e25"><span class="id" title="binder">Ïƒ</span></a>} <a id="p:184" class="idref" href="#p:184"><span class="id" title="binder">p</span></a> <a id="ty:185" class="idref" href="#ty:185"><span class="id" title="binder">ty</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:185"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:184"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:185"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:184"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of_erase_qualifiers"><span class="id" title="axiom">align_of_erase_qualifiers</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_ty_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_mono"><span class="id" title="instance">aligned_ptr_ty_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>; <span class="id" title="tactic">intros</span> Ïƒ1 Ïƒ2 <span class="id" title="var">Hg</span> ? <span class="id" title="var">ty</span> -&gt; ? <span class="id" title="var">p</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span> =&gt; <span class="id" title="var">align</span> [<span class="id" title="var">Hal</span> <span class="id" title="var">Hp</span>]; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of_genv_leq"><span class="id" title="lemma">align_of_genv_leq</span></a> Ïƒ1) <span class="id" title="var">Hal</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_ty_flip_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_flip_mono"><span class="id" title="instance">aligned_ptr_ty_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_ty_proper" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_proper"><span class="id" title="instance">aligned_ptr_ty_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_eq"><span class="id" title="definition">genv_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> Ïƒ1 Ïƒ2 [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] ? <span class="id" title="var">ty</span> -&gt; ? <span class="id" title="var">p</span> -&gt;. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">H1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">H2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_mono"><span class="id" title="instance">aligned_ptr_divide_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">m</span> <span class="id" title="var">n</span> + <span class="id" title="var">_</span> <span class="id" title="var">p</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> =&gt; ? [[<span class="id" title="var">va</span> [<span class="id" title="var">P</span> <span class="id" title="var">D</span>]]|]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>=&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.aligned_ptr_divide_flip_mono" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_flip_mono"><span class="id" title="instance">aligned_ptr_divide_flip_mono</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="PTRS_MIXIN.N_divide_RewriteRelation" class="idref" href="#PTRS_MIXIN.N_divide_RewriteRelation"><span class="id" title="instance">N_divide_RewriteRelation</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#RewriteRelation"><span class="id" title="class">RewriteRelation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide"><span class="id" title="definition">N.divide</span></a> := {}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_divide_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a> <a id="m:186" class="idref" href="#m:186"><span class="id" title="binder">m</span></a> <a id="n:187" class="idref" href="#n:187"><span class="id" title="binder">n</span></a> <a id="p:188" class="idref" href="#p:188"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:186"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:186"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:188"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:188"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_l" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_l"><span class="id" title="lemma">aligned_ptr_mult_weaken_l</span></a> <a id="m:189" class="idref" href="#m:189"><span class="id" title="binder">m</span></a> <a id="n:190" class="idref" href="#n:190"><span class="id" title="binder">n</span></a> <a id="p:191" class="idref" href="#p:191"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:189"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#fe1417cc32a1703619b26940ce957c6a"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:190"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:191"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:190"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:191"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide_mul_r"><span class="id" title="definition">N.divide_mul_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_mult_weaken_r" class="idref" href="#PTRS_MIXIN.aligned_ptr_mult_weaken_r"><span class="id" title="lemma">aligned_ptr_mult_weaken_r</span></a> <a id="m:192" class="idref" href="#m:192"><span class="id" title="binder">m</span></a> <a id="n:193" class="idref" href="#n:193"><span class="id" title="binder">n</span></a> <a id="p:194" class="idref" href="#p:194"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:192"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#fe1417cc32a1703619b26940ce957c6a"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:193"><span class="id" title="variable">n</span></a>) <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:194"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:192"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:194"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide_mul_l"><span class="id" title="definition">N.divide_mul_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_min" class="idref" href="#PTRS_MIXIN.aligned_ptr_min"><span class="id" title="lemma">aligned_ptr_min</span></a> <a id="p:195" class="idref" href="#p:195"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> 1 <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:195"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>] =&gt; <span class="id" title="var">va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#N.divide_1_l"><span class="id" title="definition">N.divide_1_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.aligned_ptr_ty_mult_weaken" class="idref" href="#PTRS_MIXIN.aligned_ptr_ty_mult_weaken"><span class="id" title="lemma">aligned_ptr_ty_mult_weaken</span></a> {<a id="6abb26837f133469b778e4847557de62" class="idref" href="#6abb26837f133469b778e4847557de62"><span class="id" title="binder">Ïƒ</span></a>} <a id="m:197" class="idref" href="#m:197"><span class="id" title="binder">m</span></a> <a id="n:198" class="idref" href="#n:198"><span class="id" title="binder">n</span></a> <a id="ty:199" class="idref" href="#ty:199"><span class="id" title="binder">ty</span></a> <a id="p:200" class="idref" href="#p:200"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:199"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:197"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#m:197"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:199"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:200"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:198"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:200"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_divide_weaken"><span class="id" title="lemma">aligned_ptr_divide_weaken</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_aligned_divide" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_aligned_divide"><span class="id" title="lemma">pinned_ptr_pure_aligned_divide</span></a> <a id="va:201" class="idref" href="#va:201"><span class="id" title="binder">va</span></a> <a id="n:202" class="idref" href="#n:202"><span class="id" title="binder">n</span></a> <a id="p:203" class="idref" href="#p:203"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:203"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:201"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:203"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:202"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:201"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.pinned_ptr_pure_divide_1" class="idref" href="#PTRS_MIXIN.pinned_ptr_pure_divide_1"><span class="id" title="lemma">pinned_ptr_pure_divide_1</span></a> <a id="019a176b853a03971213611fa9d8fc1e" class="idref" href="#019a176b853a03971213611fa9d8fc1e"><span class="id" title="binder">Ïƒ</span></a> <a id="va:205" class="idref" href="#va:205"><span class="id" title="binder">va</span></a> <a id="n:206" class="idref" href="#n:206"><span class="id" title="binder">n</span></a> <a id="p:207" class="idref" href="#p:207"><span class="id" title="binder">p</span></a> <a id="ty:208" class="idref" href="#ty:208"><span class="id" title="binder">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hal:209" class="idref" href="#Hal:209"><span class="id" title="binder">Hal</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.types.html#align_of"><span class="id" title="axiom">align_of</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:208"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:206"><span class="id" title="variable">n</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:208"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">â†’</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:207"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:205"><span class="id" title="variable">va</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">â†’</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#n:206"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#va:205"><span class="id" title="variable">va</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.NArith.BinNat.html#8ced1af7d5c809ae3b18e0be0f448473"><span class="id" title="notation">)</span></a>%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr_ty"><span class="id" title="definition">aligned_ptr_ty</span></a> <span class="id" title="var">Hal</span> /<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN.aligned_ptr"><span class="id" title="definition">aligned_ptr</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_sub_sub" class="idref" href="#PTRS_MIXIN.o_sub_sub"><span class="id" title="lemma">o_sub_sub</span></a> (<a id="p:210" class="idref" href="#p:210"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.ptr"><span class="id" title="axiom">ptr</span></a>) <a id="ty:211" class="idref" href="#ty:211"><span class="id" title="binder">ty</span></a> <a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a> <a id="j:213" class="idref" href="#j:213"><span class="id" title="binder">j</span></a> <a id="64865c83c3f99d4ec7dd0119f277398b" class="idref" href="#64865c83c3f99d4ec7dd0119f277398b"><span class="id" title="binder">Ïƒ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:210"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:211"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:212"><span class="id" title="variable">i</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:211"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:213"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:210"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">.[</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#ty:211"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">!</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#j:213"><span class="id" title="variable">j</span></a><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#386812f0666029e370133e1eab907589"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.offset_ptr_dot"><span class="id" title="axiom">offset_ptr_dot</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_dot_sub"><span class="id" title="axiom">o_dot_sub</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_base_derived_tu" class="idref" href="#PTRS_MIXIN.o_base_derived_tu"><span class="id" title="lemma">o_base_derived_tu</span></a> `{<a id="aad929ed9071b2b768165eee41f7f9c5" class="idref" href="#aad929ed9071b2b768165eee41f7f9c5"><span class="id" title="binder">H</span></a><a id="aad929ed9071b2b768165eee41f7f9c5" class="idref" href="#aad929ed9071b2b768165eee41f7f9c5"><span class="id" title="binder">Ïƒ</span></a> : <a id="tu:215" class="idref" href="#tu:215"><span class="id" title="binder">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">âŠ§</span></a> <a id="8a4edcb2ef12c2a9e7fa4cef63750bbe" class="idref" href="#8a4edcb2ef12c2a9e7fa4cef63750bbe"><span class="id" title="binder">Ïƒ</span></a>} <a id="p:218" class="idref" href="#p:218"><span class="id" title="binder">p</span></a> <a id="base:219" class="idref" href="#base:219"><span class="id" title="binder">base</span></a> <a id="derived:220" class="idref" href="#derived:220"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:215"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:220"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:219"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:218"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8a4edcb2ef12c2a9e7fa4cef63750bbe"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:220"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:219"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#8a4edcb2ef12c2a9e7fa4cef63750bbe"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:219"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:220"><span class="id" title="variable">derived</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:218"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bedrock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base_derived"><span class="id" title="axiom">o_base_derived</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="PTRS_MIXIN.o_derived_base_tu" class="idref" href="#PTRS_MIXIN.o_derived_base_tu"><span class="id" title="lemma">o_derived_base_tu</span></a> `{<a id="2e226090b2eeb8fa664b7142ee074582" class="idref" href="#2e226090b2eeb8fa664b7142ee074582"><span class="id" title="binder">H</span></a><a id="2e226090b2eeb8fa664b7142ee074582" class="idref" href="#2e226090b2eeb8fa664b7142ee074582"><span class="id" title="binder">Ïƒ</span></a> : <a id="tu:221" class="idref" href="#tu:221"><span class="id" title="binder">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">âŠ§</span></a> <a id="bf9dadd60e832de3df752dd28ef8a309" class="idref" href="#bf9dadd60e832de3df752dd28ef8a309"><span class="id" title="binder">Ïƒ</span></a>} <a id="p:224" class="idref" href="#p:224"><span class="id" title="binder">p</span></a> <a id="base:225" class="idref" href="#base:225"><span class="id" title="binder">base</span></a> <a id="derived:226" class="idref" href="#derived:226"><span class="id" title="binder">derived</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.types.html#directly_derives_tu"><span class="id" title="abbreviation">directly_derives_tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#tu:221"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:226"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:225"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:224"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#bf9dadd60e832de3df752dd28ef8a309"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:225"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:226"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#bf9dadd60e832de3df752dd28ef8a309"><span class="id" title="variable">Ïƒ</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#derived:226"><span class="id" title="variable">derived</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#base:225"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#p:224"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??%<a class="idref" href="bedrock.lang.cpp.semantics.types.html#parent_offset_genv_compat"><span class="id" title="lemma">parent_offset_genv_compat</span></a>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived_base"><span class="id" title="axiom">o_derived_base</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._id" class="idref" href="#PTRS_MIXIN._id"><span class="id" title="abbreviation">_id</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_id"><span class="id" title="axiom">o_id</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
access a field 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._field" class="idref" href="#PTRS_MIXIN._field"><span class="id" title="abbreviation">_field</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_field"><span class="id" title="axiom">o_field</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
subscript an array 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._sub" class="idref" href="#PTRS_MIXIN._sub"><span class="id" title="abbreviation">_sub</span></a> <span class="id" title="var">z</span> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_sub"><span class="id" title="axiom">o_sub</span></a> <span class="id" title="var">_</span> <span class="id" title="var">z</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.functions.html#_base"><span class="id" title="abbreviation">_base</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.atomic_commit.html#derived"><span class="id" title="section">derived</span></a></span> <span class="inlinecode"><span class="id" title="library">base</span></span> is a cast from derived to base. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._base" class="idref" href="#PTRS_MIXIN._base"><span class="id" title="abbreviation">_base</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_base"><span class="id" title="axiom">o_base</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.functions.html#_derived"><span class="id" title="abbreviation">_derived</span></a></span> <span class="inlinecode"><span class="id" title="library">base</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.atomic_commit.html#derived"><span class="id" title="section">derived</span></a></span> is a cast from base to derived 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="PTRS_MIXIN._derived" class="idref" href="#PTRS_MIXIN._derived"><span class="id" title="abbreviation">_derived</span></a> := (@<a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#P.o_derived"><span class="id" title="axiom">o_derived</span></a> <span class="id" title="var">_</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a id="PTRS_INTF" class="idref" href="#PTRS_INTF"><span class="id" title="module">PTRS_INTF</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_INTF_MINIMAL"><span class="id" title="module">PTRS_INTF_MINIMAL</span></a> &lt;+ <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS_MIXIN"><span class="id" title="module">PTRS_MIXIN</span></a>.<br/>

<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
