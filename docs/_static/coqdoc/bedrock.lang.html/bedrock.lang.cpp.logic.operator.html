<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.operator</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.proofmode.proofmode.html#"><span class="id" title="library">bedrock.lang.proofmode.proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bedrock.prelude.base</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bedrock.prelude.option</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.html#"><span class="id" title="library">bedrock.lang.cpp.syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.values</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.operator.html#"><span class="id" title="library">bedrock.lang.cpp.semantics.operator</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.pred</span></a>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a id="eval_binop_impure" class="idref" href="#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="has_cpp:3" class="idref" href="#has_cpp:3"><span class="id" title="binder">has_cpp</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="cd01c1f8eba18116122f50d6eb622af2" class="idref" href="#cd01c1f8eba18116122f50d6eb622af2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="lhsT:5" class="idref" href="#lhsT:5"><span class="id" title="binder">lhsT</span></a> <a id="rhsT:6" class="idref" href="#rhsT:6"><span class="id" title="binder">rhsT</span></a> <a id="resT:7" class="idref" href="#resT:7"><span class="id" title="binder">resT</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="lhs:8" class="idref" href="#lhs:8"><span class="id" title="binder">lhs</span></a> <a id="rhs:9" class="idref" href="#rhs:9"><span class="id" title="binder">rhs</span></a> <a id="res:10" class="idref" href="#res:10"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
<span class="id" title="keyword">Axiom</span> <a id="eval_binop_impure_well_typed" class="idref" href="#eval_binop_impure_well_typed"><span class="id" title="axiom">eval_binop_impure_well_typed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">`{</span></a><a id="has_cpp:15" class="idref" href="#has_cpp:15"><span class="id" title="binder">has_cpp</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} `{<a id="dd0f8ee13b043696963f589a3a566f8e" class="idref" href="#dd0f8ee13b043696963f589a3a566f8e"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:17" class="idref" href="#tu:17"><span class="id" title="binder">tu</span></a> <a id="bo:18" class="idref" href="#bo:18"><span class="id" title="binder">bo</span></a> <a id="ty1:19" class="idref" href="#ty1:19"><span class="id" title="binder">ty1</span></a> <a id="ty2:20" class="idref" href="#ty2:20"><span class="id" title="binder">ty2</span></a> <a id="ty3:21" class="idref" href="#ty3:21"><span class="id" title="binder">ty3</span></a> <a id="v1:22" class="idref" href="#v1:22"><span class="id" title="binder">v1</span></a> <a id="v2:23" class="idref" href="#v2:23"><span class="id" title="binder">v2</span></a> <a id="v3:24" class="idref" href="#v3:24"><span class="id" title="binder">v3</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:17"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#dd0f8ee13b043696963f589a3a566f8e"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:17"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:18"><span class="id" title="variable">bo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:19"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:20"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:21"><span class="id" title="variable">ty3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:22"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:23"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:24"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:22"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:19"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:23"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:20"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:24"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:21"><span class="id" title="variable">ty3</span></a>.<br/>

<br/>
</div>

<div class="doc">
Pointer <span class="inlinecode"><span class="id" title="var">p'</span></span> is not at the beginning of a block. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="non_beginning_ptr" class="idref" href="#non_beginning_ptr"><span class="id" title="definition">non_beginning_ptr</span></a> `{<a id="has_cpp:29" class="idref" href="#has_cpp:29"><span class="id" title="binder">has_cpp</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} <a id="p':30" class="idref" href="#p':30"><span class="id" title="binder">p'</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="p:31" class="idref" href="#p:31"><span class="id" title="binder">p</span></a> <a id="o:32" class="idref" href="#o:32"><span class="id" title="binder">o</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p':30"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:31"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o:32"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ensure&nbsp;that&nbsp;o&nbsp;is&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">some_Forall2</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#N.lt"><span class="id" title="definition">N.lt</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:31"><span class="id" title="variable">p</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p':30"><span class="id" title="variable">p'</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:31"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="non_beginning_ptr" class="idref" href="#non_beginning_ptr"><span class="id" title="section">non_beginning_ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="non_beginning_ptr.has_cpp" class="idref" href="#non_beginning_ptr.has_cpp"><span class="id" title="variable">has_cpp</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="non_beginning_ptr_persistent" class="idref" href="#non_beginning_ptr_persistent"><span class="id" title="instance">non_beginning_ptr_persistent</span></a> <a id="p:36" class="idref" href="#p:36"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#non_beginning_ptr"><span class="id" title="definition">non_beginning_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:36"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="non_beginning_ptr_affine" class="idref" href="#non_beginning_ptr_affine"><span class="id" title="instance">non_beginning_ptr_affine</span></a> <a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Affine"><span class="id" title="class">Affine</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#non_beginning_ptr"><span class="id" title="definition">non_beginning_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:37"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="non_beginning_ptr_timeless" class="idref" href="#non_beginning_ptr_timeless"><span class="id" title="instance">non_beginning_ptr_timeless</span></a> <a id="p:38" class="idref" href="#p:38"><span class="id" title="binder">p</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#non_beginning_ptr"><span class="id" title="definition">non_beginning_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:38"><span class="id" title="variable">p</span></a>) := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#non_beginning_ptr"><span class="id" title="section">non_beginning_ptr</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Typeclasses</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="var">non_beginning_ptr</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="106674b72acf13fb9e22a04f2639dc9f" class="idref" href="#106674b72acf13fb9e22a04f2639dc9f"><span class="id" title="section">with_Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="917dfa942f2145f7b77c338f4835f9a5" class="idref" href="#917dfa942f2145f7b77c338f4835f9a5"><span class="id" title="variable">has_cpp</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="5cb38bbd72b208fd6307b5703a7862b6" class="idref" href="#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eval_binop" class="idref" href="#eval_binop"><span class="id" title="definition">eval_binop</span></a> <a id="tu:43" class="idref" href="#tu:43"><span class="id" title="binder">tu</span></a> (<a id="b:44" class="idref" href="#b:44"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a>) (<a id="lhsT:45" class="idref" href="#lhsT:45"><span class="id" title="binder">lhsT</span></a> <a id="rhsT:46" class="idref" href="#rhsT:46"><span class="id" title="binder">rhsT</span></a> <a id="resT:47" class="idref" href="#resT:47"><span class="id" title="binder">resT</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="lhs:48" class="idref" href="#lhs:48"><span class="id" title="binder">lhs</span></a> <a id="rhs:49" class="idref" href="#rhs:49"><span class="id" title="binder">rhs</span></a> <a id="res:50" class="idref" href="#res:50"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.operator.html#OPERATOR_INTF_AXIOM.eval_binop_pure"><span class="id" title="axiom">eval_binop_pure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:43"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#lhsT:45"><span class="id" title="variable">lhsT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#rhsT:46"><span class="id" title="variable">rhsT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#resT:47"><span class="id" title="variable">resT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#lhs:48"><span class="id" title="variable">lhs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#rhs:49"><span class="id" title="variable">rhs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:50"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:43"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#lhsT:45"><span class="id" title="variable">lhsT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#rhsT:46"><span class="id" title="variable">rhsT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#resT:47"><span class="id" title="variable">resT</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#lhs:48"><span class="id" title="variable">lhs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#rhs:49"><span class="id" title="variable">rhs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:50"><span class="id" title="variable">res</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eval_binop_impure_well_typed_prop" class="idref" href="#eval_binop_impure_well_typed_prop"><span class="id" title="lemma">eval_binop_impure_well_typed_prop</span></a> <a id="tu:51" class="idref" href="#tu:51"><span class="id" title="binder">tu</span></a> <a id="bo:52" class="idref" href="#bo:52"><span class="id" title="binder">bo</span></a> <a id="ty1:53" class="idref" href="#ty1:53"><span class="id" title="binder">ty1</span></a> <a id="ty2:54" class="idref" href="#ty2:54"><span class="id" title="binder">ty2</span></a> <a id="ty3:55" class="idref" href="#ty3:55"><span class="id" title="binder">ty3</span></a> <a id="v1:56" class="idref" href="#v1:56"><span class="id" title="binder">v1</span></a> <a id="v2:57" class="idref" href="#v2:57"><span class="id" title="binder">v2</span></a> <a id="v3:58" class="idref" href="#v3:58"><span class="id" title="binder">v3</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:51"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:51"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:52"><span class="id" title="variable">bo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:53"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:54"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:55"><span class="id" title="variable">ty3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:56"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:57"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:58"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:56"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:53"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:57"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:54"><span class="id" title="variable">ty2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:58"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:55"><span class="id" title="variable">ty3</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure_well_typed"><span class="id" title="axiom">eval_binop_impure_well_typed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type_has_type_prop"><span class="id" title="axiom">has_type_has_type_prop</span></a> !<a class="idref" href="bedrock.lang.bi.only_provable.html#only_provable_sep"><span class="id" title="lemma">only_provable_sep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="eval_binop_well_typed" class="idref" href="#eval_binop_well_typed"><span class="id" title="lemma">eval_binop_well_typed</span></a> <a id="tu:59" class="idref" href="#tu:59"><span class="id" title="binder">tu</span></a> <a id="bo:60" class="idref" href="#bo:60"><span class="id" title="binder">bo</span></a> <a id="ty1:61" class="idref" href="#ty1:61"><span class="id" title="binder">ty1</span></a> <a id="ty2:62" class="idref" href="#ty2:62"><span class="id" title="binder">ty2</span></a> <a id="ty3:63" class="idref" href="#ty3:63"><span class="id" title="binder">ty3</span></a> <a id="v1:64" class="idref" href="#v1:64"><span class="id" title="binder">v1</span></a> <a id="v2:65" class="idref" href="#v2:65"><span class="id" title="binder">v2</span></a> <a id="v3:66" class="idref" href="#v3:66"><span class="id" title="binder">v3</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:59"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#f0256880c5e17791a18a195b1af6d27f"><span class="id" title="notation">⊧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop"><span class="id" title="definition">eval_binop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#tu:59"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:60"><span class="id" title="variable">bo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:61"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:62"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:63"><span class="id" title="variable">ty3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:64"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:65"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:66"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v1:64"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty1:61"><span class="id" title="variable">ty1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v2:65"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty2:62"><span class="id" title="variable">ty2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#v3:66"><span class="id" title="variable">v3</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty3:63"><span class="id" title="variable">ty3</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> "[% | X]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.semantics.operator.html#OPERATOR_INTF_AXIOM.eval_binop_pure_well_typed"><span class="id" title="axiom">eval_binop_pure_well_typed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure_well_typed_prop"><span class="id" title="lemma">eval_binop_impure_well_typed_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="b7e09fc2860e68dfb067e4ca7c97c3ad" class="idref" href="#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab141"></a><h1 class="section">Pointer comparison operators</h1>
 For <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ble"><span class="id" title="constructor">Ble</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Blt"><span class="id" title="constructor">Blt</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bge"><span class="id" title="constructor">Bge</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bgt"><span class="id" title="constructor">Bgt</span></a></span> axioms on pointers. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ptr_ord_comparable" class="idref" href="#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a> <a id="p1:69" class="idref" href="#p1:69"><span class="id" title="binder">p1</span></a> <a id="p2:70" class="idref" href="#p2:70"><span class="id" title="binder">p2</span></a> (<a id="f:71" class="idref" href="#f:71"><span class="id" title="binder">f</span></a> : <span class="id" title="definition">vaddr</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">vaddr</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="res:72" class="idref" href="#res:72"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:69"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:70"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="va1:73" class="idref" href="#va1:73"><span class="id" title="binder">va1</span></a> <a id="va2:74" class="idref" href="#va2:74"><span class="id" title="binder">va2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:69"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:73"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:70"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:74"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:71"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:73"><span class="id" title="variable">va1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:74"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:72"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:69"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:70"><span class="id" title="variable">p2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Two&nbsp;pointers&nbsp;into&nbsp;the&nbsp;same&nbsp;object&nbsp;are&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_ord_comparable</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_ord_comparable_off_off" class="idref" href="#ptr_ord_comparable_off_off"><span class="id" title="lemma">ptr_ord_comparable_off_off</span></a> <a id="o1:75" class="idref" href="#o1:75"><span class="id" title="binder">o1</span></a> <a id="o2:76" class="idref" href="#o2:76"><span class="id" title="binder">o2</span></a> <a id="base:77" class="idref" href="#base:77"><span class="id" title="binder">base</span></a> <a id="p1:78" class="idref" href="#p1:78"><span class="id" title="binder">p1</span></a> <a id="p2:79" class="idref" href="#p2:79"><span class="id" title="binder">p2</span></a> <a id="f:80" class="idref" href="#f:80"><span class="id" title="binder">f</span></a> <a id="res:81" class="idref" href="#res:81"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:78"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:77"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:75"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:79"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:77"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o2:76"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="va1:82" class="idref" href="#va1:82"><span class="id" title="binder">va1</span></a> <a id="va2:83" class="idref" href="#va2:83"><span class="id" title="binder">va2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:78"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:82"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:79"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:83"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:80"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:82"><span class="id" title="variable">va1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:83"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:81"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:78"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:79"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:78"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:79"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:80"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:81"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt; -&gt; <span class="id" title="var">Hres</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#[V1 V2]". <span class="id" title="var">iFrame</span> (<span class="id" title="var">Hres</span>) "V1 V2" =&gt; {<span class="id" title="var">Hres</span>}; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr_alloc_id"><span class="id" title="axiom">valid_ptr_alloc_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "V1 V2"; <span class="id" title="var">iIntros</span> "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc_offset_2"><span class="id" title="lemma">same_alloc_offset_2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_ord_comparable_off" class="idref" href="#ptr_ord_comparable_off"><span class="id" title="lemma">ptr_ord_comparable_off</span></a> <a id="o1:84" class="idref" href="#o1:84"><span class="id" title="binder">o1</span></a> <a id="base:85" class="idref" href="#base:85"><span class="id" title="binder">base</span></a> <a id="p1:86" class="idref" href="#p1:86"><span class="id" title="binder">p1</span></a> <a id="f:87" class="idref" href="#f:87"><span class="id" title="binder">f</span></a> <a id="res:88" class="idref" href="#res:88"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:86"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:85"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:84"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="va1:89" class="idref" href="#va1:89"><span class="id" title="binder">va1</span></a> <a id="va2:90" class="idref" href="#va2:90"><span class="id" title="binder">va2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:86"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:89"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:85"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:90"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:87"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:89"><span class="id" title="variable">va1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:90"><span class="id" title="variable">va2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:88"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:86"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:85"><span class="id" title="variable">base</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:86"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:85"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:87"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:88"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt; <span class="id" title="var">Hres</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable_off_off"><span class="id" title="lemma">ptr_ord_comparable_off_off</span></a> <span class="id" title="var">o1</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_id"><span class="id" title="axiom">o_id</span></a> <span class="id" title="var">base</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Skeleton for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bneq"><span class="id" title="constructor">Bneq</span></a></span> axioms on pointers.

<div class="paragraph"> </div>

   This specification follows the C++ standard
   (https://eel.is/c++draft/expr.eq3), and is inspired by Cerberus's pointer
   provenance semantics for C, and Krebbers's thesis. We forbid cases where
   comparisons have undefined or unspecified behavior.
   As a deviation, we assume compilers do not perform lifetime-end pointer
   zapping (see http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2443.pdf).

   (1) We always require both pointers to be valid.
   (2) Crucially, in all these semantics comparing pointers with distinct
       provenances (allocation ID) but the same address has non-deterministic
       results, so we forbid it. Hence, we must prevent ambiguous results.
       (a) Comparing two pointers with the same allocation ID is never
           ambiguous.
       (b) We assume non-null pointers can be reliably distinguished from
           [nullptr], because we don't support pointer zapping (unlike
           Krebbers and the standard).
       (c) Otherwise, we require that both pointers are jointly live, and
           prevent remaining potential confusion via [ptr_unambiguous_cmp].

   - Joint liveness is required in clause (c) because a dangling pointer and
     a non-null live pointer have different provenances but can have the same
     address, because the allocator could have reused the address of the
     dangling pointer.
   - Via [ptr_unambiguous_cmp], we forbid comparing a one-past-the-end
     pointer to an object with a pointer to the "beginning" of a different
     object, because that gives unspecified results [1], so we choose not to
     support this case. We use [non_beginning_ptr] to ensure a pointer is not
     to the beginning of a complete object.

   [1] From https://eel.is/c++draft/expr.eq3.1:
   &gt; If one pointer represents the address of a complete object, and another
     pointer represents the address one past the last element of a different
     complete object, the result of the comparison is unspecified.
   
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="ptr_unambiguous_cmp" class="idref" href="#ptr_unambiguous_cmp"><span class="id" title="definition">ptr_unambiguous_cmp</span></a> <a id="vt1:91" class="idref" href="#vt1:91"><span class="id" title="binder">vt1</span></a> <a id="p2:92" class="idref" href="#p2:92"><span class="id" title="binder">p2</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vt1:91"><span class="id" title="variable">vt1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Strict"><span class="id" title="constructor">Strict</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#non_beginning_ptr"><span class="id" title="definition">non_beginning_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:92"><span class="id" title="variable">p2</span></a>.<br/>

<br/>
</div>

<div class="doc">
Can these pointers be validly compared? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;Written&nbsp;to&nbsp;ease&nbsp;showing&nbsp;<span class="inlinecode"><span class="id" title="var">ptr_comparable_symm</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ptr_comparable_def" class="idref" href="#ptr_comparable_def"><span class="id" title="definition">ptr_comparable_def</span></a> <a id="p1:93" class="idref" href="#p1:93"><span class="id" title="binder">p1</span></a> <a id="p2:94" class="idref" href="#p2:94"><span class="id" title="binder">p2</span></a> <a id="res:95" class="idref" href="#res:95"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;premises&nbsp;let&nbsp;you&nbsp;assume&nbsp;that&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">p1</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">p2</span></span>&nbsp;have&nbsp;an&nbsp;address.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <a id="vt1:96" class="idref" href="#vt1:96"><span class="id" title="binder">vt1</span></a> <a id="vt2:97" class="idref" href="#vt2:97"><span class="id" title="binder">vt2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:95"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#L._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vt1:96"><span class="id" title="variable">vt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vt2:97"><span class="id" title="variable">vt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.live_ptr"><span class="id" title="definition">live_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_unambiguous_cmp"><span class="id" title="definition">ptr_unambiguous_cmp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vt1:96"><span class="id" title="variable">vt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:94"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_unambiguous_cmp"><span class="id" title="definition">ptr_unambiguous_cmp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vt2:97"><span class="id" title="variable">vt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:93"><span class="id" title="variable">p1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#df8727fb8673700193f111b03d29db4e"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ptr_comparable_aux" class="idref" href="#ptr_comparable_aux"><span class="id" title="definition">ptr_comparable_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_def"><span class="id" title="definition">ptr_comparable_def</span></a>. <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ptr_comparable" class="idref" href="#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_aux"><span class="id" title="definition">ptr_comparable_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="ptr_comparable_eq" class="idref" href="#ptr_comparable_eq"><span class="id" title="definition">ptr_comparable_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> := <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_aux"><span class="id" title="definition">ptr_comparable_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_ord_comparable_comparable" class="idref" href="#ptr_ord_comparable_comparable"><span class="id" title="lemma">ptr_ord_comparable_comparable</span></a> <a id="p1:98" class="idref" href="#p1:98"><span class="id" title="binder">p1</span></a> <a id="p2:99" class="idref" href="#p2:99"><span class="id" title="binder">p2</span></a> <a id="res:100" class="idref" href="#res:100"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:98"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:99"><span class="id" title="variable">p2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="va1:101" class="idref" href="#va1:101"><span class="id" title="binder">va1</span></a> <a id="va2:102" class="idref" href="#va2:102"><span class="id" title="binder">va2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#va1:101"><span class="id" title="variable">va1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#va2:102"><span class="id" title="variable">va2</span></a>)) <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:100"><span class="id" title="variable">res</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:98"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:99"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:100"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_eq"><span class="id" title="definition">ptr_comparable_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_def"><span class="id" title="definition">ptr_comparable_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "($ &amp; %Hi &amp; ? &amp; ?)" ([[<span class="id" title="var">va1</span> <span class="id" title="var">Hs1</span>] [<span class="id" title="var">va2</span> <span class="id" title="var">Hs2</span>]]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">Hi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool_eq"><span class="id" title="lemma">same_address_bool_eq</span></a> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_comparable_symm" class="idref" href="#ptr_comparable_symm"><span class="id" title="lemma">ptr_comparable_symm</span></a> <a id="p1:103" class="idref" href="#p1:103"><span class="id" title="binder">p1</span></a> <a id="p2:104" class="idref" href="#p2:104"><span class="id" title="binder">p2</span></a> <a id="res:105" class="idref" href="#res:105"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:103"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:104"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:105"><span class="id" title="variable">res</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:104"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:103"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:105"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_eq"><span class="id" title="definition">ptr_comparable_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_def"><span class="id" title="definition">ptr_comparable_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#and"><span class="id" title="inductive">and</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <span class="id" title="var">p2</span>))); <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">vt1</span> <span class="id" title="var">vt2</span>) "H"; <span class="id" title="var">iExists</span> <span class="id" title="var">vt2</span>, <span class="id" title="var">vt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;ease&nbsp;rearranging&nbsp;conjuncts&nbsp;or&nbsp;changing&nbsp;connectives,&nbsp;we&nbsp;repeat&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;body&nbsp;(which&nbsp;is&nbsp;easy&nbsp;to&nbsp;update),&nbsp;not&nbsp;the&nbsp;nesting&nbsp;structure.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#and"><span class="id" title="inductive">and</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <span class="id" title="var">p2</span>))<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <span class="id" title="var">p2</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L._valid_ptr"><span class="id" title="axiom">_valid_ptr</span></a> <span class="id" title="var">vt2</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_alloc"><span class="id" title="axiom">same_alloc</span></a> <span class="id" title="var">p2</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="var">p2</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>%<span class="id" title="var">I</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.live_ptr"><span class="id" title="definition">live_ptr</span></a> <span class="id" title="var">p2</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_unambiguous_cmp"><span class="id" title="definition">ptr_unambiguous_cmp</span></a> <span class="id" title="var">vt2</span> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStopProof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nullptr_ptr_comparable" class="idref" href="#nullptr_ptr_comparable"><span class="id" title="lemma">nullptr_ptr_comparable</span></a> {<a id="p:106" class="idref" href="#p:106"><span class="id" title="binder">p</span></a> <a id="res:107" class="idref" href="#res:107"><span class="id" title="binder">res</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:106"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:106"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:107"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:106"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:106"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:107"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_eq"><span class="id" title="definition">ptr_comparable_eq</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_def"><span class="id" title="definition">ptr_comparable_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "%HresI V" ([<span class="id" title="var">Haddr</span> <span class="id" title="var">_</span>]); <span class="id" title="var">iExists</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.pred.html#Relaxed"><span class="id" title="constructor">Relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_address_bool_null"><span class="id" title="lemma">same_address_bool_null</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> ((<span class="id" title="var">HresI</span> <span class="id" title="var">Haddr</span>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>)) "V".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr_nullptr"><span class="id" title="axiom">valid_ptr_nullptr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="self_ptr_comparable" class="idref" href="#self_ptr_comparable"><span class="id" title="lemma">self_ptr_comparable</span></a> <a id="p:108" class="idref" href="#p:108"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:108"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:108"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:108"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable_comparable"><span class="id" title="lemma">ptr_ord_comparable_comparable</span></a> /<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a>; <span class="id" title="var">iIntros</span> "#V".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.pred.html#same_alloc_refl"><span class="id" title="lemma">same_alloc_refl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$"; <span class="id" title="var">iFrame</span> "V"; <span class="id" title="var">iIntros</span> "!%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify_eq</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide_true"><span class="id" title="abbreviation">bool_decide_true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_comparable_off_off" class="idref" href="#ptr_comparable_off_off"><span class="id" title="lemma">ptr_comparable_off_off</span></a> <a id="o1:109" class="idref" href="#o1:109"><span class="id" title="binder">o1</span></a> <a id="o2:110" class="idref" href="#o2:110"><span class="id" title="binder">o2</span></a> <a id="base:111" class="idref" href="#base:111"><span class="id" title="binder">base</span></a> <a id="p1:112" class="idref" href="#p1:112"><span class="id" title="binder">p1</span></a> <a id="p2:113" class="idref" href="#p2:113"><span class="id" title="binder">p2</span></a> <a id="res:114" class="idref" href="#res:114"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:112"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:111"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:109"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:113"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:111"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o2:110"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:112"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:113"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:114"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:112"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:113"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:112"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:113"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:114"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;-&gt; <span class="id" title="var">Hs</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable_comparable"><span class="id" title="lemma">ptr_ord_comparable_comparable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable_off_off"><span class="id" title="lemma">ptr_ord_comparable_off_off</span></a>; [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">va1</span> <span class="id" title="var">va2</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool_eq"><span class="id" title="lemma">same_address_bool_eq</span></a> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ptr_comparable_off" class="idref" href="#ptr_comparable_off"><span class="id" title="lemma">ptr_comparable_off</span></a> <a id="o1:115" class="idref" href="#o1:115"><span class="id" title="binder">o1</span></a> <a id="base:116" class="idref" href="#base:116"><span class="id" title="binder">base</span></a> <a id="p1:117" class="idref" href="#p1:117"><span class="id" title="binder">p1</span></a> <a id="res:118" class="idref" href="#res:118"><span class="id" title="binder">res</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:116"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:115"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.same_address_bool"><span class="id" title="definition">same_address_bool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:116"><span class="id" title="variable">base</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:118"><span class="id" title="variable">res</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:116"><span class="id" title="variable">base</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:117"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:116"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:118"><span class="id" title="variable">res</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt; <span class="id" title="var">Hres</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_off_off"><span class="id" title="lemma">ptr_comparable_off_off</span></a> <span class="id" title="var">o1</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.o_id"><span class="id" title="axiom">o_id</span></a> <span class="id" title="var">base</span>) =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset_ptr_id"><span class="id" title="axiom">offset_ptr_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="eval_ptr_eq_cmp_op" class="idref" href="#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> (<a id="bo:119" class="idref" href="#bo:119"><span class="id" title="binder">bo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a>) <a id="ty:120" class="idref" href="#ty:120"><span class="id" title="binder">ty</span></a> <a id="p1:121" class="idref" href="#p1:121"><span class="id" title="binder">p1</span></a> <a id="p2:122" class="idref" href="#p2:122"><span class="id" title="binder">p2</span></a> <a id="res:123" class="idref" href="#res:123"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:119"><span class="id" title="variable">bo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:120"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:120"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tbool"><span class="id" title="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:121"><span class="id" title="variable">p1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:122"><span class="id" title="variable">p2</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vbool"><span class="id" title="definition">Vbool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:123"><span class="id" title="variable">res</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="a5c291cd69ff7371c7301677b97612ad" class="idref" href="#a5c291cd69ff7371c7301677b97612ad"><span class="id" title="variable">eval_ptr_eq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:124" class="idref" href="#ty:124"><span class="id" title="binder">ty</span></a> <a id="p1:125" class="idref" href="#p1:125"><span class="id" title="binder">p1</span></a> <a id="p2:126" class="idref" href="#p2:126"><span class="id" title="binder">p2</span></a> <a id="res:127" class="idref" href="#res:127"><span class="id" title="binder">res</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable"><span class="id" title="definition">ptr_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:125"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:126"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:127"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:124"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:125"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:126"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:127"><span class="id" title="variable">res</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eval_ptr_nullptr_eq_l" class="idref" href="#eval_ptr_nullptr_eq_l"><span class="id" title="lemma">eval_ptr_nullptr_eq_l</span></a> {<a id="ty:130" class="idref" href="#ty:130"><span class="id" title="binder">ty</span></a> <a id="vp:131" class="idref" href="#vp:131"><span class="id" title="binder">vp</span></a> <a id="res:132" class="idref" href="#res:132"><span class="id" title="binder">res</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:131"><span class="id" title="variable">vp</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:131"><span class="id" title="variable">vp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:132"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:131"><span class="id" title="variable">vp</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:130"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:131"><span class="id" title="variable">vp</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:132"><span class="id" title="variable">res</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;%<a class="idref" href="bedrock.lang.cpp.logic.operator.html#nullptr_ptr_comparable"><span class="id" title="lemma">nullptr_ptr_comparable</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq"><span class="id" title="axiom">eval_ptr_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eval_ptr_nullptr_eq_r" class="idref" href="#eval_ptr_nullptr_eq_r"><span class="id" title="lemma">eval_ptr_nullptr_eq_r</span></a> {<a id="ty:133" class="idref" href="#ty:133"><span class="id" title="binder">ty</span></a> <a id="vp:134" class="idref" href="#vp:134"><span class="id" title="binder">vp</span></a> <a id="res:135" class="idref" href="#res:135"><span class="id" title="binder">res</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr_vaddr"><span class="id" title="axiom">ptr_vaddr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:134"><span class="id" title="variable">vp</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:134"><span class="id" title="variable">vp</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:135"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:134"><span class="id" title="variable">vp</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:133"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.nullptr"><span class="id" title="axiom">nullptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#vp:134"><span class="id" title="variable">vp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:135"><span class="id" title="variable">res</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;%<a class="idref" href="bedrock.lang.cpp.logic.operator.html#nullptr_ptr_comparable"><span class="id" title="lemma">nullptr_ptr_comparable</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_comparable_symm"><span class="id" title="lemma">ptr_comparable_symm</span></a> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq"><span class="id" title="axiom">eval_ptr_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eval_ptr_self_eq" class="idref" href="#eval_ptr_self_eq"><span class="id" title="lemma">eval_ptr_self_eq</span></a> <a id="ty:136" class="idref" href="#ty:136"><span class="id" title="binder">ty</span></a> <a id="p:137" class="idref" href="#p:137"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:137"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:136"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:137"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p:137"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq"><span class="id" title="axiom">eval_ptr_eq</span></a> -<a class="idref" href="bedrock.lang.cpp.logic.operator.html#self_ptr_comparable"><span class="id" title="lemma">self_ptr_comparable</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="a0f6f3734065cdbdcb8cae4657b1da25" class="idref" href="#a0f6f3734065cdbdcb8cae4657b1da25"><span class="id" title="variable">eval_ptr_neq</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:138" class="idref" href="#ty:138"><span class="id" title="binder">ty</span></a> <a id="p1:139" class="idref" href="#p1:139"><span class="id" title="binder">p1</span></a> <a id="p2:140" class="idref" href="#p2:140"><span class="id" title="binder">p2</span></a> <a id="res:141" class="idref" href="#res:141"><span class="id" title="binder">res</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Beq"><span class="id" title="constructor">Beq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:138"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:139"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:140"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:141"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_eq_cmp_op"><span class="id" title="definition">eval_ptr_eq_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bneq"><span class="id" title="constructor">Bneq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:138"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:139"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:140"><span class="id" title="variable">p2</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:141"><span class="id" title="variable">res</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Skeleton for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ble"><span class="id" title="constructor">Ble</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Blt"><span class="id" title="constructor">Blt</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bge"><span class="id" title="constructor">Bge</span></a>,</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bgt"><span class="id" title="constructor">Bgt</span></a></span> axioms on pointers. 
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="eval_ptr_ord_cmp_op" class="idref" href="#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> (<a id="bo:144" class="idref" href="#bo:144"><span class="id" title="binder">bo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a>) (<a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> : <span class="id" title="definition">vaddr</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">vaddr</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:146" class="idref" href="#ty:146"><span class="id" title="binder">ty</span></a> <a id="p1:147" class="idref" href="#p1:147"><span class="id" title="binder">p1</span></a> <a id="p2:148" class="idref" href="#p2:148"><span class="id" title="binder">p2</span></a> <a id="res:149" class="idref" href="#res:149"><span class="id" title="binder">res</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#ptr_ord_comparable"><span class="id" title="definition">ptr_ord_comparable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:147"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:148"><span class="id" title="variable">p2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:149"><span class="id" title="variable">res</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:144"><span class="id" title="variable">bo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:146"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:146"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tbool"><span class="id" title="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:147"><span class="id" title="variable">p1</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:148"><span class="id" title="variable">p2</span></a>) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vbool"><span class="id" title="definition">Vbool</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#res:149"><span class="id" title="variable">res</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'True'"><span class="id" title="notation">True</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="df28e46df07e155ea7313f5a785e3d5a" class="idref" href="#df28e46df07e155ea7313f5a785e3d5a"><span class="id" title="variable">eval_ptr_le</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ble"><span class="id" title="constructor">Ble</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#N.leb"><span class="id" title="definition">N.leb</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="0e71f651d6397699467003931b117362" class="idref" href="#0e71f651d6397699467003931b117362"><span class="id" title="variable">eval_ptr_lt</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Blt"><span class="id" title="constructor">Blt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#N.ltb"><span class="id" title="definition">N.ltb</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="68677b2ea2117ab95f8f00bd7e7637c7" class="idref" href="#68677b2ea2117ab95f8f00bd7e7637c7"><span class="id" title="variable">eval_ptr_ge</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bge"><span class="id" title="constructor">Bge</span></a> (<span class="id" title="keyword">fun</span> <a id="x:154" class="idref" href="#x:154"><span class="id" title="binder">x</span></a> <a id="y:155" class="idref" href="#y:155"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.operator.html#y:155"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#05335162eaa480b4616c18e1c329eb57"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#x:154"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">N</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="fc008a8f379c69e64f4ac83288905064" class="idref" href="#fc008a8f379c69e64f4ac83288905064"><span class="id" title="variable">eval_ptr_gt</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_ord_cmp_op"><span class="id" title="definition">eval_ptr_ord_cmp_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bgt"><span class="id" title="constructor">Bgt</span></a> (<span class="id" title="keyword">fun</span> <a id="x:158" class="idref" href="#x:158"><span class="id" title="binder">x</span></a> <a id="y:159" class="idref" href="#y:159"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.operator.html#y:159"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#x:158"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">N</span>).<br/>

<br/>
</div>

<div class="doc">
For non-comparison operations, we do not require liveness, unlike Krebbers.
  We require validity of the result to prevent over/underflow.
  (This is because we don't do pointer zapping, following Cerberus).
  Supporting pointer zapping would require adding <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP.live_ptr"><span class="id" title="definition">live_ptr</span></a></span> preconditions to
  these operators.
  https://eel.is/c++draft/basic.compound3.1 
<div class="paragraph"> </div>

 Skeletons for ptr/int operators. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="eval_ptr_int_op" class="idref" href="#eval_ptr_int_op"><span class="id" title="definition">eval_ptr_int_op</span></a> (<a id="bo:162" class="idref" href="#bo:162"><span class="id" title="binder">bo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a>) (<a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="w:164" class="idref" href="#w:164"><span class="id" title="binder">w</span></a> <a id="s:165" class="idref" href="#s:165"><span class="id" title="binder">s</span></a> <a id="p1:166" class="idref" href="#p1:166"><span class="id" title="binder">p1</span></a> <a id="p2:167" class="idref" href="#p2:167"><span class="id" title="binder">p2</span></a> <a id="o:168" class="idref" href="#o:168"><span class="id" title="binder">o</span></a> <a id="ty:169" class="idref" href="#ty:169"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:169"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:167"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:166"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:169"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o:168"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:166"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:167"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:162"><span class="id" title="variable">bo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:169"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#w:164"><span class="id" title="variable">w</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#s:165"><span class="id" title="variable">s</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:169"><span class="id" title="variable">ty</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:166"><span class="id" title="variable">p1</span></a>)     (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vint"><span class="id" title="constructor">Vint</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o:168"><span class="id" title="variable">o</span></a>)   (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:167"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="eval_int_ptr_op" class="idref" href="#eval_int_ptr_op"><span class="id" title="definition">eval_int_ptr_op</span></a> (<a id="bo:170" class="idref" href="#bo:170"><span class="id" title="binder">bo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#BinOp"><span class="id" title="inductive">BinOp</span></a>) (<a id="f:171" class="idref" href="#f:171"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="w:172" class="idref" href="#w:172"><span class="id" title="binder">w</span></a> <a id="s:173" class="idref" href="#s:173"><span class="id" title="binder">s</span></a> <a id="p1:174" class="idref" href="#p1:174"><span class="id" title="binder">p1</span></a> <a id="p2:175" class="idref" href="#p2:175"><span class="id" title="binder">p2</span></a> <a id="o:176" class="idref" href="#o:176"><span class="id" title="binder">o</span></a> <a id="ty:177" class="idref" href="#ty:177"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:177"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:175"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:174"><span class="id" title="variable">p1</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:177"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#f:171"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o:176"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:174"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:175"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#bo:170"><span class="id" title="variable">bo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#w:172"><span class="id" title="variable">w</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#s:173"><span class="id" title="variable">s</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:177"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:177"><span class="id" title="variable">ty</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vint"><span class="id" title="constructor">Vint</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o:176"><span class="id" title="variable">o</span></a>)   (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:174"><span class="id" title="variable">p1</span></a>)     (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:175"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
</div>

<div class="doc">
  lhs + rhs (https://eel.is/c++draft/expr.add1): one of rhs or lhs is a
  pointer to a completely-defined object type
  (https://eel.is/c++draft/basic.typesgeneral-5), the other has integral or
  unscoped enumeration type. In this case, the result type has the type of
  the pointer.

<div class="paragraph"> </div>

  Liveness note: when adding int <span class="inlinecode"><span class="id" title="var">i</span></span> to pointer <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span>, the standard demands
  that <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#with_cpp.TEST.p"><span class="id" title="variable">p</span></a></span> points to an array (https://eel.is/c++draft/expr.add4.2),
  With https://eel.is/c++draft/basic.compound3.1 and
  https://eel.is/c++draft/basic.memobjbasic.stc.general-4, that implies that
  [p] has not been deallocated.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="ed14c4ef2bb6875a96267ae9c54e6852" class="idref" href="#ed14c4ef2bb6875a96267ae9c54e6852"><span class="id" title="variable">eval_ptr_int_add</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_int_op"><span class="id" title="definition">eval_ptr_int_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_int_op"><span class="id" title="definition">eval_ptr_int_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Badd"><span class="id" title="constructor">Badd</span></a> (<span class="id" title="keyword">fun</span> <a id="x:178" class="idref" href="#x:178"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.operator.html#x:178"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="970ef288182233956ee831d06adc7ff5" class="idref" href="#970ef288182233956ee831d06adc7ff5"><span class="id" title="variable">eval_int_ptr_add</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_int_ptr_op"><span class="id" title="definition">eval_int_ptr_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_int_ptr_op"><span class="id" title="definition">eval_int_ptr_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Badd"><span class="id" title="constructor">Badd</span></a> (<span class="id" title="keyword">fun</span> <a id="x:181" class="idref" href="#x:181"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.operator.html#x:181"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
</div>

<div class="doc">
  lhs - rhs (https://eel.is/c++draft/expr.add2.3): lhs is a pointer to
  completely-defined object type
  (https://eel.is/c++draft/basic.typesgeneral-5), rhs has integral or
  unscoped enumeration type. In this case, the result type has the type of
  the pointer.
  Liveness note: as above (https://eel.is/c++draft/expr.add4).
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="c2ce3a81cfe32c07cc5a3a92ff8e90ea" class="idref" href="#c2ce3a81cfe32c07cc5a3a92ff8e90ea"><span class="id" title="variable">eval_ptr_int_sub</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">Unfold</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_int_op"><span class="id" title="definition">eval_ptr_int_op</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_ptr_int_op"><span class="id" title="definition">eval_ptr_int_op</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bsub"><span class="id" title="constructor">Bsub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ZArith.BinInt.html#Z.opp"><span class="id" title="definition">Z.opp</span></a>).<br/>

<br/>
</div>

<div class="doc">
  lhs - rhs (https://eel.is/c++draft/expr.add2.2): both lhs and rhs must be
  pointers to the same completely-defined object types
  (https://eel.is/c++draft/basic.typesgeneral-5).
  Liveness note: as above (https://eel.is/c++draft/expr.add5.2).
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="59b24e99d172555a413638ae86ec038b" class="idref" href="#59b24e99d172555a413638ae86ec038b"><span class="id" title="variable">eval_ptr_ptr_sub</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="w:186" class="idref" href="#w:186"><span class="id" title="binder">w</span></a> <a id="p1:187" class="idref" href="#p1:187"><span class="id" title="binder">p1</span></a> <a id="p2:188" class="idref" href="#p2:188"><span class="id" title="binder">p2</span></a> <a id="o1:189" class="idref" href="#o1:189"><span class="id" title="binder">o1</span></a> <a id="o2:190" class="idref" href="#o2:190"><span class="id" title="binder">o2</span></a> <a id="base:191" class="idref" href="#base:191"><span class="id" title="binder">base</span></a> <a id="ty:192" class="idref" href="#ty:192"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.types.html#size_of"><span class="id" title="definition">size_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#5cb38bbd72b208fd6307b5703a7862b6"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:192"><span class="id" title="variable">ty</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:187"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:191"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:192"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:189"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:188"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#base:191"><span class="id" title="variable">base</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#b9e497c99ddaa35509f86113be739391"><span class="id" title="notation">,,</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._sub"><span class="id" title="abbreviation">_sub</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:192"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o2:190"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Side&nbsp;condition&nbsp;to&nbsp;prevent&nbsp;overflow;&nbsp;needed&nbsp;per&nbsp;https://eel.is/c++draft/expr.addnote-1 *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vint"><span class="id" title="constructor">Vint</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:189"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o2:190"><span class="id" title="variable">o2</span></a>)) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#w:186"><span class="id" title="variable">w</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#Signed"><span class="id" title="constructor">Signed</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:187"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.valid_ptr"><span class="id" title="abbreviation">valid_ptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:188"><span class="id" title="variable">p2</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.operator.html#eval_binop_impure"><span class="id" title="axiom">eval_binop_impure</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#b7e09fc2860e68dfb067e4ca7c97c3ad"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Bsub"><span class="id" title="constructor">Bsub</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:192"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#ty:192"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#w:186"><span class="id" title="variable">w</span></a> <a class="idref" href="bedrock.lang.cpp.arith.types.html#Signed"><span class="id" title="constructor">Signed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p1:187"><span class="id" title="variable">p1</span></a>)     (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vptr"><span class="id" title="constructor">Vptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#p2:188"><span class="id" title="variable">p2</span></a>)     (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vint"><span class="id" title="constructor">Vint</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.operator.html#o1:189"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#o2:190"><span class="id" title="variable">o2</span></a>)).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.operator.html#106674b72acf13fb9e22a04f2639dc9f"><span class="id" title="section">with_Σ</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
