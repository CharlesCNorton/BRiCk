<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.call</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2023&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.proofmode.proofmode.html#"><span class="id" title="library">bedrock.lang.proofmode.proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.html#"><span class="id" title="library">bedrock.lang.cpp.syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.html#"><span class="id" title="library">bedrock.lang.cpp.semantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.pred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.path_pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.path_pred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#"><span class="id" title="library">bedrock.lang.cpp.logic.wp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.initializers.html#"><span class="id" title="library">bedrock.lang.cpp.logic.initializers</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bedrock.prelude.letstar</span>.<br/>

<br/>
<span class="comment">(*&nbsp;BEGIN&nbsp;UPSTREAM&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="big_opL_map" class="idref" href="#big_opL_map"><span class="id" title="lemma">big_opL_map</span></a> {<a id="PROP:1" class="idref" href="#PROP:1"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="T:2" class="idref" href="#T:2"><span class="id" title="binder">T</span></a> <a id="U:3" class="idref" href="#U:3"><span class="id" title="binder">U</span></a>} (<a id="g:4" class="idref" href="#g:4"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.call.html#U:3"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:2"><span class="id" title="variable">T</span></a>) <a id="ps:5" class="idref" href="#ps:5"><span class="id" title="binder">ps</span></a> (<a id="f:6" class="idref" href="#f:6"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:2"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#PROP:1"><span class="id" title="variable">PROP</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.big_op.html#big_opL"><span class="id" title="definition">big_opL</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_sep"><span class="id" title="projection">bi_sep</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#f:6"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#g:4"><span class="id" title="variable">g</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:5"><span class="id" title="variable">ps</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.big_op.html#big_opL"><span class="id" title="definition">big_opL</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_sep"><span class="id" title="projection">bi_sep</span></a> (<span class="id" title="keyword">fun</span> <a id="a:7" class="idref" href="#a:7"><span class="id" title="binder">a</span></a> <a id="b:8" class="idref" href="#b:8"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.call.html#f:6"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#a:7"><span class="id" title="variable">a</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.call.html#g:4"><span class="id" title="variable">g</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#b:8"><span class="id" title="variable">b</span></a>)) <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:5"><span class="id" title="variable">ps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ps</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHps</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_opL_all" class="idref" href="#big_opL_all"><span class="id" title="lemma">big_opL_all</span></a>  {<a id="PROP:9" class="idref" href="#PROP:9"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<a id="T:10" class="idref" href="#T:10"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="P:11" class="idref" href="#P:11"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:10"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#PROP:9"><span class="id" title="variable">PROP</span></a>) (<a id="ls:12" class="idref" href="#ls:12"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:10"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#bi_intuitionistically"><span class="id" title="definition">bi_intuitionistically</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#x:13"><span class="id" title="variable">x</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="x:14" class="idref" href="#x:14"><span class="id" title="binder"><span id="x:15" class="id">x</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:12"><span class="id" title="variable">ls</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#P:11"><span class="id" title="variable">P</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#x:14"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#H". <span class="id" title="var">iSplitL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> "H". <span class="id" title="var">iApply</span> <span class="id" title="var">IHls</span>. <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;END&nbsp;UPSTREAM&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="split_at" class="idref" href="#split_at"><span class="id" title="definition">split_at</span></a> {<a id="T:16" class="idref" href="#T:16"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} (<a id="n:17" class="idref" href="#n:17"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ls:18" class="idref" href="#ls:18"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:16"><span class="id" title="variable">T</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:16"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:16"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#n:17"><span class="id" title="variable">n</span></a> , <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:18"><span class="id" title="variable">ls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 , <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:18"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> , <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> , <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at:19"><span class="id" title="definition">split_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#n:17"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:18"><span class="id" title="variable">ls</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="split_at_firstn_skipn" class="idref" href="#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a> {<a id="T:22" class="idref" href="#T:22"><span class="id" title="binder">T</span></a>} (<a id="ls:23" class="idref" href="#ls:23"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#T:22"><span class="id" title="variable">T</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at"><span class="id" title="definition">split_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:23"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:23"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#n:24"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ls:23"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHls</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="check_arity" class="idref" href="#check_arity"><span class="id" title="definition">check_arity</span></a> (<a id="ts:25" class="idref" href="#ts:25"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a>) (<a id="ar:26" class="idref" href="#ar:26"><span class="id" title="binder">ar</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#function_arity"><span class="id" title="class">function_arity</span></a>) (<a id="es:27" class="idref" href="#es:27"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Arith.PeanoNat.html#Nat.compare"><span class="id" title="definition">Nat.compare</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts:25"><span class="id" title="variable">ts</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:27"><span class="id" title="variable">es</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.call.html#ar:26"><span class="id" title="variable">ar</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ar_Variadic"><span class="id" title="constructor">Ar_Variadic</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="setup_args" class="idref" href="#setup_args"><span class="id" title="definition">setup_args</span></a> (<a id="ts:28" class="idref" href="#ts:28"><span class="id" title="binder">ts</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a>) (<a id="ar:29" class="idref" href="#ar:29"><span class="id" title="binder">ar</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#function_arity"><span class="id" title="class">function_arity</span></a>) (<a id="es:30" class="idref" href="#es:30"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="normal_params:31" class="idref" href="#normal_params:31"><span class="id" title="binder">normal_params</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts:28"><span class="id" title="variable">ts</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="regular:32" class="idref" href="#regular:32"><span class="id" title="binder">regular</span></a>, <a id="variadic:33" class="idref" href="#variadic:33"><span class="id" title="binder">variadic</span></a>) := <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at"><span class="id" title="definition">split_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#normal_params:31"><span class="id" title="variable">normal_params</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:30"><span class="id" title="variable">es</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts:28"><span class="id" title="variable">ts</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#regular:32"><span class="id" title="variable">regular</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="e:34" class="idref" href="#e:34"><span class="id" title="binder">e</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:34"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:34"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.call.html#variadic:33"><span class="id" title="variable">variadic</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ar:29"><span class="id" title="variable">ar</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ar_Definite"><span class="id" title="constructor">Ar_Definite</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ar_Variadic"><span class="id" title="constructor">Ar_Variadic</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#normal_params:31"><span class="id" title="variable">normal_params</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  BEGIN destruction-of-function-arguments
  Destruction of function arguments is left implementation defined
  in C++. See &lt;https://eel.is/c++draft/expr.call6> which states:

  > It is implementation-defined whether the lifetime of a parameter
  > ends when the function in which it is defined returns or at the
  > end of the enclosing full-expression. The initialization and
  > destruction of each parameter occurs within the context of the
  > calling function.

  In the BRiCk semantics, we follow the Itanium ABI which destroys
  trivially destructible objects immediately and otherwise destroys
  objects at the end of the full expression. See
  <https://refspecs.linuxbase.org/cxxabi-1.83.htmlcall&gt;.
  END destruction-of-function-arguments
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="with_resolve" class="idref" href="#with_resolve"><span class="id" title="section">with_resolve</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="4f4c3e603884cda38b6fe1f374c41bc5" class="idref" href="#4f4c3e603884cda38b6fe1f374c41bc5"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="21453351f98a34e424b8bbde4f888936" class="idref" href="#21453351f98a34e424b8bbde4f888936"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="with_resolve.tu" class="idref" href="#with_resolve.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="55ab78e0e0f771618031e6461d3de9bd" class="idref" href="#55ab78e0e0f771618031e6461d3de9bd"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">wp_arg</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">K</span></span>&nbsp;evaluates&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;to&nbsp;initialize&nbsp;a&nbsp;parameter&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;does&nbsp;*not*&nbsp;add&nbsp;temporary&nbsp;destruction&nbsp;for&nbsp;trivially<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destructible&nbsp;types&nbsp;so&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;destroyed&nbsp;eagerly.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;This&nbsp;means&nbsp;that&nbsp;the&nbsp;order&nbsp;of&nbsp;construction&nbsp;and&nbsp;destruction&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;these&nbsp;trivial&nbsp;objects&nbsp;will&nbsp;not&nbsp;follow&nbsp;the&nbsp;stack&nbsp;discipline,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;since&nbsp;these&nbsp;destructors&nbsp;are&nbsp;trivial,&nbsp;the&nbsp;difference&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;observable.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wp_arg" class="idref" href="#wp_arg"><span class="id" title="definition">wp_arg</span></a> (<a id="ty:43" class="idref" href="#ty:43"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a>) <a id="e:44" class="idref" href="#e:44"><span class="id" title="binder">e</span></a> <a id="K:45" class="idref" href="#K:45"><span class="id" title="binder">K</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:46" class="idref" href="#p:46"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">letI</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">*</span></a> <a id="free:47" class="idref" href="#free:47"><span class="id" title="binder">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">:=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.initializers.html#wp_initialize"><span class="id" title="definition">wp_initialize</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#with_resolve.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#55ab78e0e0f771618031e6461d3de9bd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:43"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:44"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#K:45"><span class="id" title="variable">K</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:46"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#is_trivially_destructible"><span class="id" title="definition">is_trivially_destructible</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#with_resolve.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:43"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:47"><span class="id" title="variable">free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">FreeTemps.delete</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:43"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:47"><span class="id" title="variable">free</span></a>)%<span class="id" title="var">free</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg"><span class="id" title="definition">wp_arg</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> /.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_arg_frame" class="idref" href="#wp_arg_frame"><span class="id" title="lemma">wp_arg_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:48" class="idref" href="#ty:48"><span class="id" title="binder">ty</span></a> <a id="e:49" class="idref" href="#e:49"><span class="id" title="binder">e</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#f1a151eebacb9a9cc36d0d7b80ad978a"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">wp.WPE.Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg"><span class="id" title="definition">wp_arg</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:48"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:49"><span class="id" title="variable">e</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg"><span class="id" title="definition">wp_arg</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:48"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:49"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">wp.WPE.Mframe</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "X Y %p".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">p</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "Y".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.initializers.html#wp_initialize_frame"><span class="id" title="lemma">wp_initialize_frame</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="early_destroy" class="idref" href="#early_destroy"><span class="id" title="definition">early_destroy</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">FreeTemps.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">(</span></a><a id="ty:51" class="idref" href="#ty:51"><span class="id" title="binder"><span id="pat:52" class="id">ty</span></span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">,</span></a> <a id="p:50" class="idref" href="#p:50"><span class="id" title="binder"><span id="pat:52" class="id">p</span></span></a><a id="pat:52" class="idref" href="#pat:52"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#is_trivially_destructible"><span class="id" title="definition">is_trivially_destructible</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#with_resolve.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:51"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">FreeTemps.delete</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:51"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:50"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>

<br/>
</div>

<div class="doc">
     <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.wp_args"><span class="id" title="abbreviation">wp_args</span></a></span> <span class="inlinecode"><span class="id" title="var">eo</span></span> <span class="inlinecode"><span class="id" title="var">pre</span></span> <span class="inlinecode"><span class="id" title="var">ts_ar</span></span> <span class="inlinecode"><span class="id" title="var">es</span></span> evaluates <span class="inlinecode"><span class="id" title="var">pre</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">es</span></span> according to the evaluation order <span class="inlinecode"><span class="id" title="var">eo</span></span>.
     The expressions in <span class="inlinecode"><span class="id" title="var">es</span></span> are evaluated using initialization semantics for the argument types
     described in <span class="inlinecode"><span class="id" title="var">ts_ar</span></span> (including handling for variadic functions). The arguments to <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#example.Q"><span class="id" title="variable">Q</span></a></span> are:
     1. the result of evaluating <span class="inlinecode"><span class="id" title="var">pre</span></span>
     2. the result of evaluating <span class="inlinecode"><span class="id" title="var">es</span></span>
     3. the immediate destructions, i.e. the object destructions that should occur immediately
        after the function returns.
     4. the delayed destructions, i.e. the destructionst that should occur at the end of the
        full expression. The <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a></span> accounts for the correct destruction order.

<div class="paragraph"> </div>

     Unlike <span class="inlinecode"><span class="id" title="var">es</span></span>, <span class="inlinecode"><span class="id" title="var">pre</span></span> is expressed directly as a semantic computation in order to unify the
     different ways that it can be used, e.g. to evaluate the object in <span class="inlinecode"><span class="id" title="var">o.f</span>()</span> (which is evaluated
     as a gl-value) or to evaluate the function in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#with_lang.as_ref'.f"><span class="id" title="variable">f</span></a>()</span> (which is evaluated as a pointer-typed operand).
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="wp_args" class="idref" href="#wp_args"><span class="id" title="definition">wp_args</span></a> (<a id="eo:53" class="idref" href="#eo:53"><span class="id" title="binder">eo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.t"><span class="id" title="inductive">evaluation_order.t</span></a>) (<a id="pre:54" class="idref" href="#pre:54"><span class="id" title="binder">pre</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">wp.WPE.M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ts_ar:55" class="idref" href="#ts_ar:55"><span class="id" title="binder">ts_ar</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#function_arity"><span class="id" title="class">function_arity</span></a>) (<a id="es:56" class="idref" href="#es:56"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Q:57" class="idref" href="#Q:57"><span class="id" title="binder">Q</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">ar</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:55"><span class="id" title="variable">ts_ar</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#check_arity"><span class="id" title="definition">check_arity</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">ar</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:56"><span class="id" title="variable">es</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tes</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va_info</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.call.html#setup_args"><span class="id" title="definition">setup_args</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">ar</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:56"><span class="id" title="variable">es</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">letI</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">*</span></a> <a id="ps:59" class="idref" href="#ps:59"><span class="id" title="binder">ps</span></a>, <a id="fs:60" class="idref" href="#fs:60"><span class="id" title="binder">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">:=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#eo:53"><span class="id" title="variable">eo</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.call.html#pre:54"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:75" class="idref" href="#pat:75"><span class="id" title="binder">(</span></a><a id="t:74" class="idref" href="#t:74"><span class="id" title="binder"><span id="pat:75" class="id">t</span></span></a><a id="pat:75" class="idref" href="#pat:75"><span class="id" title="binder">,</span></a> <a id="e:73" class="idref" href="#e:73"><span class="id" title="binder"><span id="pat:75" class="id">e</span></span></a><a id="pat:75" class="idref" href="#pat:75"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg"><span class="id" title="definition">wp_arg</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#t:74"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#e:73"><span class="id" title="variable">e</span></a>) <span class="id" title="var">tes</span>) <a class="idref" href="bedrock.lang.bi.prelude.html#c221b9dad79b2807ca5890fdbaa6e59d"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="pre:61" class="idref" href="#pre:61"><span class="id" title="binder">pre</span></a>, <a id="ps:62" class="idref" href="#ps:62"><span class="id" title="binder">ps</span></a>) := <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at"><span class="id" title="definition">split_at</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pre:54"><span class="id" title="variable">pre</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:59"><span class="id" title="variable">ps</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="early_destroy:66" class="idref" href="#early_destroy:66"><span class="id" title="binder">early_destroy</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqs_rev"><span class="id" title="definition">FreeTemps.seqs_rev</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#early_destroy"><span class="id" title="definition">early_destroy</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip_with"><span class="id" title="definition">zip_with</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">(</span></a><a id="ty:63" class="idref" href="#ty:63"><span class="id" title="binder"><span id="pat:64" class="id">ty</span></span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">,</span></a> <a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">_</span></a><a id="pat:64" class="idref" href="#pat:64"><span class="id" title="binder">)</span></a> <a id="p:65" class="idref" href="#p:65"><span class="id" title="binder">p</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:63"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:65"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">tes</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:62"><span class="id" title="variable">ps</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">va_info</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">non_va</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="real:68" class="idref" href="#real:68"><span class="id" title="binder">real</span></a>, <a id="vargs:69" class="idref" href="#vargs:69"><span class="id" title="binder">vargs</span></a>) := <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at"><span class="id" title="definition">split_at</span></a> <span class="id" title="var">non_va</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:62"><span class="id" title="variable">ps</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="types:70" class="idref" href="#types:70"><span class="id" title="binder">types</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <span class="id" title="var">non_va</span> <span class="id" title="var">tes</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="va_info:71" class="idref" href="#va_info:71"><span class="id" title="binder">va_info</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#types:70"><span class="id" title="variable">types</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vargs:69"><span class="id" title="variable">vargs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:72" class="idref" href="#p:72"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:72"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#varargsR"><span class="id" title="axiom">varargsR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#va_info:71"><span class="id" title="variable">va_info</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:57"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pre:61"><span class="id" title="variable">pre</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.call.html#real:68"><span class="id" title="variable">real</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.call.html#p:72"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete_va"><span class="id" title="constructor">FreeTemps.delete_va</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#va_info:71"><span class="id" title="variable">va_info</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:72"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#early_destroy:66"><span class="id" title="variable">early_destroy</span></a>)%<span class="id" title="var">free</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#fs:60"><span class="id" title="variable">fs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:57"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pre:61"><span class="id" title="variable">pre</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:62"><span class="id" title="variable">ps</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#early_destroy:66"><span class="id" title="variable">early_destroy</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#fs:60"><span class="id" title="variable">fs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_args_frame_strong" class="idref" href="#wp_args_frame_strong"><span class="id" title="lemma">wp_args_frame_strong</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="eo:76" class="idref" href="#eo:76"><span class="id" title="binder">eo</span></a> <a id="pres:77" class="idref" href="#pres:77"><span class="id" title="binder">pres</span></a> <a id="ts_ar:78" class="idref" href="#ts_ar:78"><span class="id" title="binder">ts_ar</span></a> <a id="es:79" class="idref" href="#es:79"><span class="id" title="binder">es</span></a> <a id="Q:80" class="idref" href="#Q:80"><span class="id" title="binder">Q</span></a> <a id="Q':81" class="idref" href="#Q':81"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:82" class="idref" href="#m:82"><span class="id" title="binder"><span id="m:83" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:77"><span class="id" title="variable">pres</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">wp.WPE.Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#m:82"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#m:82"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="ps:84" class="idref" href="#ps:84"><span class="id" title="binder">ps</span></a> <a id="vs:85" class="idref" href="#vs:85"><span class="id" title="binder">vs</span></a> <a id="ifree:86" class="idref" href="#ifree:86"><span class="id" title="binder">ifree</span></a> <a id="free:87" class="idref" href="#free:87"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:84"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:77"><span class="id" title="variable">pres</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:78"><span class="id" title="variable">ts_ar</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Ar_Variadic"><span class="id" title="constructor">Ar_Variadic</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:85"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:78"><span class="id" title="variable">ts_ar</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:85"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:79"><span class="id" title="variable">es</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:80"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:84"><span class="id" title="variable">ps</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:85"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ifree:86"><span class="id" title="variable">ifree</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:87"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':81"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:84"><span class="id" title="variable">ps</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:85"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ifree:86"><span class="id" title="variable">ifree</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:87"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args"><span class="id" title="definition">wp_args</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#eo:76"><span class="id" title="variable">eo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:77"><span class="id" title="variable">pres</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:78"><span class="id" title="variable">ts_ar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:79"><span class="id" title="variable">es</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:80"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args"><span class="id" title="definition">wp_args</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#eo:76"><span class="id" title="variable">eo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:77"><span class="id" title="variable">pres</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:78"><span class="id" title="variable">ts_ar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:79"><span class="id" title="variable">es</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':81"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "PRS X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args"><span class="id" title="definition">wp_args</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ts_ar</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.call.html#check_arity"><span class="id" title="definition">check_arity</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.call.html#setup_args"><span class="id" title="definition">setup_args</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Arith.PeanoNat.html#Nat.compare_spec"><span class="id" title="lemma">Nat.compare_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.eval_frame_strong"><span class="id" title="lemma">eval_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[PRS]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#big_opL_map"><span class="id" title="lemma">big_opL_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#big_opL_all"><span class="id" title="lemma">big_opL_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">te</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">te</span>; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg_frame"><span class="id" title="lemma">wp_arg_frame</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> (??) "%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_combine"><span class="id" title="lemma">length_combine</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "X"; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H" (<span class="id" title="var">p</span>) "V".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "V"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "H". <span class="id" title="var">iApply</span> "X"; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a> /=. <span class="id" title="var">lia</span>. } } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_bool_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.eval_frame_strong"><span class="id" title="lemma">eval_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[PRS]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#big_opL_map"><span class="id" title="lemma">big_opL_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#big_opL_all"><span class="id" title="lemma">big_opL_all</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">te</span>); <span class="id" title="tactic">destruct</span> <span class="id" title="var">te</span>; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_arg_frame"><span class="id" title="lemma">wp_arg_frame</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?? <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.call.html#split_at_firstn_skipn"><span class="id" title="lemma">split_at_firstn_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H" (?) "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "A"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_map"><span class="id" title="lemma">length_map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_combine"><span class="id" title="lemma">length_combine</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "H"; <span class="id" title="var">iApply</span> "X"; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_firstn"><span class="id" title="lemma">length_firstn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a> /=. <span class="id" title="var">lia</span>. } }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="wp_args_frame" class="idref" href="#wp_args_frame"><span class="id" title="lemma">wp_args_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="eo:88" class="idref" href="#eo:88"><span class="id" title="binder">eo</span></a> <a id="pres:89" class="idref" href="#pres:89"><span class="id" title="binder">pres</span></a> <a id="ts_ar:90" class="idref" href="#ts_ar:90"><span class="id" title="binder">ts_ar</span></a> <a id="es:91" class="idref" href="#es:91"><span class="id" title="binder">es</span></a> <a id="Q:92" class="idref" href="#Q:92"><span class="id" title="binder">Q</span></a> <a id="Q':93" class="idref" href="#Q':93"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:94" class="idref" href="#m:94"><span class="id" title="binder"><span id="m:95" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:89"><span class="id" title="variable">pres</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">wp.WPE.Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#m:94"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#m:94"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="ps:96" class="idref" href="#ps:96"><span class="id" title="binder">ps</span></a> <a id="vs:97" class="idref" href="#vs:97"><span class="id" title="binder">vs</span></a> <a id="ifree:98" class="idref" href="#ifree:98"><span class="id" title="binder">ifree</span></a> <a id="free:99" class="idref" href="#free:99"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:92"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:96"><span class="id" title="variable">ps</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:97"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ifree:98"><span class="id" title="variable">ifree</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:99"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':93"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ps:96"><span class="id" title="variable">ps</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#vs:97"><span class="id" title="variable">vs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ifree:98"><span class="id" title="variable">ifree</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#free:99"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args"><span class="id" title="definition">wp_args</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#eo:88"><span class="id" title="variable">eo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:89"><span class="id" title="variable">pres</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:90"><span class="id" title="variable">ts_ar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:91"><span class="id" title="variable">es</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:92"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args"><span class="id" title="definition">wp_args</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#eo:88"><span class="id" title="variable">eo</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#pres:89"><span class="id" title="variable">pres</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ts_ar:90"><span class="id" title="variable">ts_ar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#es:91"><span class="id" title="variable">es</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':93"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">iIntros</span> "X Y".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.call.html#wp_args_frame_strong"><span class="id" title="lemma">wp_args_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "X"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??????); <span class="id" title="var">iApply</span> "Y".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#with_resolve"><span class="id" title="section">with_resolve</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
The&nbsp;following&nbsp;definitions&nbsp;describe&nbsp;the&nbsp;"return"-convention.<br/>
Specifically,&nbsp;they&nbsp;describe&nbsp;how&nbsp;the&nbsp;returned&nbsp;pointer&nbsp;is&nbsp;received&nbsp;into<br/>
the&nbsp;value&nbsp;category&nbsp;that&nbsp;it&nbsp;is&nbsp;called&nbsp;with.<br/>
<br/>
We&nbsp;consolidate&nbsp;these&nbsp;definitions&nbsp;here&nbsp;because&nbsp;they&nbsp;are&nbsp;shared&nbsp;between<br/>
all&nbsp;function&nbsp;calls.<br/>
*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="xval_receive" class="idref" href="#xval_receive"><span class="id" title="definition">xval_receive</span></a> `{<a id="ab1e0b0f726a60ee3c2011f894309cd3" class="idref" href="#ab1e0b0f726a60ee3c2011f894309cd3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="7ebcfa9c1e384da68c82f37dc2702491" class="idref" href="#7ebcfa9c1e384da68c82f37dc2702491"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ty:104" class="idref" href="#ty:104"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#exprtype"><span class="id" title="abbreviation">exprtype</span></a>) (<a id="res:105" class="idref" href="#res:105"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="Q:106" class="idref" href="#Q:106"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#primR"><span class="id" title="module">primR</span></a></span> is enough because C++ code never uses the raw bytes
  underlying an inhabitant of a reference type.
  
</div>
<div class="code">
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="p:107" class="idref" href="#p:107"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:105"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="abbreviation">primR</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:104"><span class="id" title="variable">ty</span></a>)) (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:107"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:106"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:107"><span class="id" title="variable">p</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#xval_receive"><span class="id" title="definition">xval_receive</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lval_receive" class="idref" href="#lval_receive"><span class="id" title="definition">lval_receive</span></a> `{<a id="34ae1c9c84b00c7df18c2fc2612b37e3" class="idref" href="#34ae1c9c84b00c7df18c2fc2612b37e3"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="3a096cfaa7426fa23199dac48ecadbe2" class="idref" href="#3a096cfaa7426fa23199dac48ecadbe2"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ty:112" class="idref" href="#ty:112"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#exprtype"><span class="id" title="abbreviation">exprtype</span></a>) (<a id="res:113" class="idref" href="#res:113"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="Q:114" class="idref" href="#Q:114"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#primR"><span class="id" title="module">primR</span></a></span> is enough because C++ code never uses the raw bytes
  underlying an inhabitant of a reference type.
  
</div>
<div class="code">
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="p:115" class="idref" href="#p:115"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:113"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="abbreviation">primR</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#erase_qualifiers"><span class="id" title="definition">erase_qualifiers</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:112"><span class="id" title="variable">ty</span></a>)) (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vref"><span class="id" title="abbreviation">Vref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:115"><span class="id" title="variable">p</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:114"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#p:115"><span class="id" title="variable">p</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#lval_receive"><span class="id" title="definition">lval_receive</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">mlock</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">Definition</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">operand_receive</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">`{</span></span></span></span></span></span></span></a><a id="e45305f10276415d21877ab43bec03cf" class="idref" href="#e45305f10276415d21877ab43bec03cf"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">Σ</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cpp_logic</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">,</span></span></span></span></span></span></span></a> <a id="1b464494a25fb0e1888fce4a22fd58ae" class="idref" href="#1b464494a25fb0e1888fce4a22fd58ae"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">σ</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">genv</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">}</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="ty:120" class="idref" href="#ty:120"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">ty</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">exprtype</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="res:121" class="idref" href="#res:121"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">res</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">ptr</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="Q:122" class="idref" href="#Q:122"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">Q</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">val</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">-&gt;</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">epred</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">mpred</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">Exists</span></span></span></span></span></span></span></a> <a id="v:123" class="idref" href="#v:123"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">v</span></span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">,</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">let</span></span></span></span></span></span></span></a> <a id="cv:125" class="idref" href="#cv:125"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cv</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">:=</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">qual_norm</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">fun</span></span></span></span></span></span></span></a> <a id="cv:124" class="idref" href="#cv:124"><span class="id" title="axiom, binder, definition, module"><span id="operand_receive_Locked" class="id"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cv</span></span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">_</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">=&gt;</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cv</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">ty</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">in</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">res</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">|-&gt;</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">tptsto_fuzzyR</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">erase_qualifiers</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">ty</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cQp.mk</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">(</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">q_const</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">cv</span></span></span></span></span></span></span></a><a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">1)</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">v</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">**</span></span></span></span></span></span></span></a><br/>
&nbsp;&nbsp;<a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">Q</span></span></span></span></span></span></span></a> <a id="operand_receive_Locked" class="idref" href="#operand_receive_Locked"><span class="id" title="axiom, definition, module"><span id="operand_receive_Locked.body" class="id"><span id="operand_receive_Locked.unlock" class="id"><span id="operand_receive" class="id"><span id="operand_receive.body" class="id"><span id="operand_receive.unlock" class="id"><span id="operand_receive_unlock_subterm" class="id">v</span></span></span></span></span></span></span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#body"><span class="id" title="axiom">operand_receive</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="tactic">assert</span>. <span class="comment">(*&nbsp;mlock&nbsp;bug&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="init_receive" class="idref" href="#init_receive"><span class="id" title="definition">init_receive</span></a> `{<a id="ad4a3b2d31090031b38b45a91aa8372b" class="idref" href="#ad4a3b2d31090031b38b45a91aa8372b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="e30ff2d40e6394a3aa7ed11d643e9d5b" class="idref" href="#e30ff2d40e6394a3aa7ed11d643e9d5b"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="addr:137" class="idref" href="#addr:137"><span class="id" title="binder">addr</span></a> <a id="res:138" class="idref" href="#res:138"><span class="id" title="binder">res</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="Q:139" class="idref" href="#Q:139"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#addr:137"><span class="id" title="variable">addr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:138"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:139"><span class="id" title="variable">Q</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#init_receive"><span class="id" title="definition">init_receive</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="receive" class="idref" href="#receive"><span class="id" title="section">receive</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="0e354d048e2bebc0cd0106e4ba308cb0" class="idref" href="#0e354d048e2bebc0cd0106e4ba308cb0"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="ab07bb832dc4e4e807aea55ef17997d1" class="idref" href="#ab07bb832dc4e4e807aea55ef17997d1"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="xval_receive_frame" class="idref" href="#xval_receive_frame"><span class="id" title="lemma">xval_receive_frame</span></a> <a id="ty:144" class="idref" href="#ty:144"><span class="id" title="binder">ty</span></a> <a id="res:145" class="idref" href="#res:145"><span class="id" title="binder">res</span></a> (<a id="Q:146" class="idref" href="#Q:146"><span class="id" title="binder">Q</span></a> <a id="Q':147" class="idref" href="#Q':147"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:148" class="idref" href="#v:148"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:146"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:148"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':147"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:148"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#xval_receive"><span class="id" title="definition">xval_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:144"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:145"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:146"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#xval_receive"><span class="id" title="definition">xval_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:144"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:145"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':147"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.call.html#xval_receive"><span class="id" title="definition">xval_receive</span></a>. <span class="id" title="var">iIntros</span> "X Y"; <span class="id" title="var">iDestruct</span> "Y" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[? ?]"; <span class="id" title="var">iExists</span> <span class="id" title="var">x</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lval_receive_frame" class="idref" href="#lval_receive_frame"><span class="id" title="lemma">lval_receive_frame</span></a> <a id="ty:149" class="idref" href="#ty:149"><span class="id" title="binder">ty</span></a> <a id="res:150" class="idref" href="#res:150"><span class="id" title="binder">res</span></a> (<a id="Q:151" class="idref" href="#Q:151"><span class="id" title="binder">Q</span></a> <a id="Q':152" class="idref" href="#Q':152"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:153" class="idref" href="#v:153"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:151"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:153"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':152"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:153"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#lval_receive"><span class="id" title="definition">lval_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:149"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:150"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:151"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#lval_receive"><span class="id" title="definition">lval_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:149"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:150"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':152"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.call.html#lval_receive"><span class="id" title="definition">lval_receive</span></a>. <span class="id" title="var">iIntros</span> "X Y"; <span class="id" title="var">iDestruct</span> "Y" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[? ?]"; <span class="id" title="var">iExists</span> <span class="id" title="var">x</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="operand_receive_frame" class="idref" href="#operand_receive_frame"><span class="id" title="lemma">operand_receive_frame</span></a> <a id="ty:154" class="idref" href="#ty:154"><span class="id" title="binder">ty</span></a> <a id="res:155" class="idref" href="#res:155"><span class="id" title="binder">res</span></a> (<a id="Q:156" class="idref" href="#Q:156"><span class="id" title="binder">Q</span></a> <a id="Q':157" class="idref" href="#Q':157"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:158" class="idref" href="#v:158"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:156"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:158"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':157"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#v:158"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#operand_receive"><span class="id" title="abbreviation">operand_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:154"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:155"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:156"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#operand_receive"><span class="id" title="abbreviation">operand_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#ty:154"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:155"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':157"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#unlock"><span class="id" title="axiom">operand_receive.unlock</span></a>. <span class="id" title="var">iIntros</span> "X Y"; <span class="id" title="var">iDestruct</span> "Y" <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span>) "[? ?]"; <span class="id" title="var">iExists</span> <span class="id" title="var">x</span>; <span class="id" title="var">iFrame</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="init_receive_frame" class="idref" href="#init_receive_frame"><span class="id" title="lemma">init_receive_frame</span></a> <a id="addr:159" class="idref" href="#addr:159"><span class="id" title="binder">addr</span></a> <a id="res:160" class="idref" href="#res:160"><span class="id" title="binder">res</span></a> (<a id="Q:161" class="idref" href="#Q:161"><span class="id" title="binder">Q</span></a> <a id="Q':162" class="idref" href="#Q':162"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:161"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':162"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#init_receive"><span class="id" title="definition">init_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#addr:159"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:160"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q:161"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#init_receive"><span class="id" title="definition">init_receive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#addr:159"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#res:160"><span class="id" title="variable">res</span></a> <a class="idref" href="bedrock.lang.cpp.logic.call.html#Q':162"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.call.html#init_receive"><span class="id" title="definition">init_receive</span></a>. <span class="id" title="var">iIntros</span> "X Y Z"; <span class="id" title="var">iApply</span> "X"; <span class="id" title="var">iApply</span> "Y"; <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.call.html#receive"><span class="id" title="section">receive</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
