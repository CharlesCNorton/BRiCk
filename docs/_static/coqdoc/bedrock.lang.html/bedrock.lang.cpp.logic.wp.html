<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.wp</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2024&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
Definitions for the semantics
 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">bedrock.prelude.base</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="library">stdpp.coPset</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#"><span class="id" title="library">iris.bi.monpred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.proofmode.proofmode.html#"><span class="id" title="library">bedrock.lang.proofmode.proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#"><span class="id" title="library">iris.proofmode.classes</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.syntax.html#"><span class="id" title="library">bedrock.lang.cpp.syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.semantics.html#"><span class="id" title="library">bedrock.lang.cpp.semantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.pred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#"><span class="id" title="library">bedrock.lang.cpp.logic.translation_unit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.errors.html#"><span class="id" title="library">bedrock.lang.bi.errors</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="comment">(*&nbsp;expression&nbsp;continuations<br/>
&nbsp;*&nbsp;-&nbsp;in&nbsp;full&nbsp;C++,&nbsp;this&nbsp;includes&nbsp;exceptions,&nbsp;but&nbsp;our&nbsp;current&nbsp;semantics<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;doesn't&nbsp;treat&nbsp;those.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="epred" class="idref" href="#epred"><span class="id" title="definition">epred</span></a> `{<a id="H:3" class="idref" href="#H:3"><span class="id" title="binder">cpp_logic</span></a>} := <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="epredO" class="idref" href="#epredO"><span class="id" title="abbreviation">epredO</span></a> := <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpredO"><span class="id" title="definition">mpredO</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">bi_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">epred</span>.<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">free</span>.<br/>
<span class="id" title="keyword">Reserved Infix</span> &quot;|*|" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30).<br/>
<span class="id" title="keyword">Reserved Infix</span> &quot;&gt;*&gt;" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;FreeTemps.t&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t" class="idref" href="#FreeTemps.t"><span class="id" title="definition, inductive"><span id="FreeTemps.t_rect" class="id"><span id="FreeTemps.t_ind" class="id"><span id="FreeTemps.t_rec" class="id"><span id="FreeTemps.t_sind" class="id">t</span></span></span></span></span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.id" class="idref" href="#FreeTemps.id"><span class="id" title="constructor">id</span></a> <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete" class="idref" href="#FreeTemps.delete"><span class="id" title="constructor">delete</span></a> (<a id="ty:6" class="idref" href="#ty:6"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a>) (<a id="p:7" class="idref" href="#p:7"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <span class="comment">(*&nbsp;=&nbsp;delete_val&nbsp;ty&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^^&nbsp;this&nbsp;type&nbsp;has&nbsp;qualifiers&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;a&nbsp;runtime&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete_va" class="idref" href="#FreeTemps.delete_va"><span class="id" title="constructor">delete_va</span></a> (<a id="va:8" class="idref" href="#va:8"><span class="id" title="binder">va</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)) (<a id="p:9" class="idref" href="#p:9"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq" class="idref" href="#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> (<a id="f:10" class="idref" href="#f:10"><span class="id" title="binder">f</span></a> <a id="g:11" class="idref" href="#g:11"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:4"><span class="id" title="inductive">t</span></a>) <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;f&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par" class="idref" href="#FreeTemps.par"><span class="id" title="constructor">par</span></a> (<a id="f:12" class="idref" href="#f:12"><span class="id" title="binder">f</span></a> <a id="g:13" class="idref" href="#g:13"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:4"><span class="id" title="inductive">t</span></a>) <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;Exists&nbsp;Qf&nbsp;Qg,&nbsp;f&nbsp;Qf&nbsp;**&nbsp;g&nbsp;Qg&nbsp;**&nbsp;(Qf&nbsp;-*&nbsp;Qg&nbsp;-*&nbsp;x)&nbsp;*)</span><br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;FreeTemps.t&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <a id="FreeTemps.notations" class="idref" href="#FreeTemps.notations"><span class="id" title="module">notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="FreeTemps.notations.::free_scope:'1'" class="idref" href="#FreeTemps.notations.::free_scope:'1'"><span class="id" title="notation">&quot;</span></a>1" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> : <span class="id" title="var">free_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="3661e58f765c638206576597ccc57486" class="idref" href="#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&quot;</span></a>&gt;*&gt;" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> : <span class="id" title="var">free_scope</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="185d3ade71f962ba979a15b86bd37653" class="idref" href="#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">&quot;</span></a>|*|" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> : <span class="id" title="var">free_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.notations"><span class="id" title="module">notations</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">free_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t_equiv" class="idref" href="#FreeTemps.t_equiv"><span class="id" title="definition, inductive"><span id="FreeTemps.t_equiv_ind" class="id"><span id="FreeTemps.t_equiv_sind" class="id">t_equiv</span></span></span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.refl" class="idref" href="#FreeTemps.refl"><span class="id" title="constructor">refl</span></a> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:16"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.sym" class="idref" href="#FreeTemps.sym"><span class="id" title="constructor">sym</span></a> <a id="l:17" class="idref" href="#l:17"><span class="id" title="binder">l</span></a> <a id="r:18" class="idref" href="#r:18"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:17"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:18"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:18"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:17"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.trans" class="idref" href="#FreeTemps.trans"><span class="id" title="constructor">trans</span></a> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> <a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a> <a id="c:21" class="idref" href="#c:21"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:21"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:21"><span class="id" title="variable">c</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete_ref" class="idref" href="#FreeTemps.delete_ref"><span class="id" title="constructor">delete_ref</span></a> <a id="ty:22" class="idref" href="#ty:22"><span class="id" title="binder">ty</span></a> <a id="p:23" class="idref" href="#p:23"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">delete</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:22"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:23"><span class="id" title="variable">p</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">delete</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:22"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:23"><span class="id" title="variable">p</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seqA" class="idref" href="#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a> <a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a> <a id="y:25" class="idref" href="#y:25"><span class="id" title="binder">y</span></a> <a id="z:26" class="idref" href="#z:26"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:24"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:25"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:26"><span class="id" title="variable">z</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:24"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:25"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:26"><span class="id" title="variable">z</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitL" class="idref" href="#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> : 1 <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitR" class="idref" href="#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a> <a id="l:28" class="idref" href="#l:28"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:28"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> 1 <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:28"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_proper_" class="idref" href="#FreeTemps.seq_proper_"><span class="id" title="constructor">seq_proper_</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> {<a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a> <a id="b:30" class="idref" href="#b:30"><span class="id" title="binder">b</span></a>}<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> {<a id="c:31" class="idref" href="#c:31"><span class="id" title="binder">c</span></a> <a id="d:32" class="idref" href="#d:32"><span class="id" title="binder">d</span></a>}<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:32"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:32"><span class="id" title="variable">d</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.parC" class="idref" href="#FreeTemps.parC"><span class="id" title="constructor">parC</span></a> <a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a> <a id="r:34" class="idref" href="#r:34"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:34"><span class="id" title="variable">r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:34"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:33"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.parA" class="idref" href="#FreeTemps.parA"><span class="id" title="constructor">parA</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a id="y:36" class="idref" href="#y:36"><span class="id" title="binder">y</span></a> <a id="z:37" class="idref" href="#z:37"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:36"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:37"><span class="id" title="variable">z</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:36"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:37"><span class="id" title="variable">z</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_id_unitL" class="idref" href="#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a> <a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a> : 1 <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:38"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:38"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_proper_" class="idref" href="#FreeTemps.par_proper_"><span class="id" title="constructor">par_proper_</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> {<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="b:40" class="idref" href="#b:40"><span class="id" title="binder">b</span></a>}<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:40"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> {<a id="c:41" class="idref" href="#c:41"><span class="id" title="binder">c</span></a> <a id="d:42" class="idref" href="#d:42"><span class="id" title="binder">d</span></a>}<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:41"><span class="id" title="variable">c</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:42"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:41"><span class="id" title="variable">c</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:40"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:42"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="FreeTemps.t_eq" class="idref" href="#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_equiv"><span class="id" title="inductive">t_equiv</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.t_equivalence" class="idref" href="#FreeTemps.t_equivalence"><span class="id" title="instance">t_equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.RelationClasses.html#Build_Equivalence"><span class="id" title="constructor">Build_Equivalence</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.refl"><span class="id" title="constructor">refl</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.sym"><span class="id" title="constructor">sym</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.trans"><span class="id" title="constructor">trans</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.seq_assoc" class="idref" href="#FreeTemps.seq_assoc"><span class="id" title="instance">seq_assoc</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.seq_left_id" class="idref" href="#FreeTemps.seq_left_id"><span class="id" title="instance">seq_left_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.seq_right_id" class="idref" href="#FreeTemps.seq_right_id"><span class="id" title="instance">seq_right_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.seq_proper" class="idref" href="#FreeTemps.seq_proper"><span class="id" title="instance">seq_proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> := @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_proper_"><span class="id" title="constructor">seq_proper_</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.par_comm" class="idref" href="#FreeTemps.par_comm"><span class="id" title="instance">par_comm</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.parC"><span class="id" title="constructor">parC</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.par_left_id" class="idref" href="#FreeTemps.par_left_id"><span class="id" title="instance">par_left_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.par_right_id" class="idref" href="#FreeTemps.par_right_id"><span class="id" title="instance">par_right_id</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.par_proper" class="idref" href="#FreeTemps.par_proper"><span class="id" title="instance">par_proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">t_eq</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> := @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_proper_"><span class="id" title="constructor">par_proper_</span></a>.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.pars"><span class="id" title="definition">pars</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction of each
  element in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> *in non-deterministic order*.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.pars" class="idref" href="#FreeTemps.pars"><span class="id" title="definition">pars</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> 1.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs"><span class="id" title="definition">seqs</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction of each
  element in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> sequentially from left-to-right, i.e. the first
  element in the list is run first.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqs" class="idref" href="#FreeTemps.seqs"><span class="id" title="definition">seqs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> 1.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqs_rev"><span class="id" title="definition">seqs_rev</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction of each
  element in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a></span> sequentially from right-to-left, i.e. the first
  element in the list is destructed last.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqs_rev" class="idref" href="#FreeTemps.seqs_rev"><span class="id" title="definition">seqs_rev</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> <a id="b:44" class="idref" href="#b:44"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:43"><span class="id" title="variable">a</span></a>) 1.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.notations"><span class="id" title="module">FreeTemps.notations</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemp" class="idref" href="#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="comment">(*&nbsp;continuations<br/>
&nbsp;*&nbsp;C++&nbsp;statements&nbsp;can&nbsp;terminate&nbsp;in&nbsp;4&nbsp;ways.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;note(gmm):&nbsp;technically,&nbsp;they&nbsp;can&nbsp;also&nbsp;raise&nbsp;exceptions;&nbsp;however,<br/>
&nbsp;*&nbsp;our&nbsp;current&nbsp;semantics&nbsp;doesn't&nbsp;capture&nbsp;this.&nbsp;if&nbsp;we&nbsp;want&nbsp;to&nbsp;support<br/>
&nbsp;*&nbsp;exceptions,&nbsp;we&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;another&nbsp;case,<br/>
&nbsp;*&nbsp;`k_throw&nbsp;:&nbsp;val&nbsp;-&gt;&nbsp;mpred`.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Variant</span> <a id="ReturnType" class="idref" href="#ReturnType"><span class="id" title="inductive">ReturnType</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Normal" class="idref" href="#Normal"><span class="id" title="constructor">Normal</span></a><br/>
| <a id="Break" class="idref" href="#Break"><span class="id" title="constructor">Break</span></a><br/>
| <a id="Continue" class="idref" href="#Continue"><span class="id" title="constructor">Continue</span></a><br/>
| <a id="ReturnVal" class="idref" href="#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)<br/>
| <a id="ReturnVoid" class="idref" href="#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a><br/>
.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="ReturnType_ihn" class="idref" href="#ReturnType_ihn"><span class="id" title="instance">ReturnType_ihn</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="rt_biIndex" class="idref" href="#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#biIndex"><span class="id" title="class">biIndex</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_type"><span class="id" title="projection">bi_index_type</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><br/>
&nbsp;&nbsp;&nbsp;; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_rel"><span class="id" title="projection">bi_index_rel</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><br/>
&nbsp;&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">Definition</span> <a id="KpredI" class="idref" href="#KpredI"><span class="id" title="definition">KpredI</span></a> `{<a id="cpp_logic0:49" class="idref" href="#cpp_logic0:49"><span class="id" title="binder">!</span></a><a id="cpp_logic0:49" class="idref" href="#cpp_logic0:49"><span class="id" title="binder">cpp_logic</span></a> <a id="thread_info:47" class="idref" href="#thread_info:47"><span class="id" title="binder"><span id="cpp_logic0:49" class="id">thread_info</span></span></a> <a id="1599156b531db08541b0ea734472e882" class="idref" href="#1599156b531db08541b0ea734472e882"><span class="id" title="binder"><span id="cpp_logic0:49" class="id">Σ</span></span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#monPredI"><span class="id" title="definition">monPredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> (@<a class="idref" href="bedrock.lang.base_logic.mpred.html#mpredI"><span class="id" title="definition">mpredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#thread_info:47"><span class="id" title="variable">thread_info</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1599156b531db08541b0ea734472e882"><span class="id" title="variable">Σ</span></a>).<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_car"><span class="id" title="projection">bi_car</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="KP" class="idref" href="#KP"><span class="id" title="definition">KP</span></a> `{<a id="H:52" class="idref" href="#H:52"><span class="id" title="binder">cpp_logic</span></a>} (<a id="P:53" class="idref" href="#P:53"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#MonPred"><span class="id" title="constructor">MonPred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:53"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>%<span class="id" title="var">_I</span> : <span class="id" title="tactic">assert</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="KP" class="idref" href="#KP"><span class="id" title="section">KP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="c9fe018ffcc883a2c65ac29aa60b2bc4" class="idref" href="#c9fe018ffcc883a2c65ac29aa60b2bc4"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="KP_frame" class="idref" href="#KP_frame"><span class="id" title="lemma">KP_frame</span></a> (<a id="Q1:57" class="idref" href="#Q1:57"><span class="id" title="binder">Q1</span></a> <a id="Q2:58" class="idref" href="#Q2:58"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="rt:59" class="idref" href="#rt:59"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:57"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:59"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:58"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:59"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:57"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:59"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:58"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:59"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="section">KP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kreturn_inner" class="idref" href="#Kreturn_inner"><span class="id" title="definition">Kreturn_inner</span></a> `{<a id="e4cd9633ec2d0ee09ebe5d497f8dd196" class="idref" href="#e4cd9633ec2d0ee09ebe5d497f8dd196"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="8b20cd7a8c581f06fe07233432a8887f" class="idref" href="#8b20cd7a8c581f06fe07233432a8887f"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="Q:64" class="idref" href="#Q:64"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="rt:65" class="idref" href="#rt:65"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:65"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:67" class="idref" href="#p:67"><span class="id" title="binder"><span id="p:68" class="id">p</span></span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:67"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="abbreviation">primR</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vvoid"><span class="id" title="definition">Vvoid</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:64"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:67"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> <span class="id" title="var">p</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:64"><span class="id" title="variable">Q</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn_inner"><span class="id" title="definition">Kreturn_inner</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">rt</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kreturn" class="idref" href="#Kreturn"><span class="id" title="definition">Kreturn</span></a> `{<a id="71207c1fa4df2a6ffd92a3b175d4607f" class="idref" href="#71207c1fa4df2a6ffd92a3b175d4607f"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="0ae2c1b7c19c1b09433317da0b615082" class="idref" href="#0ae2c1b7c19c1b09433317da0b615082"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="Q:73" class="idref" href="#Q:73"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn_inner"><span class="id" title="definition">Kreturn_inner</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:73"><span class="id" title="variable">Q</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn"><span class="id" title="definition">Kreturn</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kreturn" class="idref" href="#Kreturn"><span class="id" title="section">Kreturn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="c720a357b248c45a191778930930cee5" class="idref" href="#c720a357b248c45a191778930930cee5"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>, <a id="f0192f47b506f70df98312abb2efed28" class="idref" href="#f0192f47b506f70df98312abb2efed28"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Kreturn_frame" class="idref" href="#Kreturn_frame"><span class="id" title="lemma">Kreturn_frame</span></a> (<a id="Q:78" class="idref" href="#Q:78"><span class="id" title="binder">Q</span></a> <a id="Q':79" class="idref" href="#Q':79"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="rt:80" class="idref" href="#rt:80"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:78"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':79"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:81"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn"><span class="id" title="definition">Kreturn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:78"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:80"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn"><span class="id" title="definition">Kreturn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':79"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:80"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HQ". <span class="id" title="tactic">destruct</span> <span class="id" title="var">rt</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">iIntros</span> "HR" (?) "R"; <span class="id" title="var">iApply</span> "HQ"; <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HR".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kreturn"><span class="id" title="section">Kreturn</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kseq_inner" class="idref" href="#Kseq_inner"><span class="id" title="definition">Kseq_inner</span></a>  `{<a id="a5bae1297469f77e34a5c13ef06bb586" class="idref" href="#a5bae1297469f77e34a5c13ef06bb586"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} (<a id="Q:85" class="idref" href="#Q:85"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:86" class="idref" href="#k:86"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) (<a id="rt:87" class="idref" href="#rt:87"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:87"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:85"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:86"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">rt</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:86"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:87"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq_inner"><span class="id" title="definition">Kseq_inner</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">rt</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kseq" class="idref" href="#Kseq"><span class="id" title="definition">Kseq</span></a> `{<a id="ea3099500bc55d4763bc7c1f5625a793" class="idref" href="#ea3099500bc55d4763bc7c1f5625a793"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} (<a id="Q:92" class="idref" href="#Q:92"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:93" class="idref" href="#k:93"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq_inner"><span class="id" title="definition">Kseq_inner</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:92"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:93"><span class="id" title="variable">k</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="definition">Kseq</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kseq" class="idref" href="#Kseq"><span class="id" title="section">Kseq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="de1d809397e27010c923f9c4f10a036b" class="idref" href="#de1d809397e27010c923f9c4f10a036b"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Kseq_frame" class="idref" href="#Kseq_frame"><span class="id" title="lemma">Kseq_frame</span></a> (<a id="Q1:97" class="idref" href="#Q1:97"><span class="id" title="binder">Q1</span></a> <a id="Q2:98" class="idref" href="#Q2:98"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k1:99" class="idref" href="#k1:99"><span class="id" title="binder">k1</span></a> <a id="k2:100" class="idref" href="#k2:100"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) (<a id="rt:101" class="idref" href="#rt:101"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:102" class="idref" href="#rt:102"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:99"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:102"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:100"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:102"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:97"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:99"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:98"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:100"><span class="id" title="variable">k2</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:103" class="idref" href="#rt:103"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:99"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:103"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:100"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:103"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="definition">Kseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:97"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:99"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:101"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="definition">Kseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:98"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:100"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:101"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HQ Hk". <span class="id" title="tactic">destruct</span> <span class="id" title="var">rt</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iExact</span> "Hk".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HQ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="section">Kseq</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;loop&nbsp;with&nbsp;invariant&nbsp;`I`&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="Kloop_inner" class="idref" href="#Kloop_inner"><span class="id" title="definition">Kloop_inner</span></a> `{<a id="c15f7ce5d7211986b526059c4461e1ec" class="idref" href="#c15f7ce5d7211986b526059c4461e1ec"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} (<a id="I:107" class="idref" href="#I:107"><span class="id" title="binder">I</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="Q:108" class="idref" href="#Q:108"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) (<a id="rt:109" class="idref" href="#rt:109"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:109"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Break"><span class="id" title="constructor">Break</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:108"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Continue"><span class="id" title="constructor">Continue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I:107"><span class="id" title="variable">I</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:108"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:109"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop_inner"><span class="id" title="definition">Kloop_inner</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> !<span class="id" title="var">rt</span> /.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kloop" class="idref" href="#Kloop"><span class="id" title="definition">Kloop</span></a> `{<a id="67028e5db0d7f321f964117e73116fa2" class="idref" href="#67028e5db0d7f321f964117e73116fa2"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} (<a id="I:114" class="idref" href="#I:114"><span class="id" title="binder">I</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="Q:115" class="idref" href="#Q:115"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop_inner"><span class="id" title="definition">Kloop_inner</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I:114"><span class="id" title="variable">I</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:115"><span class="id" title="variable">Q</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop"><span class="id" title="definition">Kloop</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kloop" class="idref" href="#Kloop"><span class="id" title="section">Kloop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="7dffe60121a60a06ddccc73632a956f8" class="idref" href="#7dffe60121a60a06ddccc73632a956f8"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Kloop_frame" class="idref" href="#Kloop_frame"><span class="id" title="lemma">Kloop_frame</span></a> (<a id="I1:119" class="idref" href="#I1:119"><span class="id" title="binder">I1</span></a> <a id="I2:120" class="idref" href="#I2:120"><span class="id" title="binder">I2</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k1:121" class="idref" href="#k1:121"><span class="id" title="binder">k1</span></a> <a id="k2:122" class="idref" href="#k2:122"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) (<a id="rt:123" class="idref" href="#rt:123"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">affine</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#I1:119"><span class="id" title="variable">I1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I2:120"><span class="id" title="variable">I2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">&lt;</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">affine</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:124" class="idref" href="#rt:124"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:121"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:124"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:122"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:124"><span class="id" title="variable">rt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#::bi_scope:'&lt;affine&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop"><span class="id" title="definition">Kloop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I1:119"><span class="id" title="variable">I1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:121"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:123"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop"><span class="id" title="definition">Kloop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I2:120"><span class="id" title="variable">I2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:122"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:123"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HI Hk". <span class="id" title="tactic">destruct</span> <span class="id" title="var">rt</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">first</span> [ <span class="id" title="var">iExact</span> "Hk" | <span class="id" title="var">iApply</span> "HI" ].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kloop"><span class="id" title="section">Kloop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Kat_exit" class="idref" href="#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> `{<a id="65358e173100572b17ccc689a57a129c" class="idref" href="#65358e173100572b17ccc689a57a129c"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} (<a id="Q:128" class="idref" href="#Q:128"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:129" class="idref" href="#k:129"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <span class="id" title="keyword">fun</span> <a id="rt:130" class="idref" href="#rt:130"><span class="id" title="binder">rt</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:128"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:129"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:130"><span class="id" title="variable">rt</span></a>).<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kat_exit" class="idref" href="#Kat_exit"><span class="id" title="section">Kat_exit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="f6627f98026de82e5f209c2c0762e81e" class="idref" href="#f6627f98026de82e5f209c2c0762e81e"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Kat_exit_frame" class="idref" href="#Kat_exit_frame"><span class="id" title="lemma">Kat_exit_frame</span></a> (<a id="Q:134" class="idref" href="#Q:134"><span class="id" title="binder">Q</span></a> <a id="Q':135" class="idref" href="#Q':135"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:136" class="idref" href="#k:136"><span class="id" title="binder">k</span></a> <a id="k':137" class="idref" href="#k':137"><span class="id" title="binder">k'</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="R:138" class="idref" href="#R:138"><span class="id" title="binder">R</span></a> <a id="R':139" class="idref" href="#R':139"><span class="id" title="binder">R'</span></a> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#R:138"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#R':139"><span class="id" title="variable">R'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:134"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#R:138"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':135"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#R':139"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:140" class="idref" href="#rt:140"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:136"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:140"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':137"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:140"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:134"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:136"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:140"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':135"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':137"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:140"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "HQ %rt Hk". <span class="id" title="tactic">destruct</span> <span class="id" title="var">rt</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HQ".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="section">Kat_exit</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
NOTE&nbsp;KpredI&nbsp;does&nbsp;not&nbsp;embed&nbsp;into&nbsp;mpredI&nbsp;because&nbsp;it&nbsp;doesn't&nbsp;respect<br/>
existentials.<br/>
*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="mpred_Kpred_BiEmbed" class="idref" href="#mpred_Kpred_BiEmbed"><span class="id" title="instance">mpred_Kpred_BiEmbed</span></a> `{<a id="92fc1184c72183659a7f8012cd13be07" class="idref" href="#92fc1184c72183659a7f8012cd13be07"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.embedding.html#BiEmbed"><span class="id" title="class">BiEmbed</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpredI"><span class="id" title="definition">mpredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab168"></a><h1 class="section">Regions</h1>

    To model the stack frame in separation logic, we use a notion of regions
    that are threaded through the semantics.

<div class="paragraph"> </div>

    We instantiate <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a></span> as a finite map from variables to their addresses
    (implemented as an association list).

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="region" class="idref" href="#region"><span class="id" title="definition, inductive"><span id="region_rect" class="id"><span id="region_ind" class="id"><span id="region_rec" class="id"><span id="region_sind" class="id">region</span></span></span></span></span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Remp" class="idref" href="#Remp"><span class="id" title="constructor">Remp</span></a> (<a id="this:146" class="idref" href="#this:146"><span class="id" title="binder">this</span></a> <a id="var_arg:147" class="idref" href="#var_arg:147"><span class="id" title="binder">var_arg</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ret_type:148" class="idref" href="#ret_type:148"><span class="id" title="binder">ret_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a>)<br/>
| <a id="Rbind" class="idref" href="#Rbind"><span class="id" title="constructor">Rbind</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#localname"><span class="id" title="abbreviation">localname</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region:144"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_location" class="idref" href="#get_location"><span class="id" title="definition">get_location</span></a> (<a id="3a8ce31a9c831cec828ccc92d4e5739e" class="idref" href="#3a8ce31a9c831cec828ccc92d4e5739e"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:150" class="idref" href="#b:150"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#localname"><span class="id" title="abbreviation">localname</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3a8ce31a9c831cec828ccc92d4e5739e"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:150"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location:151"><span class="id" title="definition">get_location</span></a> <span class="id" title="var">rs</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:150"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_this" class="idref" href="#get_this"><span class="id" title="definition">get_this</span></a> (<a id="6f60e4184ffe848947ef1d861677af2a" class="idref" href="#6f60e4184ffe848947ef1d861677af2a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6f60e4184ffe848947ef1d861677af2a"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">this</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">this</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this:154"><span class="id" title="definition">get_this</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_return_type" class="idref" href="#get_return_type"><span class="id" title="definition">get_return_type</span></a> (<a id="8daeb6e5fe0801b58fc1dc1b0ae446ba" class="idref" href="#8daeb6e5fe0801b58fc1dc1b0ae446ba"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#decltype"><span class="id" title="abbreviation">decltype</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8daeb6e5fe0801b58fc1dc1b0ae446ba"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty</span> =&gt; <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_return_type:157"><span class="id" title="definition">get_return_type</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_va" class="idref" href="#get_va"><span class="id" title="definition">get_va</span></a> (<a id="f40e9bd78280821e32694bc6fc0f064e" class="idref" href="#f40e9bd78280821e32694bc6fc0f064e"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f40e9bd78280821e32694bc6fc0f064e"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">va</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">va</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_va:160"><span class="id" title="definition">get_va</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">b</span></span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span> that stores the local variable <span class="inlinecode"><span class="id" title="var">b</span></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_local" class="idref" href="#_local"><span class="id" title="definition">_local</span></a> (<a id="3e1b7eb6f5b410f928e6b490dd445fe3" class="idref" href="#3e1b7eb6f5b410f928e6b490dd445fe3"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:163" class="idref" href="#b:163"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#ident"><span class="id" title="definition">ident</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location"><span class="id" title="definition">get_location</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3e1b7eb6f5b410f928e6b490dd445fe3"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:163"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a> !<span class="id" title="var">_</span> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>, <span class="id" title="tactic">assert</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a></span> <span class="inlinecode">ρ</span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.ptrs.html#PTRS.ptr"><span class="id" title="axiom">ptr</span></a></span> that <span class="inlinecode"><span class="id" title="var">this</span></span> is bound to.

<div class="paragraph"> </div>

    NOTE because <span class="inlinecode"><span class="id" title="var">this</span></span> is <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.core.html#cast_style.const"><span class="id" title="constructor">const</span></a></span>, we actually store the value directly
    rather than indirectly representing it in memory.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_this" class="idref" href="#_this"><span class="id" title="definition">_this</span></a> (<a id="0796ae57ad337b396c160b51456d9a5e" class="idref" href="#0796ae57ad337b396c160b51456d9a5e"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this"><span class="id" title="definition">get_this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#0796ae57ad337b396c160b51456d9a5e"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="WPE" class="idref" href="#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp" class="idref" href="#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="d4d74c9b61458a30e9222a969914211e" class="idref" href="#d4d74c9b61458a30e9222a969914211e"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;monad&nbsp;for&nbsp;expression&nbsp;evaluation&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.M" class="idref" href="#WPE.M"><span class="id" title="definition">M</span></a> (<a id="T:168" class="idref" href="#T:168"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:168"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">FreeTemps.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span>ness relation that should typically be used for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.name_notation.parser.html#parser.M"><span class="id" title="definition">M</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mrel" class="idref" href="#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <a id="T:169" class="idref" href="#T:169"><span class="id" title="binder">T</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:169"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:169"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)%<span class="id" title="var">signature</span>.<br/>
</div>

<div class="doc">
This relation is <i>weaker</i> because it requires the argument to respect <span class="inlinecode"><span class="id" title="var">FreeTemps.t_eq</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mequiv" class="idref" href="#WPE.Mequiv"><span class="id" title="definition">Mequiv</span></a> <a id="T:170" class="idref" href="#T:170"><span class="id" title="binder">T</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:170"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:170"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="abbreviation">FreeTemps.t_eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>)%<span class="id" title="var">signature</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mframe" class="idref" href="#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> {<a id="T:171" class="idref" href="#T:171"><span class="id" title="binder">T</span></a>} (<a id="a:172" class="idref" href="#a:172"><span class="id" title="binder">a</span></a> <a id="b:173" class="idref" href="#b:173"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:171"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="Q:174" class="idref" href="#Q:174"><span class="id" title="binder">Q</span></a> <a id="Q':175" class="idref" href="#Q':175"><span class="id" title="binder">Q'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:176" class="idref" href="#x:176"><span class="id" title="binder">x</span></a> <a id="y:177" class="idref" href="#y:177"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:174"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:176"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:177"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':175"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:176"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:177"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:172"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:174"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:173"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':175"><span class="id" title="variable">Q'</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mret" class="idref" href="#WPE.Mret"><span class="id" title="definition">Mret</span></a> {<a id="T:178" class="idref" href="#T:178"><span class="id" title="binder">T</span></a>} (<a id="t:179" class="idref" href="#t:179"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:178"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:178"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:180" class="idref" href="#K:180"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:180"><span class="id" title="variable">K</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:179"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mmap" class="idref" href="#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> {<a id="T:181" class="idref" href="#T:181"><span class="id" title="binder">T</span></a> <a id="U:182" class="idref" href="#U:182"><span class="id" title="binder">U</span></a>} (<a id="f:183" class="idref" href="#f:183"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:181"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:182"><span class="id" title="variable">U</span></a>) (<a id="t:184" class="idref" href="#t:184"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:181"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:182"><span class="id" title="variable">U</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:185" class="idref" href="#K:185"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:184"><span class="id" title="variable">t</span></a> (<span class="id" title="keyword">fun</span> <a id="v:186" class="idref" href="#v:186"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:185"><span class="id" title="variable">K</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:183"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:186"><span class="id" title="variable">v</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mmap_frame_strong" class="idref" href="#WPE.Mmap_frame_strong"><span class="id" title="lemma">Mmap_frame_strong</span></a> {<a id="T:187" class="idref" href="#T:187"><span class="id" title="binder">T</span></a> <a id="U:188" class="idref" href="#U:188"><span class="id" title="binder">U</span></a>} <a id="c:189" class="idref" href="#c:189"><span class="id" title="binder">c</span></a> (<a id="f:190" class="idref" href="#f:190"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:187"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:188"><span class="id" title="variable">U</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:189"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:189"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="Q:191" class="idref" href="#Q:191"><span class="id" title="binder">Q</span></a> <a id="Q':192" class="idref" href="#Q':192"><span class="id" title="binder">Q'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:193" class="idref" href="#x:193"><span class="id" title="binder">x</span></a> <a id="y:194" class="idref" href="#y:194"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:191"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:193"><span class="id" title="variable">x</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:194"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':192"><span class="id" title="variable">Q'</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:193"><span class="id" title="variable">x</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:194"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:189"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:191"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:190"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:189"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':192"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>; <span class="id" title="var">iIntros</span> "A" (??) "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mmap_frame" class="idref" href="#WPE.Mmap_frame"><span class="id" title="lemma">Mmap_frame</span></a> {<a id="T:195" class="idref" href="#T:195"><span class="id" title="binder">T</span></a> <a id="U:196" class="idref" href="#U:196"><span class="id" title="binder">U</span></a>} <a id="c:197" class="idref" href="#c:197"><span class="id" title="binder">c</span></a> (<a id="f:198" class="idref" href="#f:198"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:195"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:196"><span class="id" title="variable">U</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:197"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:197"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:198"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:197"><span class="id" title="variable">c</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:198"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:197"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>; <span class="id" title="var">iIntros</span> "A" (??) "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mbind" class="idref" href="#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> {<a id="T:199" class="idref" href="#T:199"><span class="id" title="binder">T</span></a> <a id="U:200" class="idref" href="#U:200"><span class="id" title="binder">U</span></a>} (<a id="c:201" class="idref" href="#c:201"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:199"><span class="id" title="variable">T</span></a>) (<a id="k:202" class="idref" href="#k:202"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:199"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:200"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:200"><span class="id" title="variable">U</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:203" class="idref" href="#K:203"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:201"><span class="id" title="variable">c</span></a> (<span class="id" title="keyword">fun</span> <a id="v:204" class="idref" href="#v:204"><span class="id" title="binder">v</span></a> <a id="f:205" class="idref" href="#f:205"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:202"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:204"><span class="id" title="variable">v</span></a> (<span class="id" title="keyword">fun</span> <a id="v':206" class="idref" href="#v':206"><span class="id" title="binder">v'</span></a> <a id="f':207" class="idref" href="#f':207"><span class="id" title="binder">f'</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:203"><span class="id" title="variable">K</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v':206"><span class="id" title="variable">v'</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f':207"><span class="id" title="variable">f'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:205"><span class="id" title="variable">f</span></a>)%<span class="id" title="var">free</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mbind_frame" class="idref" href="#WPE.Mbind_frame"><span class="id" title="lemma">Mbind_frame</span></a> {<a id="T:208" class="idref" href="#T:208"><span class="id" title="binder">T</span></a> <a id="U:209" class="idref" href="#U:209"><span class="id" title="binder">U</span></a>} <a id="c:210" class="idref" href="#c:210"><span class="id" title="binder">c</span></a> (<a id="k:211" class="idref" href="#k:211"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:208"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:209"><span class="id" title="variable">U</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:210"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:210"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:212" class="idref" href="#x:212"><span class="id" title="binder">x</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:211"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:212"><span class="id" title="variable">x</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:211"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:212"><span class="id" title="variable">x</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:210"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:211"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:210"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:211"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>; <span class="id" title="var">iIntros</span> "A B" (??) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "C".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab169"></a><h3 class="section">Indeterminately sequenced computations</h3>

      Note that <span class="inlinecode"><span class="id" title="var">FreeTemps.t</span></span> is sequenced in reverse order of construction
      to encode the stack discipline guaranteed by C++.
      (CITATION NEEDED)
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.nd_seq" class="idref" href="#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> {<a id="T:213" class="idref" href="#T:213"><span class="id" title="binder">T</span></a> <a id="U:214" class="idref" href="#U:214"><span class="id" title="binder">U</span></a>} (<a id="wp1:215" class="idref" href="#wp1:215"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:213"><span class="id" title="variable">T</span></a>) (<a id="wp2:216" class="idref" href="#wp2:216"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:214"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:213"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:214"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:217" class="idref" href="#K:217"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:215"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v1:218" class="idref" href="#v1:218"><span class="id" title="binder">v1</span></a> <a id="f1:219" class="idref" href="#f1:219"><span class="id" title="binder">f1</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:216"><span class="id" title="variable">wp2</span></a> (<span class="id" title="keyword">fun</span> <a id="v2:220" class="idref" href="#v2:220"><span class="id" title="binder">v2</span></a> <a id="f2:221" class="idref" href="#f2:221"><span class="id" title="binder">f2</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:217"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:218"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:220"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:221"><span class="id" title="variable">f2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:219"><span class="id" title="variable">f1</span></a>)%<span class="id" title="var">free</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#23fc0d5bb9014b82545f597774eb1845"><span class="id" title="notation">//\\</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:216"><span class="id" title="variable">wp2</span></a> (<span class="id" title="keyword">fun</span> <a id="v2:222" class="idref" href="#v2:222"><span class="id" title="binder">v2</span></a> <a id="f2:223" class="idref" href="#f2:223"><span class="id" title="binder">f2</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:215"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v1:224" class="idref" href="#v1:224"><span class="id" title="binder">v1</span></a> <a id="f1:225" class="idref" href="#f1:225"><span class="id" title="binder">f1</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:217"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:224"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:222"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:225"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:223"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">free</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seq_frame" class="idref" href="#WPE.nd_seq_frame"><span class="id" title="lemma">nd_seq_frame</span></a> {<a id="T:226" class="idref" href="#T:226"><span class="id" title="binder">T</span></a> <a id="U:227" class="idref" href="#U:227"><span class="id" title="binder">U</span></a>} <a id="wp1:228" class="idref" href="#wp1:228"><span class="id" title="binder">wp1</span></a> <a id="wp2:229" class="idref" href="#wp2:229"><span class="id" title="binder">wp2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:228"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:228"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:229"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:229"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:226"><span class="id" title="variable">T</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:227"><span class="id" title="variable">U</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:228"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:229"><span class="id" title="variable">wp2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:228"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:229"><span class="id" title="variable">wp2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B" (??) "C D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; [ <span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> "[D _]" | <span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> "[_ D]" ]; <span class="id" title="var">iRevert</span> "D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "B"; <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "C". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "B". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "A"; <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "C". }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lifting&nbsp;non-deterministic&nbsp;sequencing&nbsp;to&nbsp;lists.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;this&nbsp;is&nbsp;like&nbsp;the&nbsp;semantics&nbsp;of&nbsp;argument&nbsp;evaluation&nbsp;in&nbsp;C++.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WPE.nd_seqs'" class="idref" href="#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> {<a id="T:230" class="idref" href="#T:230"><span class="id" title="binder">T</span></a>} (<a id="f:231" class="idref" href="#f:231"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="qs:232" class="idref" href="#qs:232"><span class="id" title="binder">qs</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:230"><span class="id" title="variable">T</span></a>)) {<span class="id" title="keyword">struct</span> <span class="id" title="var">f</span>} : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:230"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:232"><span class="id" title="variable">qs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:231"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span> =&gt; <span class="id" title="keyword">fun</span> <a id="Q:236" class="idref" href="#Q:236"><span class="id" title="binder">Q</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="pre:237" class="idref" href="#pre:237"><span class="id" title="binder">pre</span></a> <a id="post:238" class="idref" href="#post:238"><span class="id" title="binder">post</span></a> <a id="q:239" class="idref" href="#q:239"><span class="id" title="binder">q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:232"><span class="id" title="variable">qs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:237"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:239"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#post:238"><span class="id" title="variable">post</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lpre:240" class="idref" href="#lpre:240"><span class="id" title="binder">lpre</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:237"><span class="id" title="variable">pre</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:239"><span class="id" title="variable">q</span></a> (<span class="id" title="keyword">fun</span> <a id="t:241" class="idref" href="#t:241"><span class="id" title="binder">t</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> <a id="ts:242" class="idref" href="#ts:242"><span class="id" title="binder">ts</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#lpre:240"><span class="id" title="variable">lpre</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ts:242"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#lpre:240"><span class="id" title="variable">lpre</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ts:242"><span class="id" title="variable">ts</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#nd_seqs':233"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:231"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:237"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#post:238"><span class="id" title="variable">post</span></a>))) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:236"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.nd_seqs" class="idref" href="#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> {<a id="T:243" class="idref" href="#T:243"><span class="id" title="binder">T</span></a>} <a id="qs:244" class="idref" href="#qs:244"><span class="id" title="binder">qs</span></a> := @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:243"><span class="id" title="variable">T</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:244"><span class="id" title="variable">qs</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:244"><span class="id" title="variable">qs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seqs'_frame_strong" class="idref" href="#WPE.nd_seqs'_frame_strong"><span class="id" title="lemma">nd_seqs'_frame_strong</span></a> {<a id="T:245" class="idref" href="#T:245"><span class="id" title="binder">T</span></a>} <a id="n:246" class="idref" href="#n:246"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:247" class="idref" href="#ls:247"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:245"><span class="id" title="variable">T</span></a>)) <a id="Q:248" class="idref" href="#Q:248"><span class="id" title="binder">Q</span></a> <a id="Q':249" class="idref" href="#Q':249"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:247"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:250" class="idref" href="#x:250"><span class="id" title="binder">x</span></a> <a id="y:251" class="idref" href="#y:251"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:247"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:248"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:251"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':249"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:250"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:251"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:252" class="idref" href="#m:252"><span class="id" title="binder"><span id="m:253" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:247"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:252"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:252"><span class="id" title="variable">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:247"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:248"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:247"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':249"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X _". <span class="id" title="var">iApply</span> "X". <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X LS Y" (???) "%P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">pre</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">post</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">q</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Y"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "LS" <span class="id" title="keyword">as</span> "(a&amp;b&amp;c)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "Y". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "b".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ls</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">post</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">have</span>: (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">post</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> /=. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHn</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[X]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "X". <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[a c]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "a"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "X". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iIntros</span> (??) "%". <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#firstn_length_le"><span class="id" title="lemma">firstn_length_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_skipn"><span class="id" title="lemma">length_skipn</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seqs'_frame" class="idref" href="#WPE.nd_seqs'_frame"><span class="id" title="lemma">nd_seqs'_frame</span></a> {<a id="T:254" class="idref" href="#T:254"><span class="id" title="binder">T</span></a>} <a id="n:255" class="idref" href="#n:255"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:256" class="idref" href="#ls:256"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:254"><span class="id" title="variable">T</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:255"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:256"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:257" class="idref" href="#m:257"><span class="id" title="binder"><span id="m:258" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:256"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:257"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:257"><span class="id" title="variable">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:255"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:256"><span class="id" title="variable">ls</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:255"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:256"><span class="id" title="variable">ls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_" (??) "X". <span class="id" title="var">iApply</span> "X". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "?" (??) "? []". } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "LS" (??) "X Y"; <span class="id" title="var">iIntros</span> (???) "%P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">pre</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">post</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">q</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Y"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "LS" <span class="id" title="keyword">as</span> "(a&amp;b&amp;c)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "Y".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind_frame"><span class="id" title="lemma">Mbind_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "b [a c]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap_frame"><span class="id" title="lemma">Mmap_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">have</span>: (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">post</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_app"><span class="id" title="lemma">length_app</span></a> /=. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "a"; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seqs_frame" class="idref" href="#WPE.nd_seqs_frame"><span class="id" title="lemma">nd_seqs_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="T:259" class="idref" href="#T:259"><span class="id" title="binder">T</span></a>} (<a id="ms:260" class="idref" href="#ms:260"><span class="id" title="binder">ms</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:259"><span class="id" title="variable">T</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:261" class="idref" href="#m:261"><span class="id" title="binder"><span id="m:262" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ms:260"><span class="id" title="variable">ms</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:261"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:261"><span class="id" title="variable">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ms:260"><span class="id" title="variable">ms</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ms:260"><span class="id" title="variable">ms</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'_frame"><span class="id" title="lemma">nd_seqs'_frame</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;sanity&nbsp;check&nbsp;on&nbsp;<span class="inlinecode"><span class="id" title="var">nd_seq</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">nd_seqs</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="WPE.nd_seq_example" class="idref" href="#WPE.nd_seq_example"><span class="id" title="definition">nd_seq_example</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="T:263" class="idref" href="#T:263"><span class="id" title="binder">T</span></a>} (<a id="a:264" class="idref" href="#a:264"><span class="id" title="binder">a</span></a> <a id="b:265" class="idref" href="#b:265"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:263"><span class="id" title="variable">T</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:264"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:265"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mequiv"><span class="id" title="definition">Mequiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:264"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:265"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:268" class="idref" href="#pat:268"><span class="id" title="binder">(</span></a><a id="a:267" class="idref" href="#a:267"><span class="id" title="binder"><span id="pat:268" class="id">a</span></span></a><a id="pat:268" class="idref" href="#pat:268"><span class="id" title="binder">,</span></a><a id="b:266" class="idref" href="#b:266"><span class="id" title="binder"><span id="pat:268" class="id">b</span></span></a><a id="pat:268" class="idref" href="#pat:268"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:267"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:266"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:264"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:265"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a>/=; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X". <span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "X" (<span class="id" title="var">pre</span> <span class="id" title="var">post</span> <span class="id" title="var">m</span> <span class="id" title="var">Horder</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Horder</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "X" <span class="id" title="keyword">as</span> "[X _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>. <span class="id" title="var">iApply</span> <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X" (<span class="id" title="var">pre'</span> <span class="id" title="var">post'</span> <span class="id" title="var">m'</span> <span class="id" title="var">Horder'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pre'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">m'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">post'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> [?[??]]; <span class="id" title="var">last</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> - <span class="id" title="var">Horder'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Horder'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">pre'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Horder'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>; <span class="id" title="var">last</span> <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) =&gt; /=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m0</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">post</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> [?[?[??]]]; <span class="id" title="var">last</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Horder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Horder</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "X" <span class="id" title="keyword">as</span> "[_ X]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>. <span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>; <span class="id" title="var">last</span> <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??) "H" =&gt; /=. <span class="id" title="var">iIntros</span> (<span class="id" title="var">pre'</span> <span class="id" title="var">post'</span> <span class="id" title="var">m'</span> <span class="id" title="var">Horder'</span>)=&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m0</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">pre'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">post'</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> [?[??]]; <span class="id" title="var">last</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">pre'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Horder'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??). <span class="id" title="tactic">rewrite</span> /=/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>. } }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab170"></a><h3 class="section">sequencing of monadic compuations</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.Mseq" class="idref" href="#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> {<a id="T:269" class="idref" href="#T:269"><span class="id" title="binder">T</span></a> <a id="U:270" class="idref" href="#U:270"><span class="id" title="binder">U</span></a>} (<a id="wp1:271" class="idref" href="#wp1:271"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:269"><span class="id" title="variable">T</span></a>) (<a id="wp2:272" class="idref" href="#wp2:272"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:270"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:269"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:270"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:271"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v:273" class="idref" href="#v:273"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> <a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:273"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:274"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:272"><span class="id" title="variable">wp2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mseq_frame" class="idref" href="#WPE.Mseq_frame"><span class="id" title="lemma">Mseq_frame</span></a> {<a id="T:275" class="idref" href="#T:275"><span class="id" title="binder">T</span></a> <a id="U:276" class="idref" href="#U:276"><span class="id" title="binder">U</span></a>} <a id="wp1:277" class="idref" href="#wp1:277"><span class="id" title="binder">wp1</span></a> <a id="wp2:278" class="idref" href="#wp2:278"><span class="id" title="binder">wp2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:277"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:277"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:278"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:278"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:275"><span class="id" title="variable">T</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:276"><span class="id" title="variable">U</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:277"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:278"><span class="id" title="variable">wp2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:277"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:278"><span class="id" title="variable">wp2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B" (??) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind_frame"><span class="id" title="lemma">Mbind_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "A [B]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">iAssumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (???) "X". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap_frame"><span class="id" title="lemma">Mmap_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "B"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs"><span class="id" title="definition">seqs</span></a></span> <span class="inlinecode"><span class="id" title="var">es</span></span> is sequential evaluation of <span class="inlinecode"><span class="id" title="var">es</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WPE.seqs" class="idref" href="#WPE.seqs"><span class="id" title="definition">seqs</span></a> {<a id="T:279" class="idref" href="#T:279"><span class="id" title="binder">T</span></a>} (<a id="es:280" class="idref" href="#es:280"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:279"><span class="id" title="variable">T</span></a>)) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:279"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:280"><span class="id" title="variable">es</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">es</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">(</span></a><a id="a:284" class="idref" href="#a:284"><span class="id" title="binder"><span id="pat:285" class="id">a</span></span></a><a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">,</span></a><a id="b:283" class="idref" href="#b:283"><span class="id" title="binder"><span id="pat:285" class="id">b</span></span></a><a id="pat:285" class="idref" href="#pat:285"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:284"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:283"><span class="id" title="variable">b</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> <span class="id" title="var">e</span> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#seqs:281"><span class="id" title="definition">seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:280"><span class="id" title="variable">es</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.seqs_frame_strong" class="idref" href="#WPE.seqs_frame_strong"><span class="id" title="lemma">seqs_frame_strong</span></a> {<a id="T:286" class="idref" href="#T:286"><span class="id" title="binder">T</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:287" class="idref" href="#ls:287"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:286"><span class="id" title="variable">T</span></a>)) <a id="Q:288" class="idref" href="#Q:288"><span class="id" title="binder">Q</span></a> <a id="Q':289" class="idref" href="#Q':289"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:290" class="idref" href="#m:290"><span class="id" title="binder"><span id="m:291" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:287"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:290"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:290"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:292" class="idref" href="#x:292"><span class="id" title="binder">x</span></a> <a id="y:293" class="idref" href="#y:293"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:292"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:287"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:288"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:292"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:293"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':289"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:292"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:293"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs"><span class="id" title="definition">seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:287"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:288"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs"><span class="id" title="definition">seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:287"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':289"><span class="id" title="variable">Q'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "_ X"; <span class="id" title="var">iApply</span> "X"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[A AS] K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>. <span class="id" title="var">iApply</span> "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHls</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "AS"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (???).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "K". <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab171"></a><h3 class="section">interleaving of monadic values</h3>


<div class="paragraph"> </div>

      We encode interleaving through concurrency which we represent through
      separable resources.

<div class="paragraph"> </div>

      NOTE: this is like the semantics of argument evaluation in C
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.Mpar" class="idref" href="#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> {<a id="T:294" class="idref" href="#T:294"><span class="id" title="binder">T</span></a> <a id="U:295" class="idref" href="#U:295"><span class="id" title="binder">U</span></a>} (<a id="wp1:296" class="idref" href="#wp1:296"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:294"><span class="id" title="variable">T</span></a>) (<a id="wp2:297" class="idref" href="#wp2:297"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:295"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:294"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:295"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="Q:298" class="idref" href="#Q:298"><span class="id" title="binder">Q</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="Q1:299" class="idref" href="#Q1:299"><span class="id" title="binder">Q1</span></a> <a id="Q2:300" class="idref" href="#Q2:300"><span class="id" title="binder">Q2</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:296"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:299"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:297"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:300"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v1:301" class="idref" href="#v1:301"><span class="id" title="binder">v1</span></a> <a id="v2:302" class="idref" href="#v2:302"><span class="id" title="binder">v2</span></a> <a id="f1:303" class="idref" href="#f1:303"><span class="id" title="binder">f1</span></a> <a id="f2:304" class="idref" href="#f2:304"><span class="id" title="binder">f2</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:299"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:301"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:303"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:300"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:302"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:304"><span class="id" title="variable">f2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:298"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:301"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:302"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:303"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#185d3ade71f962ba979a15b86bd37653"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:304"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">free</span><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mpar_frame" class="idref" href="#WPE.Mpar_frame"><span class="id" title="lemma">Mpar_frame</span></a> {<a id="T:305" class="idref" href="#T:305"><span class="id" title="binder">T</span></a> <a id="U:306" class="idref" href="#U:306"><span class="id" title="binder">U</span></a>} <a id="wp1:307" class="idref" href="#wp1:307"><span class="id" title="binder">wp1</span></a> <a id="wp2:308" class="idref" href="#wp2:308"><span class="id" title="binder">wp2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:307"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:307"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:308"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:308"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:305"><span class="id" title="variable">T</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:306"><span class="id" title="variable">U</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:307"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:308"><span class="id" title="variable">wp2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:307"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:308"><span class="id" title="variable">wp2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B" (??) "C D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> (??) "(D1 &amp; D2 &amp; K)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "D1 A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iIntros</span> (??) "X"; <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "D2 B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "B". 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iIntros</span> (??) "X"; <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (????) "A B". <span class="id" title="var">iApply</span> "C". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"K" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "A B"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
lifting <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a></span> to homogeneous lists 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WPE.Mpars" class="idref" href="#WPE.Mpars"><span class="id" title="definition">Mpars</span></a> {<a id="T:309" class="idref" href="#T:309"><span class="id" title="binder">T</span></a>} (<a id="f:310" class="idref" href="#f:310"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:309"><span class="id" title="variable">T</span></a>)) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:309"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:310"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">fs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:315" class="idref" href="#pat:315"><span class="id" title="binder">(</span></a><a id="v:314" class="idref" href="#v:314"><span class="id" title="binder"><span id="pat:315" class="id">v</span></span></a><a id="pat:315" class="idref" href="#pat:315"><span class="id" title="binder">,</span></a> <a id="vs:313" class="idref" href="#vs:313"><span class="id" title="binder"><span id="pat:315" class="id">vs</span></span></a><a id="pat:315" class="idref" href="#pat:315"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:314"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vs:313"><span class="id" title="variable">vs</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:310"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Mpars:311"><span class="id" title="definition">Mpars</span></a> <span class="id" title="var">fs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mpars_frame_strong" class="idref" href="#WPE.Mpars_frame_strong"><span class="id" title="lemma">Mpars_frame_strong</span></a> {<a id="T:316" class="idref" href="#T:316"><span class="id" title="binder">T</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:317" class="idref" href="#ls:317"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:316"><span class="id" title="variable">T</span></a>)) <a id="Q:318" class="idref" href="#Q:318"><span class="id" title="binder">Q</span></a> <a id="Q':319" class="idref" href="#Q':319"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:320" class="idref" href="#m:320"><span class="id" title="binder"><span id="m:321" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:317"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:320"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:320"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:322" class="idref" href="#x:322"><span class="id" title="binder">x</span></a> <a id="y:323" class="idref" href="#y:323"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:322"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:317"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:318"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:322"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:323"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':319"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:322"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:323"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpars"><span class="id" title="definition">Mpars</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:317"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:318"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpars"><span class="id" title="definition">Mpars</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:317"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':319"><span class="id" title="variable">Q'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "_ X"; <span class="id" title="var">iApply</span> "X"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[A AS] K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "X" <span class="id" title="keyword">as</span> (??) "(L &amp; R &amp; KK)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>. <span class="id" title="var">iFrame</span> "L".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHls</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "AS [] R"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">iFrame</span> "IH".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">instantiate</span> (1:=<span class="id" title="keyword">fun</span> <a id="x:324" class="idref" href="#x:324"><span class="id" title="binder"><span id="x:326" class="id">x</span></span></a> <a id="y:325" class="idref" href="#y:325"><span class="id" title="binder"><span id="y:327" class="id">y</span></span></a> =&gt; <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">ls</span> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <span class="id" title="var">Q2</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:324"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:325"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (???) "$". <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (????) "? [% ?]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"KK" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$] [$]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab172"></a><h3 class="section">evaluation by a scheme</h3>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="tactic">eval</span></span> <span class="inlinecode"><span class="id" title="var">eo</span></span> <span class="inlinecode"><span class="id" title="var">e1</span></span> <span class="inlinecode"><span class="id" title="var">e2</span></span> evaluates <span class="inlinecode"><span class="id" title="var">e1</span></span>, <span class="inlinecode"><span class="id" title="var">e2</span></span> according to the evaluation scheme <span class="inlinecode"><span class="id" title="var">eo</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.eval2" class="idref" href="#WPE.eval2"><span class="id" title="definition">eval2</span></a> (<a id="eo:328" class="idref" href="#eo:328"><span class="id" title="binder">eo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.t"><span class="id" title="inductive">evaluation_order.t</span></a>) {<a id="T:329" class="idref" href="#T:329"><span class="id" title="binder">T</span></a> <a id="U:330" class="idref" href="#U:330"><span class="id" title="binder">U</span></a>} (<a id="e1:331" class="idref" href="#e1:331"><span class="id" title="binder">e1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:329"><span class="id" title="variable">T</span></a>) (<a id="e2:332" class="idref" href="#e2:332"><span class="id" title="binder">e2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:330"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:329"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:330"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#eo:328"><span class="id" title="variable">eo</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.nd"><span class="id" title="constructor">evaluation_order.nd</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e1:331"><span class="id" title="variable">e1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e2:332"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.l_nd"><span class="id" title="constructor">evaluation_order.l_nd</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e1:331"><span class="id" title="variable">e1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e2:332"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.rl"><span class="id" title="constructor">evaluation_order.rl</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:336" class="idref" href="#pat:336"><span class="id" title="binder">(</span></a><a id="a:335" class="idref" href="#a:335"><span class="id" title="binder"><span id="pat:336" class="id">a</span></span></a><a id="pat:336" class="idref" href="#pat:336"><span class="id" title="binder">,</span></a><a id="b:334" class="idref" href="#b:334"><span class="id" title="binder"><span id="pat:336" class="id">b</span></span></a><a id="pat:336" class="idref" href="#pat:336"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:334"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:335"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mseq"><span class="id" title="definition">Mseq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e2:332"><span class="id" title="variable">e2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e1:331"><span class="id" title="variable">e1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">evals</span></span> <span class="inlinecode"><span class="id" title="var">eo</span></span> <span class="inlinecode"><span class="id" title="var">es</span></span> evaluates <span class="inlinecode"><span class="id" title="var">es</span></span> according to the evaluation scheme <span class="inlinecode"><span class="id" title="var">eo</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.eval" class="idref" href="#WPE.eval"><span class="id" title="definition">eval</span></a> (<a id="eo:337" class="idref" href="#eo:337"><span class="id" title="binder">eo</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.t"><span class="id" title="inductive">evaluation_order.t</span></a>) {<a id="T:338" class="idref" href="#T:338"><span class="id" title="binder">T</span></a>} (<a id="es:339" class="idref" href="#es:339"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:338"><span class="id" title="variable">T</span></a>)) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:338"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#eo:337"><span class="id" title="variable">eo</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.nd"><span class="id" title="constructor">evaluation_order.nd</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:339"><span class="id" title="variable">es</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.l_nd"><span class="id" title="constructor">evaluation_order.l_nd</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:339"><span class="id" title="variable">es</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">es</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <a id="v:342" class="idref" href="#v:342"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> <a id="vs:343" class="idref" href="#vs:343"><span class="id" title="binder">vs</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:342"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vs:343"><span class="id" title="variable">vs</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:339"><span class="id" title="variable">es</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#evaluation_order.rl"><span class="id" title="constructor">evaluation_order.rl</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (@<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs"><span class="id" title="definition">seqs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#es:339"><span class="id" title="variable">es</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.eval_frame_strong" class="idref" href="#WPE.eval_frame_strong"><span class="id" title="lemma">eval_frame_strong</span></a> {<a id="T:344" class="idref" href="#T:344"><span class="id" title="binder">T</span></a>} <a id="oe:345" class="idref" href="#oe:345"><span class="id" title="binder">oe</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:346" class="idref" href="#ls:346"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:344"><span class="id" title="variable">T</span></a>)) <a id="Q:347" class="idref" href="#Q:347"><span class="id" title="binder">Q</span></a> <a id="Q':348" class="idref" href="#Q':348"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:349" class="idref" href="#m:349"><span class="id" title="binder"><span id="m:350" class="id">m</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:349"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:349"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:351" class="idref" href="#x:351"><span class="id" title="binder">x</span></a> <a id="y:352" class="idref" href="#y:352"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:347"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:352"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':348"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:351"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:352"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#oe:345"><span class="id" title="variable">oe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:347"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#oe:345"><span class="id" title="variable">oe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':348"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">oe</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a>. <span class="id" title="var">iIntros</span> "A B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'_frame_strong"><span class="id" title="lemma">nd_seqs'_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "B A"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "_ X"; <span class="id" title="var">iApply</span> "X". <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "[X Y] K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "X". <span class="id" title="var">iIntros</span> (??).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'_frame_strong"><span class="id" title="lemma">nd_seqs'_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[K] Y"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (???).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "K". <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>. <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.seqs_frame_strong"><span class="id" title="lemma">seqs_frame_strong</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[X]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iStopProof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[$ K]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHls</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "K"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "$". <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> (???); <span class="id" title="var">iApply</span> "K".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">length_rev</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#length_rev"><span class="id" title="lemma">length_rev</span></a> <span class="id" title="var">ls</span>). <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;expressions&nbsp;in&nbsp;the&nbsp;C++&nbsp;language&nbsp;are&nbsp;categorized&nbsp;into&nbsp;five<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"value&nbsp;categories"&nbsp;as&nbsp;defined&nbsp;in:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1
   *
   * - "A glvalue is an expression whose evaluation determines the identity of
   *    an object or function."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.1<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation&nbsp;initializes&nbsp;an&nbsp;object&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,&nbsp;as&nbsp;specified&nbsp;by&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,&nbsp;or&nbsp;an&nbsp;expression&nbsp;that&nbsp;has&nbsp;type&nbsp;cv&nbsp;void."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.2
   * - "An xvalue is a glvalue that denotes an object whose resources can be
   *    reused (usually because it is near the end of its lifetime)."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.3<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"An&nbsp;lvalue&nbsp;is&nbsp;a&nbsp;glvalue&nbsp;that&nbsp;is&nbsp;not&nbsp;an&nbsp;xvalue."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.4
   * - "An rvalue is a prvalue or an xvalue."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.5<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
lvalues 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_lval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">wp_lval</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;evaluates&nbsp;the&nbsp;expression&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;in&nbsp;region&nbsp;<span class="inlinecode">ρ</span><br/>
&nbsp;&nbsp;&nbsp;*&nbsp;with&nbsp;mask&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span>&nbsp;and&nbsp;continutation&nbsp;<span class="inlinecode"><span class="id" title="var">Q</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp_lval" class="idref" href="#WPE.with_cpp.wp_lval"><span class="id" title="variable">wp_lval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:353" class="idref" href="#resolve:353"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_lval&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_lval_shift" class="idref" href="#WPE.with_cpp.wp_lval_shift"><span class="id" title="variable">wp_lval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="8ecb521bf4bbceb33e23f6b04adbbe5b" class="idref" href="#8ecb521bf4bbceb33e23f6b04adbbe5b"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:357" class="idref" href="#tu:357"><span class="id" title="binder">tu</span></a> <a id="ad27fa02f612570c3f1284c337443ab1" class="idref" href="#ad27fa02f612570c3f1284c337443ab1"><span class="id" title="binder">ρ</span></a> <a id="e:359" class="idref" href="#e:359"><span class="id" title="binder">e</span></a> <a id="Q:360" class="idref" href="#Q:360"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:357"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ad27fa02f612570c3f1284c337443ab1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:359"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:361" class="idref" href="#v:361"><span class="id" title="binder">v</span></a> <a id="free:362" class="idref" href="#free:362"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:360"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:361"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:362"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:357"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ad27fa02f612570c3f1284c337443ab1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:359"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:360"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Proposal&nbsp;(the&nbsp;same&nbsp;thing&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">wp_xval</span></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;this&nbsp;would&nbsp;require&nbsp;<span class="inlinecode"><span class="id" title="var">has_type</span></span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode">$</span> <span class="inlinecode"><span class="id" title="var">Tnamed</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span> <span class="inlinecode">(<span class="id" title="var">Vref</span></span> <span class="inlinecode"><span class="id" title="var">r</span>)</span>&nbsp;~&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr</span></span> <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode">**</span> <span class="inlinecode">[|</span> <span class="inlinecode"><span class="id" title="var">aligned</span></span> <span class="inlinecode">(<span class="id" title="var">Tnamed</span></span> <span class="inlinecode"><span class="id" title="var">x</span>)</span> <span class="inlinecode">..</span> <span class="inlinecode">|]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;this&nbsp;would&nbsp;require&nbsp;<span class="inlinecode"><span class="id" title="var">has_type</span></span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode">$</span> <span class="inlinecode"><span class="id" title="var">Tarray</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode">(<span class="id" title="var">Vptr</span></span> <span class="inlinecode"><span class="id" title="var">r</span>)</span>&nbsp;~&nbsp;<span class="inlinecode"><span class="id" title="var">strict_valid_ptr</span></span> <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode">**</span> <span class="inlinecode">[|</span> <span class="inlinecode"><span class="id" title="var">aligned</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode">|]</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^^^^^^^^^^^^^^^^^^&nbsp;-&nbsp;just&nbsp;<span class="inlinecode"><span class="id" title="var">valid_ptr</span></span>&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^^^^&nbsp;this&nbsp;is&nbsp;questionable&nbsp;because&nbsp;of&nbsp;materialized&nbsp;references<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consider<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;X&nbsp;{};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;C&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;a;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&amp;&nbsp;b;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&amp;&amp;&nbsp;c;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;d;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&amp;&nbsp;e;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&amp;&amp;&nbsp;f;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;g<span class="inlinecode">1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&amp;&nbsp;g<span class="inlinecode">1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="inlinecode"><span class="id" title="var">primR_observe_has_type</span></span>&nbsp;states:&nbsp;<span class="inlinecode"><span class="id" title="var">primR</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">has_type</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">primR</span></span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode"><span class="id" title="var">ty</span>)</span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span>&nbsp;to&nbsp;materialize&nbsp;a&nbsp;reference.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;if&nbsp;we&nbsp;had&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">primR</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">|--</span> <span class="inlinecode"><span class="id" title="var">has_type</span></span> <span class="inlinecode">(<span class="id" title="var">Vref</span></span> <span class="inlinecode"><span class="id" title="var">p</span>)</span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode"><span class="id" title="var">ty</span>)</span>,&nbsp;but&nbsp;this<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;only&nbsp;work&nbsp;when&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;is&nbsp;not&nbsp;a&nbsp;reference&nbsp;type&nbsp;(potentially&nbsp;also&nbsp;&lt;&lt;void&gt;&gt;).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;need.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="inlinecode"><span class="id" title="var">has_type</span></span> <span class="inlinecode">(<span class="id" title="var">Vref</span></span> <span class="inlinecode"><span class="id" title="var">r</span>)</span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode"><span class="id" title="var">ty</span>)</span> <span class="inlinecode">-|-</span> <span class="inlinecode">[<span class="id" title="var">strict_valid_ptr</span></span> <span class="inlinecode"><span class="id" title="var">r</span></span> <span class="inlinecode">**</span> <span class="inlinecode"><span class="id" title="var">aligned_ptr_ty</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">r</span>]</span>
       <span class="inlinecode">(<span class="id" title="var">this</span></span> <span class="inlinecode"><span class="id" title="var">rule</span></span> <span class="inlinecode"><span class="id" title="var">has</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">problem</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode"><span class="id" title="var">function</span></span> <span class="inlinecode"><span class="id" title="var">references</span></span> <span class="inlinecode"><span class="id" title="var">because</span></span> <span class="inlinecode"><span class="id" title="var">there</span></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><span class="id" title="keyword">no</span></span> <span class="inlinecode"><span class="id" title="var">alignment</span></span> <span class="inlinecode"><span class="id" title="keyword">for</span></span> <span class="inlinecode"><span class="id" title="var">functions</span>)</span>
       <span class="inlinecode"><span class="id" title="var">Two</span></span> <span class="inlinecode"><span class="id" title="var">options</span>:</span>
       <span class="inlinecode">1.</span> <span class="inlinecode"><span class="id" title="var">functions</span></span> <span class="inlinecode"><span class="id" title="var">have</span></span> <span class="inlinecode">1</span> <span class="inlinecode"><span class="id" title="var">alignment</span></span>
       <span class="inlinecode">2.</span> <span class="inlinecode"><span class="id" title="var">there</span></span> <span class="inlinecode"><span class="id" title="keyword">is</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">special</span></span> <span class="inlinecode"><span class="id" title="var">rule</span></span> <span class="inlinecode"><span class="id" title="keyword">for</span></span> <span class="inlinecode">[<span class="id" title="var">has_type</span></span>  <span class="inlinecode">(<span class="id" title="var">Vref</span></span> <span class="inlinecode"><span class="id" title="var">r</span>)</span> <span class="inlinecode">(<span class="id" title="var">Tref</span></span> <span class="inlinecode">(<span class="id" title="var">Tfunction</span></span> <span class="inlinecode">..))]</span> <span class="inlinecode"><span class="id" title="var">that</span></span> <span class="inlinecode"><span class="id" title="var">ignores</span></span> <span class="inlinecode"><span class="id" title="var">this</span></span>
     <span class="inlinecode">-</span>
   <span class="inlinecode"></span>*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_lval_well_typed" class="idref" href="#WPE.with_cpp.wp_lval_well_typed"><span class="id" title="variable">wp_lval_well_typed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="555bbfc837ea96db31029ba2cadf070a" class="idref" href="#555bbfc837ea96db31029ba2cadf070a"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:366" class="idref" href="#tu:366"><span class="id" title="binder">tu</span></a> <a id="5043c3e3cbb87b09fbf3d34bda8f97c5" class="idref" href="#5043c3e3cbb87b09fbf3d34bda8f97c5"><span class="id" title="binder">ρ</span></a> <a id="e:368" class="idref" href="#e:368"><span class="id" title="binder">e</span></a> <a id="Q:369" class="idref" href="#Q:369"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:366"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5043c3e3cbb87b09fbf3d34bda8f97c5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:368"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:370" class="idref" href="#v:370"><span class="id" title="binder">v</span></a> <a id="free:371" class="idref" href="#free:371"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.reference_to"><span class="id" title="axiom">reference_to</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:368"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:370"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:369"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:370"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:371"><span class="id" title="variable">free</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:366"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5043c3e3cbb87b09fbf3d34bda8f97c5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:368"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:369"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_lval_models" class="idref" href="#WPE.with_cpp.wp_lval_models"><span class="id" title="variable">wp_lval_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="55f19d0ae5816e4b8773bf88ab380efc" class="idref" href="#55f19d0ae5816e4b8773bf88ab380efc"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:375" class="idref" href="#tu:375"><span class="id" title="binder">tu</span></a> <a id="00bec09f7882d9718c2a615272395857" class="idref" href="#00bec09f7882d9718c2a615272395857"><span class="id" title="binder">ρ</span></a> <a id="e:377" class="idref" href="#e:377"><span class="id" title="binder">e</span></a> <a id="Q:378" class="idref" href="#Q:378"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:375"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:375"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#00bec09f7882d9718c2a615272395857"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:377"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:378"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:375"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#00bec09f7882d9718c2a615272395857"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:377"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:378"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_lval_frame" class="idref" href="#WPE.with_cpp.wp_lval_frame"><span class="id" title="variable">wp_lval_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="66cc6cd0c797fc35971d272cd7a74882" class="idref" href="#66cc6cd0c797fc35971d272cd7a74882"><span class="id" title="binder">σ</span></a> <a id="tu1:382" class="idref" href="#tu1:382"><span class="id" title="binder">tu1</span></a> <a id="tu2:383" class="idref" href="#tu2:383"><span class="id" title="binder">tu2</span></a> <a id="3abea0fbe57b3d4a04690ccc967481a2" class="idref" href="#3abea0fbe57b3d4a04690ccc967481a2"><span class="id" title="binder">ρ</span></a> <a id="e:385" class="idref" href="#e:385"><span class="id" title="binder">e</span></a> <a id="k1:386" class="idref" href="#k1:386"><span class="id" title="binder">k1</span></a> <a id="k2:387" class="idref" href="#k2:387"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:382"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:383"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:388" class="idref" href="#v:388"><span class="id" title="binder">v</span></a> <a id="f:389" class="idref" href="#f:389"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:386"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:388"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:387"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:388"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:389"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#66cc6cd0c797fc35971d272cd7a74882"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:382"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3abea0fbe57b3d4a04690ccc967481a2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:385"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:386"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#66cc6cd0c797fc35971d272cd7a74882"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:383"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3abea0fbe57b3d4a04690ccc967481a2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:385"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:387"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_lval_proper" class="idref" href="#WPE.with_cpp.wp_lval_proper"><span class="id" title="section">wp_lval_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="7fb19e8eb035a671e18dd6ef803feea6" class="idref" href="#7fb19e8eb035a671e18dd6ef803feea6"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.PROPER" class="idref" href="#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <span class="id" title="var">M</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#7fb19e8eb035a671e18dd6ef803feea6"><span class="id" title="variable">σ</span></a>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_lval_ne" class="idref" href="#WPE.wp_lval_ne"><span class="id" title="instance">wp_lval_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:393" class="idref" href="#n:393"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:393"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_lval_mono" class="idref" href="#WPE.wp_lval_mono"><span class="id" title="instance">wp_lval_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X". <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_lval_flip_mono" class="idref" href="#WPE.wp_lval_flip_mono"><span class="id" title="instance">wp_lval_flip_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_mono"><span class="id" title="instance">wp_lval_mono</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_lval_proper" class="idref" href="#WPE.wp_lval_proper"><span class="id" title="instance">wp_lval_proper</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_mono"><span class="id" title="instance">wp_lval_mono</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; ??; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval_proper"><span class="id" title="section">wp_lval_proper</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_lval" class="idref" href="#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="a12b7f43df7592cc112d5568b02ad3a0" class="idref" href="#a12b7f43df7592cc112d5568b02ad3a0"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_lval.tu" class="idref" href="#WPE.with_cpp.wp_lval.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="d5d7f5116cb446f56f45e70ce4737a2f" class="idref" href="#d5d7f5116cb446f56f45e70ce4737a2f"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="WPE.with_cpp.wp_lval.e" class="idref" href="#WPE.with_cpp.wp_lval.e"><span class="id" title="variable">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d5d7f5116cb446f56f45e70ce4737a2f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_wand" class="idref" href="#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a id="Q1:398" class="idref" href="#Q1:398"><span class="id" title="binder">Q1</span></a> <a id="Q2:399" class="idref" href="#Q2:399"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:398"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:400" class="idref" href="#v:400"><span class="id" title="binder">v</span></a> <a id="f:401" class="idref" href="#f:401"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:398"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:400"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:401"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:399"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:400"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:401"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:399"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_lval" class="idref" href="#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a> <a id="Q:402" class="idref" href="#Q:402"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:402"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:402"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_fupd" class="idref" href="#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a> <a id="Q:403" class="idref" href="#Q:403"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:404" class="idref" href="#v:404"><span class="id" title="binder">v</span></a> <a id="f:405" class="idref" href="#f:405"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:403"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:404"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:405"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:403"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_lval" class="idref" href="#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a> <a id="p:406" class="idref" href="#p:406"><span class="id" title="binder">p</span></a> <a id="P:407" class="idref" href="#P:407"><span class="id" title="binder">P</span></a> <a id="Q:408" class="idref" href="#Q:408"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:406"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:407"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:407"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:408"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:408"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_lval" class="idref" href="#WPE.elim_modal_bupd_wp_lval"><span class="id" title="instance">elim_modal_bupd_wp_lval</span></a> <a id="p:409" class="idref" href="#p:409"><span class="id" title="binder">p</span></a> <a id="P:410" class="idref" href="#P:410"><span class="id" title="binder">P</span></a> <a id="Q:411" class="idref" href="#Q:411"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:409"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:410"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:410"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:411"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:411"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_lval" class="idref" href="#WPE.add_modal_fupd_wp_lval"><span class="id" title="instance">add_modal_fupd_wp_lval</span></a> <a id="P:412" class="idref" href="#P:412"><span class="id" title="binder">P</span></a> <a id="Q:413" class="idref" href="#Q:413"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:412"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:412"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:413"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab173"></a><h1 class="section">prvalue</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;there&nbsp;are&nbsp;two&nbsp;distinct&nbsp;weakest&nbsp;pre-conditions&nbsp;for&nbsp;this&nbsp;corresponding&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;standard&nbsp;text:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation...<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;1.&nbsp;initializes&nbsp;an&nbsp;object,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;2.&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;by&nbsp;the&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,..."<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_init&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"initializes&nbsp;an&nbsp;object".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span> <span class="inlinecode"><span class="id" title="var">tu</span></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;evaluates&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;to&nbsp;initialize&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;location&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;in&nbsp;the&nbsp;region&nbsp;<span class="inlinecode">ρ</span>.&nbsp;The&nbsp;continuation&nbsp;<span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;is&nbsp;passed&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">FreeTemps.t</span></span>&nbsp;needed&nbsp;to&nbsp;destroy&nbsp;temporaries&nbsp;created&nbsp;while&nbsp;evaluating&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;does&nbsp;*not*&nbsp;include&nbsp;the&nbsp;destruction&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;and&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;expression,&nbsp;i.e.&nbsp;<span class="inlinecode"><span class="id" title="var">type_of</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>,&nbsp;are&nbsp;related<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;not&nbsp;always&nbsp;the&nbsp;same.&nbsp;We&nbsp;call&nbsp;<span class="inlinecode"><span class="id" title="var">ty</span></span>&nbsp;the&nbsp;*dynamic&nbsp;type*&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">type_of</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;*static&nbsp;type*.&nbsp;The&nbsp;two&nbsp;types&nbsp;should&nbsp;always&nbsp;be&nbsp;compatible,&nbsp;but&nbsp;the&nbsp;dynamic<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;might&nbsp;have&nbsp;more&nbsp;information.&nbsp;For&nbsp;example,&nbsp;in&nbsp;the&nbsp;expression:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">int</span> <span class="id" title="var">n</span> = 7;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="var">p</span> = <span class="id" title="var">new</span> <span class="id" title="var">C</span>[<span class="id" title="var">n</span>]{};
<div class="paragraph"> </div>

</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;running&nbsp;the&nbsp;initializer&nbsp;to&nbsp;initialize&nbsp;the&nbsp;memory&nbsp;returned&nbsp;by&nbsp;<span class="inlinecode"><span class="id" title="var">new</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;dynamic&nbsp;type&nbsp;will&nbsp;be&nbsp;<span class="inlinecode"><span class="id" title="var">Tarray</span></span> <span class="inlinecode">&quot;<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">7</span>,&nbsp;while&nbsp;the&nbsp;static&nbsp;type&nbsp;will&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">Tarray</span></span> <span class="inlinecode">&quot;<span class="id" title="var">C</span>&quot;</span> <span class="inlinecode">0</span>&nbsp;(the&nbsp;<span class="inlinecode">0</span>&nbsp;is&nbsp;an&nbsp;artifact&nbsp;of&nbsp;clang).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;memory&nbsp;that&nbsp;is&nbsp;being&nbsp;initialized&nbsp;is&nbsp;already&nbsp;owned&nbsp;by&nbsp;the&nbsp;C++&nbsp;abstract<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;machine.&nbsp;Therefore,&nbsp;schematically,&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">addr</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;looks&nbsp;like&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;following:&nbsp;<span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">addr</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">...</span> <span class="inlinecode">1</span> <span class="inlinecode">-*</span> <span class="inlinecode"><span class="id" title="var">Q</span></span> <span class="inlinecode">]</span>&nbsp;This&nbsp;choice&nbsp;means&nbsp;that&nbsp;a&nbsp;thread<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needs&nbsp;to&nbsp;give&nbsp;up&nbsp;the&nbsp;memory&nbsp;to&nbsp;the&nbsp;abstract&nbsp;machine&nbsp;when&nbsp;it&nbsp;transitions&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span>.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;stack&nbsp;allocation,&nbsp;there&nbsp;is&nbsp;nothing&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;here,&nbsp;but&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">new</span></span>,&nbsp;the&nbsp;memory&nbsp;must&nbsp;be&nbsp;given&nbsp;up.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;C++&nbsp;standard&nbsp;has&nbsp;many&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;(see<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://eel.is/c++draft/dcl.init&gt;).&nbsp;The&nbsp;Clang&nbsp;frontend&nbsp;(and&nbsp;therefore&nbsp;our<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AST)&nbsp;implements&nbsp;the&nbsp;different&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;through&nbsp;elaboration.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;example,&nbsp;in&nbsp;aggregate&nbsp;pass-by-value&nbsp;the&nbsp;standard&nbsp;states&nbsp;that&nbsp;copy<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialization&nbsp;&lt;https://eel.is/c++draft/dcl.initgeneral-14> is used;
     however, the BRiCk AST contains an explicit [Econstructor] in the AST to
     represent this. This seems necessary to have a uniform representation of
     the various evoluations of initialization between different standards, e.g.
     C++14, C++17, etc.

     NOTE: this is morally [M unit], but we inline the definition of [M] and
     ellide the [unit] value. *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp_init" class="idref" href="#WPE.with_cpp.wp_init"><span class="id" title="variable">wp_init</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:414" class="idref" href="#resolve:414"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.core.html#exprtype"><span class="id" title="abbreviation">exprtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_init&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_init_shift" class="idref" href="#WPE.with_cpp.wp_init_shift"><span class="id" title="variable">wp_init_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="c7a40afd53d2eb4c651c5b06459a0552" class="idref" href="#c7a40afd53d2eb4c651c5b06459a0552"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:418" class="idref" href="#tu:418"><span class="id" title="binder">tu</span></a> <a id="5d521af8687bb5409a8be4dc53d4f1dc" class="idref" href="#5d521af8687bb5409a8be4dc53d4f1dc"><span class="id" title="binder">ρ</span></a> <a id="ty:420" class="idref" href="#ty:420"><span class="id" title="binder">ty</span></a> <a id="p:421" class="idref" href="#p:421"><span class="id" title="binder">p</span></a> <a id="e:422" class="idref" href="#e:422"><span class="id" title="binder">e</span></a> <a id="Q:423" class="idref" href="#Q:423"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:418"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5d521af8687bb5409a8be4dc53d4f1dc"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:420"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:422"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="frees:424" class="idref" href="#frees:424"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:423"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:424"><span class="id" title="variable">frees</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:418"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5d521af8687bb5409a8be4dc53d4f1dc"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:420"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:421"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:422"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:423"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_init_models" class="idref" href="#WPE.with_cpp.wp_init_models"><span class="id" title="variable">wp_init_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="ed75d0b17faf6bbeeed4d5d31c08ad45" class="idref" href="#ed75d0b17faf6bbeeed4d5d31c08ad45"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:428" class="idref" href="#tu:428"><span class="id" title="binder">tu</span></a> <a id="ty:429" class="idref" href="#ty:429"><span class="id" title="binder">ty</span></a> <a id="019c6ad10e15681daf13f9a9af453485" class="idref" href="#019c6ad10e15681daf13f9a9af453485"><span class="id" title="binder">ρ</span></a> <a id="p:431" class="idref" href="#p:431"><span class="id" title="binder">p</span></a> <a id="e:432" class="idref" href="#e:432"><span class="id" title="binder">e</span></a> <a id="Q:433" class="idref" href="#Q:433"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:428"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:428"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#019c6ad10e15681daf13f9a9af453485"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:429"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:431"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:432"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:433"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:428"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#019c6ad10e15681daf13f9a9af453485"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:429"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:431"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:432"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:433"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_init_well_typed" class="idref" href="#WPE.with_cpp.wp_init_well_typed"><span class="id" title="variable">wp_init_well_typed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="ac5d14a1b229320f8b97b6552043c6fc" class="idref" href="#ac5d14a1b229320f8b97b6552043c6fc"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:437" class="idref" href="#tu:437"><span class="id" title="binder">tu</span></a> <a id="ty:438" class="idref" href="#ty:438"><span class="id" title="binder">ty</span></a> <a id="a818dc12130490e1613220c44171fd1b" class="idref" href="#a818dc12130490e1613220c44171fd1b"><span class="id" title="binder">ρ</span></a> <a id="p:440" class="idref" href="#p:440"><span class="id" title="binder">p</span></a> <a id="e:441" class="idref" href="#e:441"><span class="id" title="binder">e</span></a> <a id="Q:442" class="idref" href="#Q:442"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:437"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a818dc12130490e1613220c44171fd1b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:438"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:440"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:441"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="frees:443" class="idref" href="#frees:443"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.reference_to"><span class="id" title="axiom">reference_to</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:438"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:440"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:442"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:443"><span class="id" title="variable">frees</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:437"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a818dc12130490e1613220c44171fd1b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:438"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:440"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:441"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:442"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_init_frame" class="idref" href="#WPE.with_cpp.wp_init_frame"><span class="id" title="variable">wp_init_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="0268997fc7927f6d98368d9b15303052" class="idref" href="#0268997fc7927f6d98368d9b15303052"><span class="id" title="binder">σ</span></a> <a id="tu1:447" class="idref" href="#tu1:447"><span class="id" title="binder">tu1</span></a> <a id="tu2:448" class="idref" href="#tu2:448"><span class="id" title="binder">tu2</span></a> <a id="c03096c0afeb15af36c0f0232d015754" class="idref" href="#c03096c0afeb15af36c0f0232d015754"><span class="id" title="binder">ρ</span></a> <a id="ty:450" class="idref" href="#ty:450"><span class="id" title="binder">ty</span></a> <a id="p:451" class="idref" href="#p:451"><span class="id" title="binder">p</span></a> <a id="e:452" class="idref" href="#e:452"><span class="id" title="binder">e</span></a> <a id="k1:453" class="idref" href="#k1:453"><span class="id" title="binder">k1</span></a> <a id="k2:454" class="idref" href="#k2:454"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:447"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:448"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="fs:455" class="idref" href="#fs:455"><span class="id" title="binder">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:453"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:455"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:454"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:455"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:447"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c03096c0afeb15af36c0f0232d015754"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:450"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:451"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:452"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:453"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:448"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c03096c0afeb15af36c0f0232d015754"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:450"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:451"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:452"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:454"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Separate from <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init_frame"><span class="id" title="variable">wp_init_frame</span></a></span> because it'll likely have to be proved
  separately (by induction on the type equivalence).
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_init_type_equiv" class="idref" href="#WPE.with_cpp.wp_init_type_equiv"><span class="id" title="variable">wp_init_type_equiv</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="b3783e3bbc35d4cc5bd36b7dce5814cd" class="idref" href="#b3783e3bbc35d4cc5bd36b7dce5814cd"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>) <a id="tu:459" class="idref" href="#tu:459"><span class="id" title="binder">tu</span></a> <a id="32b919da5bba4a6cf54f8aaeba5946bd" class="idref" href="#32b919da5bba4a6cf54f8aaeba5946bd"><span class="id" title="binder">ρ</span></a> <a id="ty1:461" class="idref" href="#ty1:461"><span class="id" title="binder">ty1</span></a> <a id="ty2:462" class="idref" href="#ty2:462"><span class="id" title="binder">ty2</span></a> <a id="p:463" class="idref" href="#p:463"><span class="id" title="binder">p</span></a> <a id="e:464" class="idref" href="#e:464"><span class="id" title="binder">e</span></a> <a id="Q:465" class="idref" href="#Q:465"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty1:461"><span class="id" title="variable">ty1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty2:462"><span class="id" title="variable">ty2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:459"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#32b919da5bba4a6cf54f8aaeba5946bd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty1:461"><span class="id" title="variable">ty1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:463"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:464"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:465"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:459"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#32b919da5bba4a6cf54f8aaeba5946bd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty2:462"><span class="id" title="variable">ty2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:463"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:464"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:465"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_init_proper" class="idref" href="#WPE.with_cpp.wp_init_proper"><span class="id" title="section">wp_init_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="c6e617e28aaaf87550904512617437f1" class="idref" href="#c6e617e28aaaf87550904512617437f1"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.PROPER" class="idref" href="#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <span class="id" title="var">T</span> <span class="id" title="var">R</span> := (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c6e617e28aaaf87550904512617437f1"><span class="id" title="variable">σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_init_ne" class="idref" href="#WPE.wp_init_ne"><span class="id" title="instance">wp_init_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:469" class="idref" href="#n:469"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:469"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_init_mono" class="idref" href="#WPE.wp_init_mono"><span class="id" title="instance">wp_init_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_entails"><span class="id" title="projection">bi_entails</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tu1</span> <span class="id" title="var">tu2</span> ? ρ?&lt;- <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Ht</span> <span class="id" title="var">p</span>?&lt;- <span class="id" title="var">e</span>?&lt;- <span class="id" title="var">Q1</span> <span class="id" title="var">Q2</span> <span class="id" title="var">HQ</span>. <span class="id" title="var">iIntros</span> "wp".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_type_equiv"><span class="id" title="axiom">wp_init_type_equiv</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] wp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="var">done</span>|]. <span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_init_flip_mono" class="idref" href="#WPE.wp_init_flip_mono"><span class="id" title="instance">wp_init_flip_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_entails"><span class="id" title="projection">bi_entails</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_mono"><span class="id" title="instance">wp_init_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_init_proper" class="idref" href="#WPE.wp_init_proper"><span class="id" title="instance">wp_init_proper</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">tu</span>?&lt;- ρ?&lt;- <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Ht</span> <span class="id" title="var">p</span>?&lt;- <span class="id" title="var">e</span>?&lt;- <span class="id" title="var">Q1</span> <span class="id" title="var">Q2</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_mono"><span class="id" title="instance">wp_init_mono</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init_proper"><span class="id" title="section">wp_init_proper</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_init" class="idref" href="#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="454467b7983890297026ed4bfc6d7248" class="idref" href="#454467b7983890297026ed4bfc6d7248"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_init.tu" class="idref" href="#WPE.with_cpp.wp_init.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="5177df966d518039fadcc9b95e674bb5" class="idref" href="#5177df966d518039fadcc9b95e674bb5"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="WPE.with_cpp.wp_init.ty" class="idref" href="#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="WPE.with_cpp.wp_init.p" class="idref" href="#WPE.with_cpp.wp_init.p"><span class="id" title="variable">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="WPE.with_cpp.wp_init.e" class="idref" href="#WPE.with_cpp.wp_init.e"><span class="id" title="variable">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5177df966d518039fadcc9b95e674bb5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.p"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_wand" class="idref" href="#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a id="Q1:476" class="idref" href="#Q1:476"><span class="id" title="binder">Q1</span></a> <a id="Q2:477" class="idref" href="#Q2:477"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:476"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="fs:478" class="idref" href="#fs:478"><span class="id" title="binder">fs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:476"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:478"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:477"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:478"><span class="id" title="variable">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:477"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_init" class="idref" href="#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a> <a id="Q:479" class="idref" href="#Q:479"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:479"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:479"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_fupd" class="idref" href="#WPE.wp_init_fupd"><span class="id" title="lemma">wp_init_fupd</span></a> <a id="Q:480" class="idref" href="#Q:480"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="fs:481" class="idref" href="#fs:481"><span class="id" title="binder">fs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:480"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:481"><span class="id" title="variable">fs</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:480"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_init" class="idref" href="#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a> <a id="q:482" class="idref" href="#q:482"><span class="id" title="binder">q</span></a> <a id="P:483" class="idref" href="#P:483"><span class="id" title="binder">P</span></a> <a id="Q:484" class="idref" href="#Q:484"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:482"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:483"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:483"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:484"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:484"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_init" class="idref" href="#WPE.elim_modal_bupd_wp_init"><span class="id" title="instance">elim_modal_bupd_wp_init</span></a> <a id="q:485" class="idref" href="#q:485"><span class="id" title="binder">q</span></a> <a id="P:486" class="idref" href="#P:486"><span class="id" title="binder">P</span></a> <a id="Q:487" class="idref" href="#Q:487"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:485"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:486"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:486"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:487"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:487"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_init" class="idref" href="#WPE.add_modal_fupd_wp_init"><span class="id" title="instance">add_modal_fupd_wp_init</span></a> <a id="P:488" class="idref" href="#P:488"><span class="id" title="binder">P</span></a> <a id="Q:489" class="idref" href="#Q:489"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:488"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:488"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:489"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_prval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_prval" class="idref" href="#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a> {<a id="resolve:490" class="idref" href="#resolve:490"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:491" class="idref" href="#tu:491"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="45aaf6988b3b421f7b79f391ffaa14ba" class="idref" href="#45aaf6988b3b421f7b79f391ffaa14ba"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:493" class="idref" href="#e:493"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) (<a id="Q:494" class="idref" href="#Q:494"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="p:495" class="idref" href="#p:495"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:491"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#45aaf6988b3b421f7b79f391ffaa14ba"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:493"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:495"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:493"><span class="id" title="variable">e</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:494"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:495"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_prval&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_prval_ne" class="idref" href="#WPE.wp_prval_ne"><span class="id" title="instance">wp_prval_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a0289c37eca9b62fbde78021e8f511d7" class="idref" href="#a0289c37eca9b62fbde78021e8f511d7"><span class="id" title="binder">σ</span></a> <a id="n:497" class="idref" href="#n:497"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:497"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:497"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a0289c37eca9b62fbde78021e8f511d7"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
TODO prove instances for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_operand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator"<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp_operand" class="idref" href="#WPE.with_cpp.wp_operand"><span class="id" title="variable">wp_operand</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:498" class="idref" href="#resolve:498"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_operand&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_operand_shift" class="idref" href="#WPE.with_cpp.wp_operand_shift"><span class="id" title="variable">wp_operand_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="a338e2a3669d77ac2b7b0c5c47e9c6cb" class="idref" href="#a338e2a3669d77ac2b7b0c5c47e9c6cb"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:502" class="idref" href="#tu:502"><span class="id" title="binder">tu</span></a> <a id="41f206f9d9d426097e0aefdd8726015d" class="idref" href="#41f206f9d9d426097e0aefdd8726015d"><span class="id" title="binder">ρ</span></a> <a id="e:504" class="idref" href="#e:504"><span class="id" title="binder">e</span></a> <a id="Q:505" class="idref" href="#Q:505"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:502"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#41f206f9d9d426097e0aefdd8726015d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:504"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:506" class="idref" href="#v:506"><span class="id" title="binder">v</span></a> <a id="free:507" class="idref" href="#free:507"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:505"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:506"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:507"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#a338e2a3669d77ac2b7b0c5c47e9c6cb"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:502"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#41f206f9d9d426097e0aefdd8726015d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:504"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:505"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_operand_models" class="idref" href="#WPE.with_cpp.wp_operand_models"><span class="id" title="variable">wp_operand_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="e4ad4ab85fd39efdd5791dc706ab33af" class="idref" href="#e4ad4ab85fd39efdd5791dc706ab33af"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:511" class="idref" href="#tu:511"><span class="id" title="binder">tu</span></a> <a id="ae46439db2af4a78e975d0986d028b3e" class="idref" href="#ae46439db2af4a78e975d0986d028b3e"><span class="id" title="binder">ρ</span></a> <a id="e:513" class="idref" href="#e:513"><span class="id" title="binder">e</span></a> <a id="Q:514" class="idref" href="#Q:514"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:511"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:511"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ae46439db2af4a78e975d0986d028b3e"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:513"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:514"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:511"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ae46439db2af4a78e975d0986d028b3e"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:513"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:514"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_operand_frame" class="idref" href="#WPE.with_cpp.wp_operand_frame"><span class="id" title="variable">wp_operand_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="b97bd48cfd2465ed808cd5eae2f00d56" class="idref" href="#b97bd48cfd2465ed808cd5eae2f00d56"><span class="id" title="binder">σ</span></a> <a id="tu1:518" class="idref" href="#tu1:518"><span class="id" title="binder">tu1</span></a> <a id="tu2:519" class="idref" href="#tu2:519"><span class="id" title="binder">tu2</span></a> <a id="b803e48b96d7638c06541085175a35a4" class="idref" href="#b803e48b96d7638c06541085175a35a4"><span class="id" title="binder">ρ</span></a> <a id="e:521" class="idref" href="#e:521"><span class="id" title="binder">e</span></a> <a id="k1:522" class="idref" href="#k1:522"><span class="id" title="binder">k1</span></a> <a id="k2:523" class="idref" href="#k2:523"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:518"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:519"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:524" class="idref" href="#v:524"><span class="id" title="binder">v</span></a> <a id="f:525" class="idref" href="#f:525"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:522"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:524"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:525"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:523"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:524"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:525"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b97bd48cfd2465ed808cd5eae2f00d56"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:518"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b803e48b96d7638c06541085175a35a4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:521"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:522"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b97bd48cfd2465ed808cd5eae2f00d56"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:519"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b803e48b96d7638c06541085175a35a4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:521"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:523"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
</div>

<div class="doc">
C++ evaluation semantics guarantees that all expressions of type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">t</span></a></span> that
      evaluate without UB evaluate to a well-typed value of type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#global_init.t"><span class="id" title="inductive">t</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_operand_well_typed" class="idref" href="#WPE.with_cpp.wp_operand_well_typed"><span class="id" title="variable">wp_operand_well_typed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="abadb598e4e199b6b4aacf5495bfda41" class="idref" href="#abadb598e4e199b6b4aacf5495bfda41"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:529" class="idref" href="#tu:529"><span class="id" title="binder">tu</span></a> <a id="22410e0478a10052148f2eea4381b989" class="idref" href="#22410e0478a10052148f2eea4381b989"><span class="id" title="binder">ρ</span></a> <a id="e:531" class="idref" href="#e:531"><span class="id" title="binder">e</span></a> <a id="Q:532" class="idref" href="#Q:532"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:529"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#22410e0478a10052148f2eea4381b989"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:531"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:533" class="idref" href="#v:533"><span class="id" title="binder">v</span></a> <a id="frees:534" class="idref" href="#frees:534"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:533"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:531"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:532"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:533"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:534"><span class="id" title="variable">frees</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:529"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#22410e0478a10052148f2eea4381b989"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:531"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:532"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_operand_proper" class="idref" href="#WPE.with_cpp.wp_operand_proper"><span class="id" title="section">wp_operand_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="a5b8ef5eabe39b482293745bf26f830c" class="idref" href="#a5b8ef5eabe39b482293745bf26f830c"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.PROPER" class="idref" href="#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <span class="id" title="var">M</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a5b8ef5eabe39b482293745bf26f830c"><span class="id" title="variable">σ</span></a>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_operand_ne" class="idref" href="#WPE.wp_operand_ne"><span class="id" title="instance">wp_operand_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:538" class="idref" href="#n:538"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:538"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_operand_mono" class="idref" href="#WPE.wp_operand_mono"><span class="id" title="instance">wp_operand_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X". <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_operand_flip_mono" class="idref" href="#WPE.wp_operand_flip_mono"><span class="id" title="instance">wp_operand_flip_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_mono"><span class="id" title="instance">wp_operand_mono</span></a> =&gt; //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_operand_proper" class="idref" href="#WPE.wp_operand_proper"><span class="id" title="instance">wp_operand_proper</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_mono"><span class="id" title="instance">wp_operand_mono</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; ??; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand_proper"><span class="id" title="section">wp_operand_proper</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_operand" class="idref" href="#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="0e4ba809311aa6e0ac7381798cdbed95" class="idref" href="#0e4ba809311aa6e0ac7381798cdbed95"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_operand.tu" class="idref" href="#WPE.with_cpp.wp_operand.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="5edd49b5864a9b015bcc057fa8cbd8ea" class="idref" href="#5edd49b5864a9b015bcc057fa8cbd8ea"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="WPE.with_cpp.wp_operand.e" class="idref" href="#WPE.with_cpp.wp_operand.e"><span class="id" title="variable">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5edd49b5864a9b015bcc057fa8cbd8ea"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_wand" class="idref" href="#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a id="Q1:543" class="idref" href="#Q1:543"><span class="id" title="binder">Q1</span></a> <a id="Q2:544" class="idref" href="#Q2:544"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:543"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:545" class="idref" href="#v:545"><span class="id" title="binder">v</span></a> <a id="f:546" class="idref" href="#f:546"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:543"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:545"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:546"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:544"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:545"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:546"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:544"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_operand" class="idref" href="#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a> <a id="Q:547" class="idref" href="#Q:547"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:547"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:547"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_fupd" class="idref" href="#WPE.wp_operand_fupd"><span class="id" title="lemma">wp_operand_fupd</span></a> <a id="Q:548" class="idref" href="#Q:548"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:549" class="idref" href="#v:549"><span class="id" title="binder">v</span></a> <a id="f:550" class="idref" href="#f:550"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:548"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:549"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:550"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:548"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_operand" class="idref" href="#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a> <a id="p:551" class="idref" href="#p:551"><span class="id" title="binder">p</span></a> <a id="P:552" class="idref" href="#P:552"><span class="id" title="binder">P</span></a> <a id="Q:553" class="idref" href="#Q:553"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:551"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:552"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:552"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:553"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:553"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_operand" class="idref" href="#WPE.elim_modal_bupd_wp_operand"><span class="id" title="instance">elim_modal_bupd_wp_operand</span></a> <a id="p:554" class="idref" href="#p:554"><span class="id" title="binder">p</span></a> <a id="P:555" class="idref" href="#P:555"><span class="id" title="binder">P</span></a> <a id="Q:556" class="idref" href="#Q:556"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:554"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:555"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:555"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:556"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:556"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_operand" class="idref" href="#WPE.add_modal_fupd_wp_operand"><span class="id" title="instance">add_modal_fupd_wp_operand</span></a> <a id="P:557" class="idref" href="#P:557"><span class="id" title="binder">P</span></a> <a id="Q:558" class="idref" href="#Q:558"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:557"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:557"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:558"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab174"></a><h2 class="section">boolean operands</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#example.Q"><span class="id" title="variable">Q</span></a></span> evaluates <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a></span> as an operand converting the value to a
      boolean before passing it to <span class="inlinecode"><a class="idref" href="bedrock.lang.bi.observe.html#example.Q"><span class="id" title="variable">Q</span></a></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_test" class="idref" href="#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> {<a id="6e3db2732c1d62bb9792f77a7d8cf690" class="idref" href="#6e3db2732c1d62bb9792f77a7d8cf690"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:560" class="idref" href="#tu:560"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>)  (<a id="6112684cd743a5d93265fdfe59224ee6" class="idref" href="#6112684cd743a5d93265fdfe59224ee6"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:562" class="idref" href="#e:562"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) (<a id="Q:563" class="idref" href="#Q:563"><span class="id" title="binder">Q</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:560"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6112684cd743a5d93265fdfe59224ee6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:562"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:564" class="idref" href="#v:564"><span class="id" title="binder">v</span></a> <a id="free:565" class="idref" href="#free:565"><span class="id" title="binder">free</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.is_true"><span class="id" title="definition">is_true</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:564"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:563"><span class="id" title="variable">Q</span></a> <span class="id" title="var">c</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:565"><span class="id" title="variable">free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.errors.html#Errors.ERROR"><span class="id" title="abbreviation">ERROR</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.is_true_None"><span class="id" title="record">is_true_None</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:564"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> : <span class="id" title="var">br_opacity</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> /.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_test_ne" class="idref" href="#WPE.wp_test_ne"><span class="id" title="instance">wp_test_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="abf0b36ec9588ee2ceabe9399e1e8b6f" class="idref" href="#abf0b36ec9588ee2ceabe9399e1e8b6f"><span class="id" title="binder">σ</span></a> <a id="n:567" class="idref" href="#n:567"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:567"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:567"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#abf0b36ec9588ee2ceabe9399e1e8b6f"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_test_frame" class="idref" href="#WPE.wp_test_frame"><span class="id" title="lemma">wp_test_frame</span></a> {<a id="c3eb4cbb3efb0764ee720e8a8054e535" class="idref" href="#c3eb4cbb3efb0764ee720e8a8054e535"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:569" class="idref" href="#tu:569"><span class="id" title="binder">tu</span></a> <a id="aeeadd9f4b10507a4f8ca34b3d2f22fa" class="idref" href="#aeeadd9f4b10507a4f8ca34b3d2f22fa"><span class="id" title="binder">ρ</span></a> <a id="test:571" class="idref" href="#test:571"><span class="id" title="binder">test</span></a> (<a id="Q:572" class="idref" href="#Q:572"><span class="id" title="binder">Q</span></a> <a id="Q':573" class="idref" href="#Q':573"><span class="id" title="binder">Q'</span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="b:574" class="idref" href="#b:574"><span class="id" title="binder">b</span></a> <a id="free:575" class="idref" href="#free:575"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:572"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:574"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:575"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':573"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:574"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:575"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:569"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#aeeadd9f4b10507a4f8ca34b3d2f22fa"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#test:571"><span class="id" title="variable">test</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:572"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:569"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#aeeadd9f4b10507a4f8ca34b3d2f22fa"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#test:571"><span class="id" title="variable">test</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':573"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Q".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab175"></a><h1 class="section">xvalues</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;an&nbsp;xvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp_xval" class="idref" href="#WPE.with_cpp.wp_xval"><span class="id" title="variable">wp_xval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:576" class="idref" href="#resolve:576"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_xval_shift" class="idref" href="#WPE.with_cpp.wp_xval_shift"><span class="id" title="variable">wp_xval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="5bf1cee279b283248e2594c8a52b2c55" class="idref" href="#5bf1cee279b283248e2594c8a52b2c55"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:580" class="idref" href="#tu:580"><span class="id" title="binder">tu</span></a> <a id="53b5a0ccd1ad15e4a5e95a548b3ca673" class="idref" href="#53b5a0ccd1ad15e4a5e95a548b3ca673"><span class="id" title="binder">ρ</span></a> <a id="e:582" class="idref" href="#e:582"><span class="id" title="binder">e</span></a> <a id="Q:583" class="idref" href="#Q:583"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:580"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#53b5a0ccd1ad15e4a5e95a548b3ca673"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:582"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:584" class="idref" href="#v:584"><span class="id" title="binder">v</span></a> <a id="free:585" class="idref" href="#free:585"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:583"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:584"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:585"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:580"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#53b5a0ccd1ad15e4a5e95a548b3ca673"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:582"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:583"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_xval_models" class="idref" href="#WPE.with_cpp.wp_xval_models"><span class="id" title="variable">wp_xval_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="9a5e0ef6eea911e5b6fa00e16456be86" class="idref" href="#9a5e0ef6eea911e5b6fa00e16456be86"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:589" class="idref" href="#tu:589"><span class="id" title="binder">tu</span></a> <a id="29356045c28b0f81987c78503475df7d" class="idref" href="#29356045c28b0f81987c78503475df7d"><span class="id" title="binder">ρ</span></a> <a id="e:591" class="idref" href="#e:591"><span class="id" title="binder">e</span></a> <a id="Q:592" class="idref" href="#Q:592"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:589"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:589"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#29356045c28b0f81987c78503475df7d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:591"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:592"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:589"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#29356045c28b0f81987c78503475df7d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:591"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:592"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_xval_frame" class="idref" href="#WPE.with_cpp.wp_xval_frame"><span class="id" title="variable">wp_xval_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="2a90979de69c0a93f62e52e2e34a2c70" class="idref" href="#2a90979de69c0a93f62e52e2e34a2c70"><span class="id" title="binder">σ</span></a> <a id="tu1:596" class="idref" href="#tu1:596"><span class="id" title="binder">tu1</span></a> <a id="tu2:597" class="idref" href="#tu2:597"><span class="id" title="binder">tu2</span></a> <a id="3628ef42b2f3c729286173681409bba2" class="idref" href="#3628ef42b2f3c729286173681409bba2"><span class="id" title="binder">ρ</span></a> <a id="e:599" class="idref" href="#e:599"><span class="id" title="binder">e</span></a> <a id="k1:600" class="idref" href="#k1:600"><span class="id" title="binder">k1</span></a> <a id="k2:601" class="idref" href="#k2:601"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:596"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:597"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:602" class="idref" href="#v:602"><span class="id" title="binder">v</span></a> <a id="f:603" class="idref" href="#f:603"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:600"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:602"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:603"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:601"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:602"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:603"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2a90979de69c0a93f62e52e2e34a2c70"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:596"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3628ef42b2f3c729286173681409bba2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:599"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:600"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2a90979de69c0a93f62e52e2e34a2c70"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:597"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3628ef42b2f3c729286173681409bba2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:599"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:601"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_xval_proper" class="idref" href="#WPE.with_cpp.wp_xval_proper"><span class="id" title="section">wp_xval_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="b70bc39a0b9f4631d0000b9329a9bfd6" class="idref" href="#b70bc39a0b9f4631d0000b9329a9bfd6"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.PROPER" class="idref" href="#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <span class="id" title="var">M</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_xval_ne" class="idref" href="#WPE.wp_xval_ne"><span class="id" title="instance">wp_xval_ne</span></a> <a id="n:607" class="idref" href="#n:607"><span class="id" title="binder">n</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:607"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_xval_mono" class="idref" href="#WPE.wp_xval_mono"><span class="id" title="instance">wp_xval_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X". <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_xval_flip_mono" class="idref" href="#WPE.wp_xval_flip_mono"><span class="id" title="instance">wp_xval_flip_mono</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_mono"><span class="id" title="instance">wp_xval_mono</span></a> =&gt; // ????; <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> =&gt; //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_xval_proper" class="idref" href="#WPE.wp_xval_proper"><span class="id" title="instance">wp_xval_proper</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.PROPER"><span class="id" title="abbreviation">PROPER</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_mono"><span class="id" title="instance">wp_xval_mono</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; ??; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval_proper"><span class="id" title="section">wp_xval_proper</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_xval" class="idref" href="#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="a828834317a3a0c48e18fe859fb9d398" class="idref" href="#a828834317a3a0c48e18fe859fb9d398"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_xval.tu" class="idref" href="#WPE.with_cpp.wp_xval.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="f954ce9247934de32355b50a45e0eaed" class="idref" href="#f954ce9247934de32355b50a45e0eaed"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="WPE.with_cpp.wp_xval.e" class="idref" href="#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f954ce9247934de32355b50a45e0eaed"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_wand" class="idref" href="#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a id="Q1:612" class="idref" href="#Q1:612"><span class="id" title="binder">Q1</span></a> <a id="Q2:613" class="idref" href="#Q2:613"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:612"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:614" class="idref" href="#v:614"><span class="id" title="binder">v</span></a> <a id="f:615" class="idref" href="#f:615"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:612"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:614"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:615"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:613"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:614"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:615"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:613"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_xval" class="idref" href="#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a> <a id="Q:616" class="idref" href="#Q:616"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:616"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:616"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_fupd" class="idref" href="#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a> <a id="Q:617" class="idref" href="#Q:617"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:618" class="idref" href="#v:618"><span class="id" title="binder">v</span></a> <a id="f:619" class="idref" href="#f:619"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:617"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:618"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:619"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:617"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_xval" class="idref" href="#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a> <a id="p:620" class="idref" href="#p:620"><span class="id" title="binder">p</span></a> <a id="P:621" class="idref" href="#P:621"><span class="id" title="binder">P</span></a> <a id="Q:622" class="idref" href="#Q:622"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:620"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:621"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:621"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:622"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:622"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_xval" class="idref" href="#WPE.elim_modal_bupd_wp_xval"><span class="id" title="instance">elim_modal_bupd_wp_xval</span></a> <a id="p:623" class="idref" href="#p:623"><span class="id" title="binder">p</span></a> <a id="P:624" class="idref" href="#P:624"><span class="id" title="binder">P</span></a> <a id="Q:625" class="idref" href="#Q:625"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:623"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:624"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:624"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:625"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:625"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_xval" class="idref" href="#WPE.add_modal_fupd_wp_xval"><span class="id" title="instance">add_modal_fupd_wp_xval</span></a> <a id="P:626" class="idref" href="#P:626"><span class="id" title="binder">P</span></a> <a id="Q:627" class="idref" href="#Q:627"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:626"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:626"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:627"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Opaque&nbsp;wrapper&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>:&nbsp;this&nbsp;represents&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>&nbsp;obtained&nbsp;by&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ValCat</span></span>&nbsp;mismatch&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">wp_glval</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval_mismatch" class="idref" href="#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> {<a id="resolve:628" class="idref" href="#resolve:628"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="r:629" class="idref" href="#r:629"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="vc:630" class="idref" href="#vc:630"><span class="id" title="binder">vc</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#ValCat"><span class="id" title="inductive">ValCat</span></a>) (<a id="e:631" class="idref" href="#e:631"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;a&nbsp;generalized&nbsp;lvalue&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;some&nbsp;cases&nbsp;we&nbsp;need&nbsp;to&nbsp;evaluate&nbsp;a&nbsp;glvalue.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;makes&nbsp;some&nbsp;weakest&nbsp;pre-condition&nbsp;axioms&nbsp;a&nbsp;bit&nbsp;shorter.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval" class="idref" href="#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> {<a id="4a0f4ec193059183096b38c7fb002dfe" class="idref" href="#4a0f4ec193059183096b38c7fb002dfe"><span class="id" title="binder">σ</span></a>} (<a id="tu:633" class="idref" href="#tu:633"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) <a id="9e0dc447fdc0e9415f5ffe98dea1d8bd" class="idref" href="#9e0dc447fdc0e9415f5ffe98dea1d8bd"><span class="id" title="binder">ρ</span></a> (<a id="e:635" class="idref" href="#e:635"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:635"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#4a0f4ec193059183096b38c7fb002dfe"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:633"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9e0dc447fdc0e9415f5ffe98dea1d8bd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:635"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#4a0f4ec193059183096b38c7fb002dfe"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:633"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9e0dc447fdc0e9415f5ffe98dea1d8bd"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:635"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">vc</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9e0dc447fdc0e9415f5ffe98dea1d8bd"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">vc</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:635"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_glval_ne" class="idref" href="#WPE.wp_glval_ne"><span class="id" title="instance">wp_glval_ne</span></a> <a id="1b357d9afcaffbd6be4becef787bfd9b" class="idref" href="#1b357d9afcaffbd6be4becef787bfd9b"><span class="id" title="binder">σ</span></a> <a id="n:637" class="idref" href="#n:637"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:637"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:637"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1b357d9afcaffbd6be4becef787bfd9b"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Note:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">wp_glval_shift</span></span> and <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_glval"><span class="id" title="lemma">fupd_wp_glval</span></a></span> are not sound without a later

</li>
</ul>
  credit in the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a></span> case

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">wp_glval_models</span></span> isn't sound without <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.typed.html#exprtype.exprtype.tu"><span class="id" title="variable">tu</span></a></span> in the

</li>
</ul>
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a></span> case
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_frame" class="idref" href="#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a> {<a id="7c97997e271f6f5e01200bfca43fc547" class="idref" href="#7c97997e271f6f5e01200bfca43fc547"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:639" class="idref" href="#tu1:639"><span class="id" title="binder">tu1</span></a> <a id="tu2:640" class="idref" href="#tu2:640"><span class="id" title="binder">tu2</span></a> <a id="r:641" class="idref" href="#r:641"><span class="id" title="binder">r</span></a> <a id="e:642" class="idref" href="#e:642"><span class="id" title="binder">e</span></a> <a id="Q:643" class="idref" href="#Q:643"><span class="id" title="binder">Q</span></a> <a id="Q':644" class="idref" href="#Q':644"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:639"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:640"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:645" class="idref" href="#v:645"><span class="id" title="binder">v</span></a> <a id="free:646" class="idref" href="#free:646"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:643"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:645"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:646"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':644"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:645"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:646"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:639"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:641"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:642"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:643"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:640"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:641"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:642"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':644"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a>. <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_glval" class="idref" href="#WPE.Proper_wp_glval"><span class="id" title="instance">Proper_wp_glval</span></a> <a id="cb6af5108f1d13e247a3bbf33bc9ec83" class="idref" href="#cb6af5108f1d13e247a3bbf33bc9ec83"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#cb6af5108f1d13e247a3bbf33bc9ec83"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_proper_prepare</span>. <span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_glval" class="idref" href="#WPE.with_cpp.wp_glval"><span class="id" title="section">wp_glval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="d1a19f8434edf57be9b1adba59f452ea" class="idref" href="#d1a19f8434edf57be9b1adba59f452ea"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_glval.tu" class="idref" href="#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="38813fa9e9466777da0562df2f4d3834" class="idref" href="#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.wp_glval" class="idref" href="#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.wp_lval" class="idref" href="#WPE.wp_lval"><span class="id" title="abbreviation">wp_lval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.wp_xval" class="idref" href="#WPE.wp_xval"><span class="id" title="abbreviation">wp_xval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_lval" class="idref" href="#WPE.wp_glval_lval"><span class="id" title="lemma">wp_glval_lval</span></a> <a id="e:651" class="idref" href="#e:651"><span class="id" title="binder">e</span></a> <a id="Q:652" class="idref" href="#Q:652"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:651"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:651"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:652"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="abbreviation">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:651"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:652"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_xval" class="idref" href="#WPE.wp_glval_xval"><span class="id" title="lemma">wp_glval_xval</span></a> <a id="e:653" class="idref" href="#e:653"><span class="id" title="binder">e</span></a> <a id="Q:654" class="idref" href="#Q:654"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:653"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:653"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:654"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="abbreviation">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:653"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:654"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_prval" class="idref" href="#WPE.wp_glval_prval"><span class="id" title="lemma">wp_glval_prval</span></a> <a id="e:655" class="idref" href="#e:655"><span class="id" title="binder">e</span></a> <a id="Q:656" class="idref" href="#Q:656"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:655"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:655"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:656"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_wand" class="idref" href="#WPE.wp_glval_wand"><span class="id" title="lemma">wp_glval_wand</span></a> <a id="e:657" class="idref" href="#e:657"><span class="id" title="binder">e</span></a> <a id="Q:658" class="idref" href="#Q:658"><span class="id" title="binder">Q</span></a> <a id="Q':659" class="idref" href="#Q':659"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:657"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:658"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:660" class="idref" href="#v:660"><span class="id" title="binder">v</span></a> <a id="free:661" class="idref" href="#free:661"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:658"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:660"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:661"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':659"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:660"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:661"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:657"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':659"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B". <span class="id" title="var">iRevert</span> "A". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_glval" class="idref" href="#WPE.fupd_wp_glval"><span class="id" title="lemma">fupd_wp_glval</span></a> <a id="e:662" class="idref" href="#e:662"><span class="id" title="binder">e</span></a> <a id="Q:663" class="idref" href="#Q:663"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:662"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:663"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:662"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:663"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a>. <span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "&gt;&gt;$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_fupd" class="idref" href="#WPE.wp_glval_fupd"><span class="id" title="lemma">wp_glval_fupd</span></a> <a id="e:664" class="idref" href="#e:664"><span class="id" title="binder">e</span></a> <a id="Q:665" class="idref" href="#Q:665"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:664"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:666" class="idref" href="#v:666"><span class="id" title="binder">v</span></a> <a id="f:667" class="idref" href="#f:667"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:665"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:666"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:667"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:664"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:665"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a>. <span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_glval" class="idref" href="#WPE.elim_modal_fupd_wp_glval"><span class="id" title="instance">elim_modal_fupd_wp_glval</span></a> <a id="p:668" class="idref" href="#p:668"><span class="id" title="binder">p</span></a> <a id="e:669" class="idref" href="#e:669"><span class="id" title="binder">e</span></a> <a id="P:670" class="idref" href="#P:670"><span class="id" title="binder">P</span></a> <a id="Q:671" class="idref" href="#Q:671"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:668"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:670"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:670"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:669"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:671"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:669"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:671"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_glval"><span class="id" title="lemma">fupd_wp_glval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_glval" class="idref" href="#WPE.elim_modal_bupd_wp_glval"><span class="id" title="instance">elim_modal_bupd_wp_glval</span></a> <a id="p:672" class="idref" href="#p:672"><span class="id" title="binder">p</span></a> <a id="e:673" class="idref" href="#e:673"><span class="id" title="binder">e</span></a> <a id="P:674" class="idref" href="#P:674"><span class="id" title="binder">P</span></a> <a id="Q:675" class="idref" href="#Q:675"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:672"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:674"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:674"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:673"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:675"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:673"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:675"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_glval"><span class="id" title="instance">elim_modal_fupd_wp_glval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_glval" class="idref" href="#WPE.add_modal_fupd_wp_glval"><span class="id" title="instance">add_modal_fupd_wp_glval</span></a> <a id="e:676" class="idref" href="#e:676"><span class="id" title="binder">e</span></a> <a id="P:677" class="idref" href="#P:677"><span class="id" title="binder">P</span></a> <a id="Q:678" class="idref" href="#Q:678"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:677"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:677"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:676"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:678"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_glval"><span class="id" title="lemma">fupd_wp_glval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval"><span class="id" title="section">wp_glval</span></a>.<br/>

<br/>
</div>

<div class="doc">
Discarded values.

<div class="paragraph"> </div>

      Sometimes expressions are evaluated only for their side-effects.
      https://eel.is/c++draft/exprcontext-2

      The definition [wp_discard] captures this and allows us to express some
      rules more concisely. The value category used to evaluate the expression
      is computed from the expression using [valcat_of].
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_discard" class="idref" href="#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="4727d1b78ad192ef6166d38cdf08ee10" class="idref" href="#4727d1b78ad192ef6166d38cdf08ee10"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp_discard.tu" class="idref" href="#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="e155ffaf02ea34a0d68d86051382f19d" class="idref" href="#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_discard" class="idref" href="#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> (<a id="e:683" class="idref" href="#e:683"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Expr"><span class="id" title="abbreviation">Expr</span></a>) (<a id="Q:684" class="idref" href="#Q:684"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:684"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ty:685" class="idref" href="#ty:685"><span class="id" title="binder">ty</span></a> := <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#is_value_type"><span class="id" title="definition">is_value_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:685"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="free:688" class="idref" href="#free:688"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:684"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:688"><span class="id" title="variable">free</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:686" class="idref" href="#p:686"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:686"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="frees:687" class="idref" href="#frees:687"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:684"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">FreeTemps.delete</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:685"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:686"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#3661e58f765c638206576597ccc57486"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:687"><span class="id" title="variable">frees</span></a>)%<span class="id" title="var">free</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:683"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:684"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_discard" class="idref" href="#WPE.fupd_wp_discard"><span class="id" title="lemma">fupd_wp_discard</span></a> <a id="e:689" class="idref" href="#e:689"><span class="id" title="binder">e</span></a> <a id="Q:690" class="idref" href="#Q:690"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:689"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:690"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:689"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:690"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">iIntros</span>  "&gt;$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_discard_fupd" class="idref" href="#WPE.wp_discard_fupd"><span class="id" title="lemma">wp_discard_fupd</span></a> <a id="e:691" class="idref" href="#e:691"><span class="id" title="binder">e</span></a> <a id="Q:692" class="idref" href="#Q:692"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:691"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="f:693" class="idref" href="#f:693"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:692"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:693"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:691"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:692"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_fupd"><span class="id" title="lemma">wp_operand_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_fupd"><span class="id" title="lemma">wp_init_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_discard" class="idref" href="#WPE.elim_modal_fupd_wp_discard"><span class="id" title="instance">elim_modal_fupd_wp_discard</span></a> <a id="p:694" class="idref" href="#p:694"><span class="id" title="binder">p</span></a> <a id="e:695" class="idref" href="#e:695"><span class="id" title="binder">e</span></a> <a id="P:696" class="idref" href="#P:696"><span class="id" title="binder">P</span></a> <a id="Q:697" class="idref" href="#Q:697"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:694"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:696"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:696"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:695"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:697"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:695"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:697"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_discard"><span class="id" title="lemma">fupd_wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_discard" class="idref" href="#WPE.elim_modal_bupd_wp_discard"><span class="id" title="instance">elim_modal_bupd_wp_discard</span></a> <a id="p:698" class="idref" href="#p:698"><span class="id" title="binder">p</span></a> <a id="e:699" class="idref" href="#e:699"><span class="id" title="binder">e</span></a> <a id="P:700" class="idref" href="#P:700"><span class="id" title="binder">P</span></a> <a id="Q:701" class="idref" href="#Q:701"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:698"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:700"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:700"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:699"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:701"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:699"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:701"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_discard"><span class="id" title="instance">elim_modal_fupd_wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_discard" class="idref" href="#WPE.add_modal_fupd_wp_discard"><span class="id" title="instance">add_modal_fupd_wp_discard</span></a> <a id="e:702" class="idref" href="#e:702"><span class="id" title="binder">e</span></a> <a id="P:703" class="idref" href="#P:703"><span class="id" title="binder">P</span></a> <a id="Q:704" class="idref" href="#Q:704"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:703"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:703"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:702"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:704"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_discard"><span class="id" title="lemma">fupd_wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_discard_ne" class="idref" href="#WPE.wp_discard_ne"><span class="id" title="instance">wp_discard_ne</span></a> <a id="8012e93088a96408a2c267a88415fa47" class="idref" href="#8012e93088a96408a2c267a88415fa47"><span class="id" title="binder">σ</span></a> <a id="n:706" class="idref" href="#n:706"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:706"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:706"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8012e93088a96408a2c267a88415fa47"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_discard_frame" class="idref" href="#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a> {<a id="ceb6a03dacb3b27396f716d6e86756c8" class="idref" href="#ceb6a03dacb3b27396f716d6e86756c8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:708" class="idref" href="#tu1:708"><span class="id" title="binder">tu1</span></a> <a id="tu2:709" class="idref" href="#tu2:709"><span class="id" title="binder">tu2</span></a> <a id="9649026a12217e3a6f8962f208d858e0" class="idref" href="#9649026a12217e3a6f8962f208d858e0"><span class="id" title="binder">ρ</span></a> <a id="e:711" class="idref" href="#e:711"><span class="id" title="binder">e</span></a> <a id="k1:712" class="idref" href="#k1:712"><span class="id" title="binder">k1</span></a> <a id="k2:713" class="idref" href="#k2:713"><span class="id" title="binder">k2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:708"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:709"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="f:714" class="idref" href="#f:714"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:712"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:714"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:713"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:714"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:708"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9649026a12217e3a6f8962f208d858e0"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:711"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:712"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:709"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9649026a12217e3a6f8962f208d858e0"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:711"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:713"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <span class="id" title="var">e</span>) =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "h" (<span class="id" title="var">v</span> <span class="id" title="var">f</span>) "x"; <span class="id" title="var">iApply</span> "h"; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iIntros</span> "h"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "h".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iIntros</span> "a b" (<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"b" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">p</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "b"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> "a".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "h" (<span class="id" title="var">v</span> <span class="id" title="var">f</span>) "x"; <span class="id" title="var">iApply</span> "h"; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_discard_mono" class="idref" href="#WPE.wp_discard_mono"><span class="id" title="instance">wp_discard_mono</span></a> <a id="69bdee5a55f01cbcc94030c3ca8fc2c8" class="idref" href="#69bdee5a55f01cbcc94030c3ca8fc2c8"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#69bdee5a55f01cbcc94030c3ca8fc2c8"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.wp_discard_flip_mono" class="idref" href="#WPE.wp_discard_flip_mono"><span class="id" title="instance">wp_discard_flip_mono</span></a> <a id="bdc6eff18e8c23c139caebe5be2200af" class="idref" href="#bdc6eff18e8c23c139caebe5be2200af"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bdc6eff18e8c23c139caebe5be2200af"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab176"></a><h1 class="section">Statements</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;statement&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp" class="idref" href="#WPE.with_cpp.wp"><span class="id" title="variable">wp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:717" class="idref" href="#resolve:717"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="abbreviation">Stmt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_ne" class="idref" href="#WPE.wp_ne"><span class="id" title="instance">wp_ne</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="72e708e7e024afe880949cd8b2815336" class="idref" href="#72e708e7e024afe880949cd8b2815336"><span class="id" title="binder">σ</span></a> <a id="n:721" class="idref" href="#n:721"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:721"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:721"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#72e708e7e024afe880949cd8b2815336"><span class="id" title="variable">σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_shift" class="idref" href="#WPE.with_cpp.wp_shift"><span class="id" title="variable">wp_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="bd6503b6e9c53bd3bd205003d6556847" class="idref" href="#bd6503b6e9c53bd3bd205003d6556847"><span class="id" title="binder">σ</span></a> <a id="tu:723" class="idref" href="#tu:723"><span class="id" title="binder">tu</span></a> <a id="75c78452d58b7b57b6439da9c91c86f7" class="idref" href="#75c78452d58b7b57b6439da9c91c86f7"><span class="id" title="binder">ρ</span></a> <a id="s:725" class="idref" href="#s:725"><span class="id" title="binder">s</span></a> <a id="Q:726" class="idref" href="#Q:726"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:723"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#75c78452d58b7b57b6439da9c91c86f7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:725"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:726"><span class="id" title="variable">Q</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#bd6503b6e9c53bd3bd205003d6556847"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:723"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#75c78452d58b7b57b6439da9c91c86f7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:725"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:726"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_models" class="idref" href="#WPE.with_cpp.wp_models"><span class="id" title="variable">wp_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="2a42a40a948598909944c9de5bd78e15" class="idref" href="#2a42a40a948598909944c9de5bd78e15"><span class="id" title="binder">σ</span></a> <a id="tu:730" class="idref" href="#tu:730"><span class="id" title="binder">tu</span></a> <a id="d34b0bd33f6e0cb03e189f8bacd310e6" class="idref" href="#d34b0bd33f6e0cb03e189f8bacd310e6"><span class="id" title="binder">ρ</span></a> <a id="s:732" class="idref" href="#s:732"><span class="id" title="binder">s</span></a> <a id="Q:733" class="idref" href="#Q:733"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:730"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:730"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d34b0bd33f6e0cb03e189f8bacd310e6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:732"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:733"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#2a42a40a948598909944c9de5bd78e15"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:730"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d34b0bd33f6e0cb03e189f8bacd310e6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:732"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:733"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_frame" class="idref" href="#WPE.with_cpp.wp_frame"><span class="id" title="variable">wp_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="86baf063bcd66f7594ac415ed2f1c3a7" class="idref" href="#86baf063bcd66f7594ac415ed2f1c3a7"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:737" class="idref" href="#tu1:737"><span class="id" title="binder">tu1</span></a> <a id="tu2:738" class="idref" href="#tu2:738"><span class="id" title="binder">tu2</span></a> <a id="9679f2f0bae6e68a0b636bf60da34965" class="idref" href="#9679f2f0bae6e68a0b636bf60da34965"><span class="id" title="binder">ρ</span></a> <a id="s:740" class="idref" href="#s:740"><span class="id" title="binder">s</span></a> (<a id="k1:741" class="idref" href="#k1:741"><span class="id" title="binder">k1</span></a> <a id="k2:742" class="idref" href="#k2:742"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:737"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:738"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:743" class="idref" href="#rt:743"><span class="id" title="binder">rt</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:741"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:743"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:742"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:743"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:737"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9679f2f0bae6e68a0b636bf60da34965"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:740"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:741"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:738"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9679f2f0bae6e68a0b636bf60da34965"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:740"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:742"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp" class="idref" href="#WPE.Proper_wp"><span class="id" title="instance">Proper_wp</span></a> {<a id="09e55b7d45175020788a194cef85fe80" class="idref" href="#09e55b7d45175020788a194cef85fe80"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#09e55b7d45175020788a194cef85fe80"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">rt</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp" class="idref" href="#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="50ddedb0045cc2d4465d775f34dc22ec" class="idref" href="#50ddedb0045cc2d4465d775f34dc22ec"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="WPE.with_cpp.wp.tu" class="idref" href="#WPE.with_cpp.wp.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="f044a0fb97bd5ae8e836995ef1ec84c7" class="idref" href="#f044a0fb97bd5ae8e836995ef1ec84c7"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="WPE.with_cpp.wp.s" class="idref" href="#WPE.with_cpp.wp.s"><span class="id" title="variable">s</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="abbreviation">Stmt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f044a0fb97bd5ae8e836995ef1ec84c7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp.s"><span class="id" title="variable">s</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_wand" class="idref" href="#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> (<a id="k1:751" class="idref" href="#k1:751"><span class="id" title="binder">k1</span></a> <a id="k2:752" class="idref" href="#k2:752"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:751"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:753" class="idref" href="#rt:753"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:751"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:753"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:752"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:753"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:752"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp Hk". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">k1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hk] Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp" class="idref" href="#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> <a id="k:754" class="idref" href="#k:754"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:754"><span class="id" title="variable">k</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:754"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "X". <span class="id" title="var">iModIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fupd" class="idref" href="#WPE.wp_fupd"><span class="id" title="lemma">wp_fupd</span></a> <a id="k:755" class="idref" href="#k:755"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:755"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:755"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp" class="idref" href="#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a> <a id="p:756" class="idref" href="#p:756"><span class="id" title="binder">p</span></a> <a id="P:757" class="idref" href="#P:757"><span class="id" title="binder">P</span></a> <a id="k:758" class="idref" href="#k:758"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:756"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:757"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:757"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:758"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:758"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp" class="idref" href="#WPE.elim_modal_bupd_wp"><span class="id" title="instance">elim_modal_bupd_wp</span></a> <a id="p:759" class="idref" href="#p:759"><span class="id" title="binder">p</span></a> <a id="P:760" class="idref" href="#P:760"><span class="id" title="binder">P</span></a> <a id="k:761" class="idref" href="#k:761"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:759"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:760"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:760"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:761"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:761"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp" class="idref" href="#WPE.add_modal_fupd_wp"><span class="id" title="instance">add_modal_fupd_wp</span></a> <a id="P:762" class="idref" href="#P:762"><span class="id" title="binder">P</span></a> <a id="k:763" class="idref" href="#k:763"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:762"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:762"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:763"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;is&nbsp;the&nbsp;low-level&nbsp;specification&nbsp;of&nbsp;C++&nbsp;code&nbsp;blocks.<br/>
&nbsp;&nbsp;&nbsp;*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;<span class="inlinecode"><span class="id" title="var">addr</span></span>&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;entry&nbsp;point&nbsp;of&nbsp;the&nbsp;code.<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;note:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">ptr</span></span>&nbsp;will&nbsp;be&nbsp;related&nbsp;to&nbsp;the&nbsp;register&nbsp;set.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.with_cpp.wp_fptr" class="idref" href="#WPE.with_cpp.wp_fptr"><span class="id" title="variable">wp_fptr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="tt:764" class="idref" href="#tt:764"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="fun_type:765" class="idref" href="#fun_type:765"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) <span class="comment">(*&nbsp;TODO:&nbsp;function&nbsp;type&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="addr:766" class="idref" href="#addr:766"><span class="id" title="binder">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ls:767" class="idref" href="#ls:767"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="Q:768" class="idref" href="#Q:768"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;(bind&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;last&nbsp;for&nbsp;consistency&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">NonExpansive</span></span>).&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_fptr_ne" class="idref" href="#WPE.wp_fptr_ne"><span class="id" title="instance">wp_fptr_ne</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:771" class="idref" href="#n:771"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:771"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:771"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <span class="id" title="var">t</span> <span class="id" title="var">ft</span> <span class="id" title="var">addr</span> <span class="id" title="var">ls</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_fptr_complete_type" class="idref" href="#WPE.with_cpp.wp_fptr_complete_type"><span class="id" title="variable">wp_fptr_complete_type</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:776" class="idref" href="#te:776"><span class="id" title="binder">te</span></a> <a id="ft:777" class="idref" href="#ft:777"><span class="id" title="binder">ft</span></a> <a id="a:778" class="idref" href="#a:778"><span class="id" title="binder">a</span></a> <a id="ls:779" class="idref" href="#ls:779"><span class="id" title="binder">ls</span></a> <a id="Q:780" class="idref" href="#Q:780"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:776"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:777"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:778"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:779"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:780"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:776"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:777"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:778"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:779"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:780"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="cc:781" class="idref" href="#cc:781"><span class="id" title="binder">cc</span></a> <a id="ar:782" class="idref" href="#ar:782"><span class="id" title="binder">ar</span></a> <a id="tret:783" class="idref" href="#tret:783"><span class="id" title="binder">tret</span></a> <a id="targs:784" class="idref" href="#targs:784"><span class="id" title="binder">targs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:777"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> (@<a class="idref" href="bedrock.lang.cpp.syntax.core.html#FunctionType"><span class="id" title="constructor">FunctionType</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#cc:781"><span class="id" title="variable">cc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ar:782"><span class="id" title="variable">ar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tret:783"><span class="id" title="variable">tret</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#targs:784"><span class="id" title="variable">targs</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;type&nbsp;is&nbsp;callable&nbsp;against&nbsp;a&nbsp;type&nbsp;table&nbsp;if&nbsp;all&nbsp;of&nbsp;its&nbsp;arguments&nbsp;and&nbsp;return<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;are&nbsp;<span class="inlinecode"><span class="id" title="var">complete_type</span></span>s.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;effectively&nbsp;means&nbsp;that&nbsp;there&nbsp;is&nbsp;enough&nbsp;information&nbsp;to&nbsp;determine&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calling&nbsp;convention.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.callable_type" class="idref" href="#WPE.callable_type"><span class="id" title="definition">callable_type</span></a> (<a id="tt:787" class="idref" href="#tt:787"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="t:788" class="idref" href="#t:788"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:788"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <span class="id" title="var">ft</span> =&gt; <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:787"><span class="id" title="variable">tt</span></a> <span class="id" title="var">ft</span>.(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#ft_return"><span class="id" title="projection">ft_return</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Lists.List.html#Forall"><span class="id" title="inductive">List.Forall</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:787"><span class="id" title="variable">tt</span></a>) <span class="id" title="var">ft</span>.(<a class="idref" href="bedrock.lang.cpp.syntax.core.html#ft_params"><span class="id" title="projection">ft_params</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;states&nbsp;that&nbsp;the&nbsp;type&nbsp;environment&nbsp;for&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">wp_fptr</span></span>&nbsp;can&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;narrowed&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>&nbsp;is&nbsp;smaller&nbsp;than<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;type&nbsp;environment&nbsp;(<span class="inlinecode"><span class="id" title="var">big</span></span>/<span class="inlinecode"><span class="id" title="var">tt1</span></span>),&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">ft</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;still&nbsp;a&nbsp;*complete&nbsp;type*&nbsp;in&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;This&nbsp;is&nbsp;informally&nbsp;justified&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;(in&nbsp;the&nbsp;absence<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;ODR)&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;is&nbsp;encapsulated&nbsp;and&nbsp;only<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;public&nbsp;interface&nbsp;(the&nbsp;type)&nbsp;is&nbsp;needed&nbsp;to&nbsp;know&nbsp;how&nbsp;to&nbsp;call&nbsp;the&nbsp;function.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_fptr_strengthen" class="idref" href="#WPE.with_cpp.wp_fptr_strengthen"><span class="id" title="variable">wp_fptr_strengthen</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt1:790" class="idref" href="#tt1:790"><span class="id" title="binder">tt1</span></a> <a id="tt2:791" class="idref" href="#tt2:791"><span class="id" title="binder">tt2</span></a> <a id="ft:792" class="idref" href="#ft:792"><span class="id" title="binder">ft</span></a> <a id="a:793" class="idref" href="#a:793"><span class="id" title="binder">a</span></a> <a id="ls:794" class="idref" href="#ls:794"><span class="id" title="binder">ls</span></a> <a id="Q:795" class="idref" href="#Q:795"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.callable_type"><span class="id" title="definition">callable_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:791"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:792"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:791"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:790"><span class="id" title="variable">tt1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:790"><span class="id" title="variable">tt1</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:792"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:793"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:794"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:795"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:791"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:792"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:793"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:794"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:795"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;is&nbsp;the&nbsp;standard&nbsp;rule&nbsp;of&nbsp;consequence&nbsp;for&nbsp;weakest<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pre-condition.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_fptr_frame_fupd" class="idref" href="#WPE.with_cpp.wp_fptr_frame_fupd"><span class="id" title="variable">wp_fptr_frame_fupd</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt1:798" class="idref" href="#tt1:798"><span class="id" title="binder">tt1</span></a> <a id="tt2:799" class="idref" href="#tt2:799"><span class="id" title="binder">tt2</span></a> <a id="ft:800" class="idref" href="#ft:800"><span class="id" title="binder">ft</span></a> <a id="a:801" class="idref" href="#a:801"><span class="id" title="binder">a</span></a> <a id="ls:802" class="idref" href="#ls:802"><span class="id" title="binder">ls</span></a> <a id="Q1:803" class="idref" href="#Q1:803"><span class="id" title="binder">Q1</span></a> <a id="Q2:804" class="idref" href="#Q2:804"><span class="id" title="binder">Q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#type_table_le"><span class="id" title="definition">type_table_le</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:798"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:799"><span class="id" title="variable">tt2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:805" class="idref" href="#v:805"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:803"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:805"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:804"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:805"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:798"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:800"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:801"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:802"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:803"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:799"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:800"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:801"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:802"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:804"><span class="id" title="variable">Q2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fptr_frame" class="idref" href="#WPE.wp_fptr_frame"><span class="id" title="lemma">wp_fptr_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:808" class="idref" href="#tt:808"><span class="id" title="binder">tt</span></a> <a id="ft:809" class="idref" href="#ft:809"><span class="id" title="binder">ft</span></a> <a id="a:810" class="idref" href="#a:810"><span class="id" title="binder">a</span></a> <a id="ls:811" class="idref" href="#ls:811"><span class="id" title="binder">ls</span></a> <a id="Q1:812" class="idref" href="#Q1:812"><span class="id" title="binder">Q1</span></a> <a id="Q2:813" class="idref" href="#Q2:813"><span class="id" title="binder">Q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:814" class="idref" href="#v:814"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:812"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:814"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:813"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:814"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:808"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:809"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:810"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:811"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:812"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:808"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:809"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:810"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:811"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:813"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame_fupd"><span class="id" title="axiom">wp_fptr_frame_fupd</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;following&nbsp;two&nbsp;axioms&nbsp;say&nbsp;that&nbsp;we&nbsp;can&nbsp;perform&nbsp;fupd's<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;around&nbsp;the&nbsp;weakeast&nbsp;pre-condition.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.wp_fptr_fupd" class="idref" href="#WPE.with_cpp.wp_fptr_fupd"><span class="id" title="variable">wp_fptr_fupd</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:815" class="idref" href="#te:815"><span class="id" title="binder">te</span></a> <a id="ft:816" class="idref" href="#ft:816"><span class="id" title="binder">ft</span></a> <a id="a:817" class="idref" href="#a:817"><span class="id" title="binder">a</span></a> <a id="ls:818" class="idref" href="#ls:818"><span class="id" title="binder">ls</span></a> <a id="Q:819" class="idref" href="#Q:819"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:815"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:816"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:817"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:818"><span class="id" title="variable">ls</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:820" class="idref" href="#v:820"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:819"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:820"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:815"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:816"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:817"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:818"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:819"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.with_cpp.fupd_spec" class="idref" href="#WPE.with_cpp.fupd_spec"><span class="id" title="variable">fupd_spec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:823" class="idref" href="#te:823"><span class="id" title="binder">te</span></a> <a id="ft:824" class="idref" href="#ft:824"><span class="id" title="binder">ft</span></a> <a id="a:825" class="idref" href="#a:825"><span class="id" title="binder">a</span></a> <a id="ls:826" class="idref" href="#ls:826"><span class="id" title="binder">ls</span></a> <a id="Q:827" class="idref" href="#Q:827"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:823"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:824"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:825"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:826"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:827"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:823"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:824"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:825"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:826"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:827"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fptr_shift" class="idref" href="#WPE.wp_fptr_shift"><span class="id" title="lemma">wp_fptr_shift</span></a> <a id="te:830" class="idref" href="#te:830"><span class="id" title="binder">te</span></a> <a id="ft:831" class="idref" href="#ft:831"><span class="id" title="binder">ft</span></a> <a id="a:832" class="idref" href="#a:832"><span class="id" title="binder">a</span></a> <a id="ls:833" class="idref" href="#ls:833"><span class="id" title="binder">ls</span></a> <a id="Q:834" class="idref" href="#Q:834"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:830"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:831"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:832"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:833"><span class="id" title="variable">ls</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:835" class="idref" href="#v:835"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:834"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:835"><span class="id" title="variable">v</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:830"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:831"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:832"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:833"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:834"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_spec"><span class="id" title="axiom">fupd_spec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_fupd"><span class="id" title="axiom">wp_fptr_fupd</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_fptr" class="idref" href="#WPE.Proper_wp_fptr"><span class="id" title="instance">Proper_wp_fptr</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:836" class="idref" href="#tt:836"><span class="id" title="binder">tt</span></a> <a id="ft:837" class="idref" href="#ft:837"><span class="id" title="binder">ft</span></a> <a id="a:838" class="idref" href="#a:838"><span class="id" title="binder">a</span></a> <a id="ls:839" class="idref" href="#ls:839"><span class="id" title="binder">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:836"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:837"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:838"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:839"><span class="id" title="variable">ls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame"><span class="id" title="lemma">wp_fptr_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iApply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_fptr" class="idref" href="#WPE.with_cpp.wp_fptr"><span class="id" title="section">wp_fptr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="WPE.with_cpp.wp_fptr.tt" class="idref" href="#WPE.with_cpp.wp_fptr.tt"><span class="id" title="variable">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>} {<a id="WPE.with_cpp.wp_fptr.tf" class="idref" href="#WPE.with_cpp.wp_fptr.tf"><span class="id" title="variable">tf</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>} (<a id="WPE.with_cpp.wp_fptr.addr" class="idref" href="#WPE.with_cpp.wp_fptr.addr"><span class="id" title="variable">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="WPE.with_cpp.wp_fptr.ls" class="idref" href="#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.tt"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.tf"><span class="id" title="variable">tf</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.ls"><span class="id" title="variable">ls</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fptr_wand_fupd" class="idref" href="#WPE.wp_fptr_wand_fupd"><span class="id" title="lemma">wp_fptr_wand_fupd</span></a> <a id="Q1:844" class="idref" href="#Q1:844"><span class="id" title="binder">Q1</span></a> <a id="Q2:845" class="idref" href="#Q2:845"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:844"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:846" class="idref" href="#v:846"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:844"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:846"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:845"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:846"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:845"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp HK".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame_fupd"><span class="id" title="axiom">wp_fptr_frame_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fptr_wand" class="idref" href="#WPE.wp_fptr_wand"><span class="id" title="lemma">wp_fptr_wand</span></a> <a id="Q1:847" class="idref" href="#Q1:847"><span class="id" title="binder">Q1</span></a> <a id="Q2:848" class="idref" href="#Q2:848"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:847"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:849" class="idref" href="#v:849"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:847"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:849"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:848"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:849"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:848"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp HK".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame"><span class="id" title="lemma">wp_fptr_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr"><span class="id" title="section">wp_fptr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr.tt"><span class="id" title="variable">tt</span></a></span> <span class="inlinecode"><span class="id" title="var">this_ty</span></span> <span class="inlinecode"><span class="id" title="var">fty</span></span> <span class="inlinecode">..</span> is the analogue of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr"><span class="id" title="section">wp_fptr</span></a></span> for member functions.

<div class="paragraph"> </div>

      NOTE this includes constructors and destructors.

<div class="paragraph"> </div>

      NOTE the current implementation desugars this to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr"><span class="id" title="section">wp_fptr</span></a></span> but this is not
           accurate according to the standard because a member function can not
           be cast to a regular function that takes an extra parameter.
           We could fix this by splitting <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_fptr"><span class="id" title="section">wp_fptr</span></a></span> more, but we are deferring that
           for now.

<div class="paragraph"> </div>

           In practice we assume that the AST is well-typed, so the only way to
           exploit this is to use <span class="inlinecode"><span class="id" title="var">reinterpret_cast</span>&lt;</span> <span class="inlinecode">&gt;</span> to cast a function pointer
           to an member pointer or vice versa.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_mfptr" class="idref" href="#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> (<a id="tt:850" class="idref" href="#tt:850"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="this_type:851" class="idref" href="#this_type:851"><span class="id" title="binder">this_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#exprtype"><span class="id" title="abbreviation">exprtype</span></a>) (<a id="fun_type:852" class="idref" href="#fun_type:852"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#functype"><span class="id" title="abbreviation">functype</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.base_logic.mpred.html#mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:850"><span class="id" title="variable">tt</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#this_type:851"><span class="id" title="variable">this_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fun_type:852"><span class="id" title="variable">fun_type</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;(bind&nbsp;<span class="inlinecode"><span class="id" title="var">n</span></span>&nbsp;last&nbsp;for&nbsp;consistency&nbsp;with&nbsp;<span class="inlinecode"><span class="id" title="var">NonExpansive</span></span>).&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="keyword">Instance</span> <a id="WPE.wp_mfptr_ne" class="idref" href="#WPE.wp_mfptr_ne"><span class="id" title="instance">wp_mfptr_ne</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="n:853" class="idref" href="#n:853"><span class="id" title="binder">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:853"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:853"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <span class="id" title="var">t</span> <span class="id" title="var">ft</span> <span class="id" title="var">addr</span> <span class="id" title="var">this</span> <span class="id" title="var">ls</span>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_mfptr_frame_fupd_strong" class="idref" href="#WPE.wp_mfptr_frame_fupd_strong"><span class="id" title="lemma">wp_mfptr_frame_fupd_strong</span></a> <a id="tt1:859" class="idref" href="#tt1:859"><span class="id" title="binder">tt1</span></a> <a id="tt2:860" class="idref" href="#tt2:860"><span class="id" title="binder">tt2</span></a> <a id="t:861" class="idref" href="#t:861"><span class="id" title="binder">t</span></a> <a id="t0:862" class="idref" href="#t0:862"><span class="id" title="binder">t0</span></a> <a id="v:863" class="idref" href="#v:863"><span class="id" title="binder">v</span></a> <a id="l:864" class="idref" href="#l:864"><span class="id" title="binder">l</span></a> <a id="Q1:865" class="idref" href="#Q1:865"><span class="id" title="binder">Q1</span></a> <a id="Q2:866" class="idref" href="#Q2:866"><span class="id" title="binder">Q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#type_table_le"><span class="id" title="definition">type_table_le</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:859"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:860"><span class="id" title="variable">tt2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:867" class="idref" href="#v:867"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:865"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:867"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:866"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:867"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:859"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:861"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:862"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:863"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:864"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:865"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:860"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:861"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:862"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:863"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:864"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:866"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame_fupd"><span class="id" title="axiom">wp_fptr_frame_fupd</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_mfptr_shift" class="idref" href="#WPE.wp_mfptr_shift"><span class="id" title="lemma">wp_mfptr_shift</span></a> <a id="tt:868" class="idref" href="#tt:868"><span class="id" title="binder">tt</span></a> <a id="t:869" class="idref" href="#t:869"><span class="id" title="binder">t</span></a> <a id="t0:870" class="idref" href="#t0:870"><span class="id" title="binder">t0</span></a> <a id="v:871" class="idref" href="#v:871"><span class="id" title="binder">v</span></a> <a id="l:872" class="idref" href="#l:872"><span class="id" title="binder">l</span></a> <a id="Q:873" class="idref" href="#Q:873"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:868"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:869"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:870"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:871"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:872"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:874" class="idref" href="#v:874"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:873"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:874"><span class="id" title="variable">v</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:868"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:869"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:870"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:871"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:872"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:873"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_shift"><span class="id" title="lemma">wp_fptr_shift</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_mfptr_frame" class="idref" href="#WPE.wp_mfptr_frame"><span class="id" title="lemma">wp_mfptr_frame</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="t:875" class="idref" href="#t:875"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="l:876" class="idref" href="#l:876"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:877" class="idref" href="#v:877"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="t0:878" class="idref" href="#t0:878"><span class="id" title="binder">t0</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="t1:879" class="idref" href="#t1:879"><span class="id" title="binder">t1</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="Q:880" class="idref" href="#Q:880"><span class="id" title="binder">Q</span></a> <a id="Q':881" class="idref" href="#Q':881"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:882" class="idref" href="#v:882"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:880"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:882"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':881"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:882"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:879"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:875"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:878"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:877"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:876"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:880"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:879"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:875"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:878"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:877"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:876"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':881"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame"><span class="id" title="lemma">wp_fptr_frame</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_mfptr_frame_fupd" class="idref" href="#WPE.wp_mfptr_frame_fupd"><span class="id" title="lemma">wp_mfptr_frame_fupd</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="t:883" class="idref" href="#t:883"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="l:884" class="idref" href="#l:884"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:885" class="idref" href="#v:885"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="t0:886" class="idref" href="#t0:886"><span class="id" title="binder">t0</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a>) (<a id="t1:887" class="idref" href="#t1:887"><span class="id" title="binder">t1</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="Q:888" class="idref" href="#Q:888"><span class="id" title="binder">Q</span></a> <a id="Q':889" class="idref" href="#Q':889"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:890" class="idref" href="#v:890"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:888"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:890"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':889"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:890"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:887"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:883"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:886"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:885"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:884"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:888"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:887"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:883"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:886"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:885"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:884"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':889"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr_frame_fupd"><span class="id" title="axiom">wp_fptr_frame_fupd</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Forbid rewriting in the <span class="inlinecode">`{<a class="idref" href="bedrock.lang.cpp.specs.functions.html#43a705d40096ef54c52f70536b49dc5b"><span class="id" title="variable">Σ</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.mpred.html#CPP_LOGIC_CLASS_MIXIN.cpp_logic"><span class="id" title="record">cpp_logic</span></a>,</span> <span class="inlinecode">σ</span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="record">genv</span></a>}</span> arguments.
Keep in sync with <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> instances. 
</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_test"><span class="id" title="definition">wp_test</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>) 4 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a>) 4 := {}.<br/>

<br/>
</div>

<div class="doc">
Also forbid rewriting in the extra arguments except the continuation.
Keep in sync with <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> instances.
TODO: maybe be more uniform in the future. 
</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_fptr"><span class="id" title="axiom">wp_fptr</span></a>) 7 := {}.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a>) 8 := {}.<br/>

<br/>
<span class="comment">(*&nbsp;DEPRECATIONS&nbsp;*)</span><br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="20241102",<span class="id" title="var">note</span>="use [wp_mfptr].")]<br/>
<span class="id" title="keyword">Notation</span> <a id="WPE.mspec" class="idref" href="#WPE.mspec"><span class="id" title="abbreviation">mspec</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr"><span class="id" title="definition">wp_mfptr</span></a>.<br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="20241102",<span class="id" title="var">note</span>="use [wp_mfptr_frame_fupd_strong].")]<br/>
<span class="id" title="keyword">Notation</span> <a id="WPE.mspec_frame_fupd_strong" class="idref" href="#WPE.mspec_frame_fupd_strong"><span class="id" title="abbreviation">mspec_frame_fupd_strong</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr_frame_fupd_strong"><span class="id" title="lemma">wp_mfptr_frame_fupd_strong</span></a>.<br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="20241102",<span class="id" title="var">note</span>="use [wp_mfptr_shift].")]<br/>
<span class="id" title="keyword">Notation</span> <a id="WPE.mspec_shift" class="idref" href="#WPE.mspec_shift"><span class="id" title="abbreviation">mspec_shift</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr_shift"><span class="id" title="lemma">wp_mfptr_shift</span></a>.<br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="20241102",<span class="id" title="var">note</span>="use [wp_mfptr_frame].")]<br/>
<span class="id" title="keyword">Notation</span> <a id="WPE.mspec_frame" class="idref" href="#WPE.mspec_frame"><span class="id" title="abbreviation">mspec_frame</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr_frame"><span class="id" title="lemma">wp_mfptr_frame</span></a>.<br/>
#[<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="20241102",<span class="id" title="var">note</span>="use [wp_mfptr_frame].")]<br/>
<span class="id" title="keyword">Notation</span> <a id="WPE.mspec_frame_fupd" class="idref" href="#WPE.mspec_frame_fupd"><span class="id" title="abbreviation">mspec_frame_fupd</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_mfptr_frame_fupd"><span class="id" title="lemma">wp_mfptr_frame_fupd</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>

<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="module">stdpp.coPset</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
