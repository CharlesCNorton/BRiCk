<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index for the theory </a>
      <a href="./toc.html"> Table of contents for the theory </a>
      <a href="../../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.heap_pred.everywhere</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2023-2024&nbsp;BlueRock&nbsp;Security,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prelude.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.prelude</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.rep_proofmode.html#"><span class="id" title="library">bedrock.lang.cpp.logic.rep_proofmode</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#"><span class="id" title="library">bedrock.lang.cpp.logic.arr</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.valid</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.null.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.null</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.simple.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.simple</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.aggregate</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.tptsto.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.tptsto</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.uninit.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.uninit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.prim.html#"><span class="id" title="library">bedrock.lang.cpp.logic.heap_pred.prim</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_cpp" class="idref" href="#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="43a705d40096ef54c52f70536b49dc5b" class="idref" href="#43a705d40096ef54c52f70536b49dc5b"><span class="id" title="variable">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} {<a id="0b1d3f605c206c3f68b5282befa8ad5b" class="idref" href="#0b1d3f605c206c3f68b5282befa8ad5b"><span class="id" title="variable">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;UPSTREAM&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="has_type_has_type_prop_observe" class="idref" href="#has_type_has_type_prop_observe"><span class="id" title="instance">has_type_has_type_prop_observe</span></a> <a id="v:5" class="idref" href="#v:5"><span class="id" title="binder">v</span></a> <a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type_prop"><span class="id" title="axiom">has_type_prop</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#v:5"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:6"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#v:5"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:6"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#L.has_type_has_type_prop"><span class="id" title="axiom">has_type_has_type_prop</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.m"><span class="id" title="abbreviation">m</span></a></span> <span class="inlinecode"><span class="id" title="var">q</span></span> is the ownership <span class="inlinecode"><span class="id" title="var">cQp.t</span></span> and the type used for a <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Member"><span class="id" title="abbreviation">Member</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mut_type" class="idref" href="#mut_type"><span class="id" title="definition">mut_type</span></a> (<a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Member"><span class="id" title="abbreviation">Member</span></a>) (<a id="q:8" class="idref" href="#q:8"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">cv</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="bedrock.lang.cpp.syntax.types.html#decompose_type"><span class="id" title="definition">decompose_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#m:7"><span class="id" title="variable">m</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_type"><span class="id" title="projection">mem_type</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="q:9" class="idref" href="#q:9"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#q_const"><span class="id" title="definition">q_const</span></a> <span class="id" title="var">cv</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#m:7"><span class="id" title="variable">m</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_mutable"><span class="id" title="projection">mem_mutable</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.c"><span class="id" title="abbreviation">cQp.c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:8"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:8"><span class="id" title="variable">q</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:9"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#to_heap_type"><span class="id" title="definition">to_heap_type</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mut_type_plus" class="idref" href="#mut_type_plus"><span class="id" title="lemma">mut_type_plus</span></a> <a id="f:10" class="idref" href="#f:10"><span class="id" title="binder">f</span></a> <a id="q1:11" class="idref" href="#q1:11"><span class="id" title="binder">q1</span></a> <a id="q2:12" class="idref" href="#q2:12"><span class="id" title="binder">q2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:10"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q1:11"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#d21a600f3f025f1a4c3b0cf7196136ed"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q2:12"><span class="id" title="variable">q2</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:10"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q1:11"><span class="id" title="variable">q1</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">).1</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#d21a600f3f025f1a4c3b0cf7196136ed"><span class="id" title="notation">+</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:10"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q2:12"><span class="id" title="variable">q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">).1</span></a>)%<span class="id" title="var">cQp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="var">case_match</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mut_type_plus_2" class="idref" href="#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a> <a id="f:13" class="idref" href="#f:13"><span class="id" title="binder">f</span></a> <a id="a:14" class="idref" href="#a:14"><span class="id" title="binder">a</span></a> <a id="b:15" class="idref" href="#b:15"><span class="id" title="binder">b</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:13"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:14"><span class="id" title="variable">a</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">).2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:13"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:15"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">).2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="var">case_match</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a></span> <span class="inlinecode"><span class="id" title="var">cv</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> applies the <code>const</code> qualifier from <span class="inlinecode"><span class="id" title="var">cv</span></span> to <span class="inlinecode"><span class="id" title="var">q</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="qualify" class="idref" href="#qualify"><span class="id" title="definition">qualify</span></a> (<a id="tq:16" class="idref" href="#tq:16"><span class="id" title="binder">tq</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#type_qualifiers"><span class="id" title="inductive">type_qualifiers</span></a>) (<a id="q:17" class="idref" href="#q:17"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#q_const"><span class="id" title="definition">q_const</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tq:16"><span class="id" title="variable">tq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.const"><span class="id" title="abbreviation">cQp.const</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:17"><span class="id" title="variable">q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="qualify_plus" class="idref" href="#qualify_plus"><span class="id" title="lemma">qualify_plus</span></a> <a id="t:18" class="idref" href="#t:18"><span class="id" title="binder">t</span></a> <a id="q1:19" class="idref" href="#q1:19"><span class="id" title="binder">q1</span></a> <a id="q2:20" class="idref" href="#q2:20"><span class="id" title="binder">q2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:18"><span class="id" title="variable">t</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q1:19"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#d21a600f3f025f1a4c3b0cf7196136ed"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q2:20"><span class="id" title="variable">q2</span></a>)%<span class="id" title="var">cQp</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:18"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q1:19"><span class="id" title="variable">q1</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#d21a600f3f025f1a4c3b0cf7196136ed"><span class="id" title="notation">+</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:18"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q2:20"><span class="id" title="variable">q2</span></a>)%<span class="id" title="var">cQp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a>/<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.add"><span class="id" title="definition">cQp.add</span></a>/=. <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="qualify_frac" class="idref" href="#qualify_frac"><span class="id" title="lemma">qualify_frac</span></a> <a id="q:21" class="idref" href="#q:21"><span class="id" title="binder">q</span></a> <a id="t:22" class="idref" href="#t:22"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.frac"><span class="id" title="projection">cQp.frac</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:22"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:21"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.frac"><span class="id" title="projection">cQp.frac</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:21"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a>. <span class="id" title="var">case_match</span>; <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="qualify_mut" class="idref" href="#qualify_mut"><span class="id" title="lemma">qualify_mut</span></a> <a id="q:23" class="idref" href="#q:23"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#QM"><span class="id" title="constructor">QM</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:23"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:23"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="qualify_merge_tq" class="idref" href="#qualify_merge_tq"><span class="id" title="lemma">qualify_merge_tq</span></a> <a id="cv1:24" class="idref" href="#cv1:24"><span class="id" title="binder">cv1</span></a> <a id="cv2:25" class="idref" href="#cv2:25"><span class="id" title="binder">cv2</span></a> <a id="t:26" class="idref" href="#t:26"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cv1:24"><span class="id" title="variable">cv1</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cv2:25"><span class="id" title="variable">cv2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:26"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.preliminary.html#merge_tq"><span class="id" title="definition">merge_tq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cv1:24"><span class="id" title="variable">cv1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cv2:25"><span class="id" title="variable">cv2</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:26"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cv1</span>, <span class="id" title="var">cv2</span> =&gt; /=; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="join_lists" class="idref" href="#join_lists"><span class="id" title="lemma">join_lists</span></a> {<a id="PROP:27" class="idref" href="#PROP:27"><span class="id" title="binder">PROP</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} {<a id="T:28" class="idref" href="#T:28"><span class="id" title="binder">T</span></a> <a id="U:29" class="idref" href="#U:29"><span class="id" title="binder">U</span></a>} (<a id="L:30" class="idref" href="#L:30"><span class="id" title="binder">L</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#T:28"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#PROP:27"><span class="id" title="variable">PROP</span></a>) (<a id="R':31" class="idref" href="#R':31"><span class="id" title="binder">R'</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#U:29"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#PROP:27"><span class="id" title="variable">PROP</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ls:32" class="idref" href="#ls:32"><span class="id" title="binder">ls</span></a> <a id="rs:33" class="idref" href="#rs:33"><span class="id" title="binder">rs</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="l:34" class="idref" href="#l:34"><span class="id" title="binder"><span id="l:35" class="id">l</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ls:32"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#L:30"><span class="id" title="variable">L</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#l:34"><span class="id" title="variable">l</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="r:36" class="idref" href="#r:36"><span class="id" title="binder"><span id="r:37" class="id">r</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rs:33"><span class="id" title="variable">rs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':31"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#r:36"><span class="id" title="variable">r</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="lr:38" class="idref" href="#lr:38"><span class="id" title="binder"><span id="lr:39" class="id">lr</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ls:32"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rs:33"><span class="id" title="variable">rs</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#lr:38"><span class="id" title="variable">lr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">l</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#L:30"><span class="id" title="variable">L</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':31"><span class="id" title="variable">R'</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.big_op.html#big_opL_app"><span class="id" title="lemma">big_opL_app</span></a> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.big_op.html#big_opL_fmap"><span class="id" title="lemma">big_opL_fmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;UPSTREAM&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">struct_def</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.wp_spec_compat.html#with_AR.R"><span class="id" title="variable">R</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#aggregate.cls"><span class="id" title="variable">cls</span></a></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> is the ownership of the class where <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.wp_spec_compat.html#with_AR.R"><span class="id" title="variable">R</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a></span> <span class="inlinecode"><span class="id" title="var">q</span></span> is
      owned for each field and base class

<div class="paragraph"> </div>

      TODO: the use of <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a></span> in <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.simple.html#derivationR"><span class="id" title="module">derivationR</span></a></span> is justified only because it can
            be weakened, but this should probably be changed so that it tracks
            the actual initialized state.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="struct_defR" class="idref" href="#struct_defR"><span class="id" title="definition">struct_defR</span></a> (<a id="R:41" class="idref" href="#R:41"><span class="id" title="binder">R</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a>) (<a id="cls:42" class="idref" href="#cls:42"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#globname"><span class="id" title="abbreviation">globname</span></a>) (<a id="st:43" class="idref" href="#st:43"><span class="id" title="binder">st</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Struct"><span class="id" title="abbreviation">Struct</span></a>) (<a id="q:44" class="idref" href="#q:44"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">[**</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">list</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">]</span></a> <a id="base:45" class="idref" href="#base:45"><span class="id" title="binder">base</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#st:43"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_bases"><span class="id" title="projection">s_bases</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._base"><span class="id" title="abbreviation">_base</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:42"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#base:45"><span class="id" title="variable">base</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:41"><span class="id" title="variable">R</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#base:45"><span class="id" title="variable">base</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:44"><span class="id" title="variable">q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">[**</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">list</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">]</span></a> <a id="fld:46" class="idref" href="#fld:46"><span class="id" title="binder">fld</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#st:43"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_fields"><span class="id" title="projection">s_fields</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#f8aff3df82459f81f0d215074d50e5d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f:47" class="idref" href="#f:47"><span class="id" title="binder">f</span></a> := <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Field"><span class="id" title="abbreviation">Field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:42"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#fld:46"><span class="id" title="variable">fld</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_name"><span class="id" title="projection">mem_name</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="qt:48" class="idref" href="#qt:48"><span class="id" title="binder">qt</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#fld:46"><span class="id" title="variable">fld</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:44"><span class="id" title="variable">q</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._field"><span class="id" title="abbreviation">_field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:47"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:41"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qt:48"><span class="id" title="variable">qt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qt:48"><span class="id" title="variable">qt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#has_vtable"><span class="id" title="definition">has_vtable</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#st:43"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.simple.html#derivationR"><span class="id" title="abbreviation">derivationR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:42"><span class="id" title="variable">cls</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:44"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#::stdpp_scope:'emp'"><span class="id" title="notation">emp</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#structR"><span class="id" title="abbreviation">structR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:42"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:44"><span class="id" title="variable">q</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">union_def</span></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.wp_spec_compat.html#with_AR.R"><span class="id" title="variable">R</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#aggregate.cls"><span class="id" title="variable">cls</span></a></span> <span class="inlinecode"><span class="id" title="var">st</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> is the ownership of the union where <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.specs.wp_spec_compat.html#with_AR.R"><span class="id" title="variable">R</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a></span> <span class="inlinecode"><span class="id" title="var">q</span></span> is
      owned for each field and base class 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="union_defR" class="idref" href="#union_defR"><span class="id" title="definition">union_defR</span></a> (<a id="R:49" class="idref" href="#R:49"><span class="id" title="binder">R</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a>) (<a id="cls:50" class="idref" href="#cls:50"><span class="id" title="binder">cls</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#globname"><span class="id" title="abbreviation">globname</span></a>) (<a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.decl.html#Union"><span class="id" title="abbreviation">decl.Union</span></a>) (<a id="q:52" class="idref" href="#q:52"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="o:53" class="idref" href="#o:53"><span class="id" title="binder">o</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#unionR"><span class="id" title="abbreviation">unionR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:50"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:52"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:53"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:53"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'emp'"><span class="id" title="notation">emp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">idx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="m:55" class="idref" href="#m:55"><span class="id" title="binder">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#st:51"><span class="id" title="variable">st</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#u_fields"><span class="id" title="projection">u_fields</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">idx</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#m:55"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f:56" class="idref" href="#f:56"><span class="id" title="binder">f</span></a> := <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM._field"><span class="id" title="abbreviation">_field</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Field"><span class="id" title="abbreviation">Field</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#cls:50"><span class="id" title="variable">cls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#m:55"><span class="id" title="variable">m</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#mem_name"><span class="id" title="projection">mem_name</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="qt:57" class="idref" href="#qt:57"><span class="id" title="binder">qt</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type"><span class="id" title="definition">mut_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#m:55"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:52"><span class="id" title="variable">q</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:56"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:49"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qt:57"><span class="id" title="variable">qt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qt:57"><span class="id" title="variable">qt</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#:::x_'.1'"><span class="id" title="notation">.1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="with_cpp.typeR" class="idref" href="#with_cpp.typeR"><span class="id" title="section">typeR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_cpp.typeR.tu" class="idref" href="#with_cpp.typeR.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_cpp.typeR.R" class="idref" href="#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_cpp.typeR.rec" class="idref" href="#with_cpp.typeR.rec"><span class="id" title="variable">rec</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a></span> visits all of the primitive objects of a given object

<div class="paragraph"> </div>

        This currently discards <code>volatile</code> qualifiers.

<div class="paragraph"> </div>

        NOTE: The implementation could/should use <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.types.html#with_lang.qual_norm"><span class="id" title="section">qual_norm</span></a></span>.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="typeR" class="idref" href="#typeR"><span class="id" title="definition">typeR</span></a> (<a id="q:64" class="idref" href="#q:64"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="t:65" class="idref" href="#t:65"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:65"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnum"><span class="id" title="constructor">Tnum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tbool"><span class="id" title="constructor">Tbool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tchar_"><span class="id" title="constructor">Tchar_</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tfloat_"><span class="id" title="constructor">Tfloat_</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnullptr"><span class="id" title="constructor">Tnullptr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tptr"><span class="id" title="constructor">Tptr</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tref"><span class="id" title="constructor">Tref</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Trv_ref"><span class="id" title="constructor">Trv_ref</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tenum"><span class="id" title="constructor">Tenum</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tmember_pointer"><span class="id" title="constructor">Tmember_pointer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tarch"><span class="id" title="constructor">Tarch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:64"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:65"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <span class="id" title="var">nm</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.tu"><span class="id" title="variable">tu</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">nm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <span class="id" title="var">s</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a> (<span class="id" title="keyword">fun</span> <a id="ty:68" class="idref" href="#ty:68"><span class="id" title="binder">ty</span></a> <a id="q:69" class="idref" href="#q:69"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.rec"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:69"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:68"><span class="id" title="variable">ty</span></a>) <span class="id" title="var">nm</span> <span class="id" title="var">s</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:64"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gunion"><span class="id" title="constructor">Gunion</span></a> <span class="id" title="var">u</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a> (<span class="id" title="keyword">fun</span> <a id="ty:70" class="idref" href="#ty:70"><span class="id" title="binder">ty</span></a> <a id="q:71" class="idref" href="#q:71"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.rec"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:71"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:70"><span class="id" title="variable">ty</span></a>) <span class="id" title="var">nm</span> <span class="id" title="var">u</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:64"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tarray"><span class="id" title="constructor">Tarray</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR"><span class="id" title="definition">arrayR</span></a> <span class="id" title="var">ty</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR:66"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:64"><span class="id" title="variable">q</span></a> <span class="id" title="var">ty</span>) (<span class="id" title="definition">replicateN</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tincomplete_array"><span class="id" title="constructor">Tincomplete_array</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tvariable_array"><span class="id" title="constructor">Tvariable_array</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <span class="id" title="var">tq</span> <span class="id" title="var">ty</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR:66"><span class="id" title="definition">typeR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <span class="id" title="var">tq</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:64"><span class="id" title="variable">q</span></a>) <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tunsupported"><span class="id" title="constructor">Tunsupported</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_global"><span class="id" title="constructor">Tresult_global</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tparam"><span class="id" title="constructor">Tparam</span></a> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_param"><span class="id" title="constructor">Tresult_param</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_unop"><span class="id" title="constructor">Tresult_unop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_binop"><span class="id" title="constructor">Tresult_binop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_call"><span class="id" title="constructor">Tresult_call</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> | <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_member_call"><span class="id" title="constructor">Tresult_member_call</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_member"><span class="id" title="constructor">Tresult_member</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tdecltype"><span class="id" title="constructor">Tdecltype</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Texprtype"><span class="id" title="constructor">Texprtype</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tresult_parenlist"><span class="id" title="constructor">Tresult_parenlist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="typeR_timeless" class="idref" href="#typeR_timeless"><span class="id" title="instance">typeR_timeless</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Trec:74" class="idref" href="#Trec:74"><span class="id" title="binder">Trec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:72" class="idref" href="#q:72"><span class="id" title="binder">q</span></a> <a id="ty:73" class="idref" href="#ty:73"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.rec"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:72"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:73"><span class="id" title="variable">ty</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:77" class="idref" href="#TprimR:77"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:75" class="idref" href="#q:75"><span class="id" title="binder">q</span></a> <a id="ty:76" class="idref" href="#ty:76"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:76"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:78" class="idref" href="#q:78"><span class="id" title="binder">q</span></a> <a id="ty:79" class="idref" href="#ty:79"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:78"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:79"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">q</span> <span class="id" title="var">ty</span>; <span class="id" title="var">revert</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*rewrite&nbsp;/struct_defR/union_defR.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat&nbsp;(case_match;&nbsp;refine&nbsp;_).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="typeR_valid" class="idref" href="#typeR_valid"><span class="id" title="instance">typeR_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:82" class="idref" href="#TprimR:82"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:80" class="idref" href="#q:80"><span class="id" title="binder">q</span></a> <a id="ty:81" class="idref" href="#ty:81"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#validR"><span class="id" title="definition">validR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:80"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:81"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:83" class="idref" href="#q:83"><span class="id" title="binder">q</span></a> <a id="ty:84" class="idref" href="#ty:84"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#validR"><span class="id" title="definition">validR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:83"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:84"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">q</span> <span class="id" title="var">ty</span>; <span class="id" title="var">revert</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="typeR_nonnull" class="idref" href="#typeR_nonnull"><span class="id" title="instance">typeR_nonnull</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TR:87" class="idref" href="#TR:87"><span class="id" title="binder">TR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:85" class="idref" href="#q:85"><span class="id" title="binder">q</span></a> <a id="ty:86" class="idref" href="#ty:86"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.null.html#nonnullR"><span class="id" title="abbreviation">nonnullR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:85"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:86"><span class="id" title="variable">ty</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:88" class="idref" href="#ty:88"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:88"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:89" class="idref" href="#q:89"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.null.html#nonnullR"><span class="id" title="abbreviation">nonnullR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:89"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:88"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.syntax.types.html#qual_norm"><span class="id" title="definition">qual_norm</span></a>/=. <span class="id" title="var">case_bool_decide</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>-&gt;: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#::N_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">N</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">replicateN_succ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_cons"><span class="id" title="lemma">arrayR_cons</span></a>. <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array_qual"><span class="id" title="lemma">zero_sized_array_qual</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="typeR_cfractional" class="idref" href="#typeR_cfractional"><span class="id" title="instance">typeR_cfractional</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Trec:92" class="idref" href="#Trec:92"><span class="id" title="binder">Trec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:90" class="idref" href="#ty:90"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<span class="id" title="keyword">fun</span> <a id="q:91" class="idref" href="#q:91"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.rec"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:91"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:90"><span class="id" title="variable">ty</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:95" class="idref" href="#TprimR:95"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:93" class="idref" href="#ty:93"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<span class="id" title="keyword">fun</span> <a id="q:94" class="idref" href="#q:94"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:94"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:93"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:96" class="idref" href="#ty:96"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<span class="id" title="keyword">fun</span> <a id="q:97" class="idref" href="#q:97"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:96"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> ([|]) "[[L R] A]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (?) "[% A]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus"><span class="id" title="lemma">mut_type_plus</span></a> <span class="id" title="var">Trec</span> <a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> "[La Ra]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "L La".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span> "%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span> "%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSplitL</span> "L". <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "[L R]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "L" <span class="id" title="keyword">as</span> (?) "[Lu L]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "R" <span class="id" title="keyword">as</span> (?) "[Ru R]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.aggregate.html#unionR_agree"><span class="id" title="instance">unionR_agree</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Lu Ru"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "%"; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "Lu Ru" <span class="id" title="keyword">as</span> "$".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "L" <span class="id" title="keyword">as</span> (?) "[% L]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "R" <span class="id" title="keyword">as</span> (?) "[% R]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="var">iFrame</span> "%".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus"><span class="id" title="lemma">mut_type_plus</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">q1</span> <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#d21a600f3f025f1a4c3b0cf7196136ed"><span class="id" title="notation">+</span></a> <span class="id" title="var">q2</span>) <span class="id" title="var">q2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Trec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>-&gt;: <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m0</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#cfractional_sep"><span class="id" title="instance">cfractional_sep</span></a>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#cfractional_big_sepL"><span class="id" title="instance">cfractional_big_sepL</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_cfractional"><span class="id" title="instance">_offsetR_cfractional</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus"><span class="id" title="lemma">mut_type_plus</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Trec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q1</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#mut_type_plus_2"><span class="id" title="lemma">mut_type_plus_2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">q2</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.simple.html#derivationR_cfractional"><span class="id" title="instance">derivationR_cfractional</span></a>. } } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify_plus"><span class="id" title="lemma">qualify_plus</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHty</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.typeR"><span class="id" title="section">typeR</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typeR_mono'" class="idref" href="#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a> <a id="R:98" class="idref" href="#R:98"><span class="id" title="binder">R</span></a> <a id="R':99" class="idref" href="#R':99"><span class="id" title="binder">R'</span></a> <a id="rec:100" class="idref" href="#rec:100"><span class="id" title="binder">rec</span></a> <a id="rec':101" class="idref" href="#rec':101"><span class="id" title="binder">rec'</span></a> <a id="tu:102" class="idref" href="#tu:102"><span class="id" title="binder">tu</span></a> <a id="tu':103" class="idref" href="#tu':103"><span class="id" title="binder">tu'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu:102"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu':103"><span class="id" title="variable">tu'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:104" class="idref" href="#ty:104"><span class="id" title="binder">ty</span></a> (<a id="o:105" class="idref" href="#o:105"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="q:106" class="idref" href="#q:106"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">(</span></a><a id="o:107" class="idref" href="#o:107"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="a:108" class="idref" href="#a:108"><span class="id" title="binder">a</span></a> <a id="b:109" class="idref" href="#b:109"><span class="id" title="binder">b</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:107"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:98"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:108"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:109"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:107"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':99"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:108"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:109"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">(</span></a><a id="o:110" class="idref" href="#o:110"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="a:111" class="idref" href="#a:111"><span class="id" title="binder">a</span></a> <a id="b:112" class="idref" href="#b:112"><span class="id" title="binder">b</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:110"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec:100"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:111"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:112"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:110"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec':101"><span class="id" title="variable">rec'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:111"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:112"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:105"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu:102"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:98"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec:100"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:106"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:104"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:105"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu':103"><span class="id" title="variable">tu'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':99"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec':101"><span class="id" title="variable">rec'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:106"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:104"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">iIntros</span> "#A #B";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">iApply</span> "A" | <span class="id" title="var">iIntros</span> "[]" ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="definition">replicateN</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Syntax.html#f5cb26d96fc0400fc3c881290947e554"><span class="id" title="notation">()</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_nil"><span class="id" title="lemma">arrayR_nil</span></a>. <span class="id" title="var">iIntros</span> "#? $". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_cons"><span class="id" title="lemma">arrayR_cons</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_offsetR"><span class="id" title="lemma">_offsetR_offsetR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#[H1 H2] [$ [L R]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "L".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <span class="id" title="var">IHty</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span>-&gt;: (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a> <span class="id" title="var">tu'</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">gn</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gunion"><span class="id" title="constructor">Gunion</span></a> <span class="id" title="var">u</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module_preserves_gunion"><span class="id" title="lemma">sub_module_preserves_gunion</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_exists"><span class="id" title="lemma">_offsetR_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> (<span class="id" title="var">which</span>) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> "[$ C]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_exists"><span class="id" title="lemma">_offsetR_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> (<span class="id" title="var">c</span>) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_offsetR"><span class="id" title="lemma">_offsetR_offsetR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> "[$ C]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "B"; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span>-&gt;: (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#types"><span class="id" title="projection">types</span></a> <span class="id" title="var">tu'</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">gn</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Gstruct"><span class="id" title="constructor">Gstruct</span></a> <span class="id" title="var">s</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module_preserves_gstruct"><span class="id" title="lemma">sub_module_preserves_gstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[X [Y [$ $]]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iStopProof</span>. <span class="id" title="tactic">induction</span> (<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_bases"><span class="id" title="projection">s_bases</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[#[X Y] [B C]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_offsetR"><span class="id" title="lemma">_offsetR_offsetR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "Y"; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "#∗". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iStopProof</span>. <span class="id" title="tactic">induction</span> (<a class="idref" href="bedrock.lang.cpp.syntax.decl.html#s_fields"><span class="id" title="projection">s_fields</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[#[X Y] [B C]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_offsetR"><span class="id" title="lemma">_offsetR_offsetR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "Y"; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "#∗". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <span class="id" title="var">IHty</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="typeR_mono" class="idref" href="#typeR_mono"><span class="id" title="lemma">typeR_mono</span></a> <a id="R:113" class="idref" href="#R:113"><span class="id" title="binder">R</span></a> <a id="R':114" class="idref" href="#R':114"><span class="id" title="binder">R'</span></a> <a id="rec:115" class="idref" href="#rec:115"><span class="id" title="binder">rec</span></a> <a id="rec':116" class="idref" href="#rec':116"><span class="id" title="binder">rec'</span></a> <a id="tu:117" class="idref" href="#tu:117"><span class="id" title="binder">tu</span></a> <a id="tu':118" class="idref" href="#tu':118"><span class="id" title="binder">tu'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu:117"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu':118"><span class="id" title="variable">tu'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:119" class="idref" href="#ty:119"><span class="id" title="binder">ty</span></a> <a id="q:120" class="idref" href="#q:120"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">(</span></a><a id="o:121" class="idref" href="#o:121"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="a:122" class="idref" href="#a:122"><span class="id" title="binder">a</span></a> <a id="b:123" class="idref" href="#b:123"><span class="id" title="binder">b</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:121"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:113"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:122"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:123"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:121"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':114"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:122"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:123"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">(</span></a><a id="o:124" class="idref" href="#o:124"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="a:125" class="idref" href="#a:125"><span class="id" title="binder">a</span></a> <a id="b:126" class="idref" href="#b:126"><span class="id" title="binder">b</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:124"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec:115"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:125"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:126"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:124"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec':116"><span class="id" title="variable">rec'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#a:125"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#b:126"><span class="id" title="variable">b</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu:117"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R:113"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec:115"><span class="id" title="variable">rec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:120"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:119"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tu':118"><span class="id" title="variable">tu'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#R':114"><span class="id" title="variable">R'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#rec':116"><span class="id" title="variable">rec'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:120"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:119"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#? #?".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_id"><span class="id" title="lemma">_offsetR_id</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) -(<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_id"><span class="id" title="lemma">_offsetR_id</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rec'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="with_cpp.everywhereR" class="idref" href="#with_cpp.everywhereR"><span class="id" title="section">everywhereR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_cpp.everywhereR.tu" class="idref" href="#with_cpp.everywhereR.tu"><span class="id" title="variable">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="with_cpp.everywhereR.R" class="idref" href="#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="everywhereR_f" class="idref" href="#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> (<a id="f:131" class="idref" href="#f:131"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">f</span>} : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.heap_types.html#Rtype"><span class="id" title="abbreviation">Rtype</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:131"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> (<span class="id" title="keyword">fun</span> <a id="ty:134" class="idref" href="#ty:134"><span class="id" title="binder">ty</span></a> <a id="q:135" class="idref" href="#q:135"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f:132"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:131"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:134"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:135"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="everywhereR_f_timeless" class="idref" href="#everywhereR_f_timeless"><span class="id" title="instance">everywhereR_f_timeless</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:138" class="idref" href="#TprimR:138"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:136" class="idref" href="#ty:136"><span class="id" title="binder">ty</span></a> <a id="q:137" class="idref" href="#q:137"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:137"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:136"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:139" class="idref" href="#f:139"><span class="id" title="binder">f</span></a> <a id="ty:140" class="idref" href="#ty:140"><span class="id" title="binder">ty</span></a> <a id="q:141" class="idref" href="#q:141"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:141"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:140"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_timeless"><span class="id" title="axiom">typeR_timeless</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="everywhereR_f_valid" class="idref" href="#everywhereR_f_valid"><span class="id" title="instance">everywhereR_f_valid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:144" class="idref" href="#TprimR:144"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:142" class="idref" href="#ty:142"><span class="id" title="binder">ty</span></a> <a id="q:143" class="idref" href="#q:143"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#validR"><span class="id" title="definition">validR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:143"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:142"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> <a id="ty:146" class="idref" href="#ty:146"><span class="id" title="binder">ty</span></a> <a id="q:147" class="idref" href="#q:147"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#validR"><span class="id" title="definition">validR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:147"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:146"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_valid"><span class="id" title="instance">typeR_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="everywhereR_f_nonnull" class="idref" href="#everywhereR_f_nonnull"><span class="id" title="instance">everywhereR_f_nonnull</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TR:150" class="idref" href="#TR:150"><span class="id" title="binder">TR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:148" class="idref" href="#q:148"><span class="id" title="binder">q</span></a> <a id="ty:149" class="idref" href="#ty:149"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.null.html#nonnullR"><span class="id" title="abbreviation">nonnullR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:148"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:149"><span class="id" title="variable">ty</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:151" class="idref" href="#f:151"><span class="id" title="binder">f</span></a> <a id="ty:152" class="idref" href="#ty:152"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="bedrock.lang.cpp.syntax.types.html#zero_sized_array"><span class="id" title="definition">zero_sized_array</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:152"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:153" class="idref" href="#q:153"><span class="id" title="binder">q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.observe.html#Observe"><span class="id" title="class">Observe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.null.html#nonnullR"><span class="id" title="abbreviation">nonnullR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:151"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:153"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:152"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_nonnull"><span class="id" title="instance">typeR_nonnull</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="everywhereR_f_cfractional" class="idref" href="#everywhereR_f_cfractional"><span class="id" title="instance">everywhereR_f_cfractional</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TprimR:156" class="idref" href="#TprimR:156"><span class="id" title="binder">TprimR</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="ty:154" class="idref" href="#ty:154"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<span class="id" title="keyword">fun</span> <a id="q:155" class="idref" href="#q:155"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:155"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:154"><span class="id" title="variable">ty</span></a>)) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f:157" class="idref" href="#f:157"><span class="id" title="binder">f</span></a> <a id="ty:158" class="idref" href="#ty:158"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.bi.cfractional.html#CFractional"><span class="id" title="class">CFractional</span></a> (<span class="id" title="keyword">fun</span> <a id="q:159" class="idref" href="#q:159"><span class="id" title="binder">q</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:157"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:159"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:158"><span class="id" title="variable">ty</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">refine</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_cfractional"><span class="id" title="instance">typeR_cfractional</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="everywhereR_f_mono'" class="idref" href="#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a> <a id="f:160" class="idref" href="#f:160"><span class="id" title="binder">f</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f':161" class="idref" href="#f':161"><span class="id" title="binder">f'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:160"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f':161"><span class="id" title="variable">f'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:162" class="idref" href="#q:162"><span class="id" title="binder">q</span></a> (<a id="o:163" class="idref" href="#o:163"><span class="id" title="binder">o</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a>) <a id="ty:164" class="idref" href="#ty:164"><span class="id" title="binder">ty</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:163"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:160"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:162"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:164"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#o:163"><span class="id" title="variable">o</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f':161"><span class="id" title="variable">f'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:162"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:164"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">f'</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (???). <span class="id" title="var">iApply</span> <span class="id" title="var">IHf</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="everywhereR" class="idref" href="#everywhereR"><span class="id" title="definition">everywhereR</span></a> <a id="q:165" class="idref" href="#q:165"><span class="id" title="binder">q</span></a> <a id="t:166" class="idref" href="#t:166"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#Rep"><span class="id" title="definition">Rep</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="f:167" class="idref" href="#f:167"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:167"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:165"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:166"><span class="id" title="variable">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="everywhereR_unfold" class="idref" href="#everywhereR_unfold"><span class="id" title="lemma">everywhereR_unfold</span></a> (<a id="q:168" class="idref" href="#q:168"><span class="id" title="binder">q</span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) <a id="ty:169" class="idref" href="#ty:169"><span class="id" title="binder">ty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR"><span class="id" title="definition">everywhereR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:168"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:169"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> (<span class="id" title="keyword">fun</span> <a id="q:170" class="idref" href="#q:170"><span class="id" title="binder">q</span></a> <a id="ty:171" class="idref" href="#ty:171"><span class="id" title="binder">ty</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR"><span class="id" title="definition">everywhereR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:170"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:171"><span class="id" title="variable">ty</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:168"><span class="id" title="variable">q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty:169"><span class="id" title="variable">ty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR"><span class="id" title="definition">everywhereR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "A"; <span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">q</span> <span class="id" title="var">ty</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono"><span class="id" title="lemma">typeR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iIntros</span> (???) "A"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span>; <span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ty</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">iIntros</span> "A"; <span class="id" title="var">iExists</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_eq"><span class="id" title="definition">arrayR_eq</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_def"><span class="id" title="definition">arrayR_def</span></a> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrR_eq"><span class="id" title="definition">arrR_eq</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrR_def"><span class="id" title="definition">arrR_def</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> "[V [S B]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="q:172" class="idref" href="#q:172"><span class="id" title="binder"><span id="q:189" class="id">q</span></span></a> <a id="ls:173" class="idref" href="#ls:173"><span class="id" title="binder"><span id="ls:190" class="id">ls</span></span></a> (<a id="O:174" class="idref" href="#O:174"><span class="id" title="binder"><span id="O:191" class="id">O</span></span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.offset"><span class="id" title="axiom">offset</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">]</span></a> <a id="i:175" class="idref" href="#i:175"><span class="id" title="binder"><span id="i:176" class="id"><span id="i:192" class="id"><span id="i:193" class="id">i</span></span></span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">↦</span></a><a id="Ri:177" class="idref" href="#Ri:177"><span class="id" title="binder"><span id="Ri:178" class="id"><span id="Ri:194" class="id"><span id="Ri:195" class="id">Ri</span></span></span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Syntax.html#fbbfb55f1ee0a61e0473fa0799e34e17"><span class="id" title="notation">()</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="q0:179" class="idref" href="#q0:179"><span class="id" title="binder"><span id="q0:196" class="id">q0</span></span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="ty0:180" class="idref" href="#ty0:180"><span class="id" title="binder"><span id="ty0:197" class="id">ty0</span></span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="f:181" class="idref" href="#f:181"><span class="id" title="binder"><span id="f:198" class="id">f</span></span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:181"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q0:179"><span class="id" title="variable">q0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty0:180"><span class="id" title="variable">ty0</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:172"><span class="id" title="variable">q</span></a> <span class="id" title="var">ty</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ls:173"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#O:174"><span class="id" title="variable">O</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#type_ptrR"><span class="id" title="definition">type_ptrR</span></a> <span class="id" title="var">ty</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#Ri:177"><span class="id" title="variable">Ri</span></a><a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">)</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="f:182" class="idref" href="#f:182"><span class="id" title="binder"><span id="f:199" class="id">f</span></span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">]</span></a> <a id="i:183" class="idref" href="#i:183"><span class="id" title="binder"><span id="i:184" class="id"><span id="i:200" class="id"><span id="i:201" class="id">i</span></span></span></span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">↦</span></a><a id="Ri:185" class="idref" href="#Ri:185"><span class="id" title="binder"><span id="Ri:186" class="id"><span id="Ri:202" class="id"><span id="Ri:203" class="id">Ri</span></span></span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">∈</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Program.Syntax.html#fbbfb55f1ee0a61e0473fa0799e34e17"><span class="id" title="notation">()</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR"><span class="id" title="definition">typeR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="q0:187" class="idref" href="#q0:187"><span class="id" title="binder"><span id="q0:204" class="id">q0</span></span></a> : <a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.t"><span class="id" title="record">cQp.t</span></a>) (<a id="ty0:188" class="idref" href="#ty0:188"><span class="id" title="binder"><span id="ty0:205" class="id">ty0</span></span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.core.html#type"><span class="id" title="abbreviation">type</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:182"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q0:187"><span class="id" title="variable">q0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ty0:188"><span class="id" title="variable">ty0</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:172"><span class="id" title="variable">q</span></a> <span class="id" title="var">ty</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#ls:173"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#9fd67f021b083c1fa15fefb44cfeb557"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#O:174"><span class="id" title="variable">O</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#i:183"><span class="id" title="variable">i</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.heap_pred.valid.html#type_ptrR"><span class="id" title="definition">type_ptrR</span></a> <span class="id" title="var">ty</span> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#Ri:185"><span class="id" title="variable">Ri</span></a><a class="idref" href="bedrock.lang.cpp.logic.rep_defs.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "_"; <span class="id" title="var">iExists</span> 0; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHls</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[[#A B] C]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> (<span class="id" title="var">f'</span>) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a> <span class="id" title="var">f</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <span class="id" title="var">f</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">max</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a> <span class="id" title="var">f'</span>)); <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHls</span> (<span class="id" title="keyword">fun</span> <a id="i:206" class="idref" href="#i:206"><span class="id" title="binder"><span id="i:207" class="id">i</span></span></a> =&gt; <span class="id" title="var">O</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#i:206"><span class="id" title="variable">i</span></a>)) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[C]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_fmap"><span class="id" title="lemma">big_sepL_fmap</span></a>. <span class="id" title="var">iClear</span> "A". <span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[$ A]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a>. <span class="id" title="tactic">reflexivity</span>. 3: <span class="id" title="var">iApply</span> "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "!&gt;" (???). <span class="id" title="var">iIntros</span> "A"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">eauto</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> "C" <span class="id" title="keyword">as</span> (<span class="id" title="var">ff</span>) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <span class="id" title="var">ff</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">max</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">max</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">`</span></a> <span class="id" title="var">f'</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.numbers.html#e62ea2843c95fa8ca59c052f6fbb206e"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>. <span class="id" title="var">iFrame</span> "#".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iClear</span> "A"; <span class="id" title="var">iStopProof</span>. <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (???). <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iClear</span> "A". <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#big_sepL_fmap"><span class="id" title="lemma">big_sepL_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.rep.html#_offsetR_sep"><span class="id" title="lemma">_offsetR_sep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#typeR_mono'"><span class="id" title="lemma">typeR_mono'</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "!&gt;" (???). <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a>. <span class="id" title="var">lia</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">H</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "B"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "B". <span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_eq"><span class="id" title="definition">arrayR_eq</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrayR_def"><span class="id" title="definition">arrayR_def</span></a> <a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrR_eq"><span class="id" title="definition">arrR_eq</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.arr.html#arrR_def"><span class="id" title="definition">arrR_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iFrame</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#length_fmap"><span class="id" title="lemma">length_fmap</span></a>. <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">iIntros</span> "[]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A"; <span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">o</span>) "[? A]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (?) "(%&amp;A)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">o</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iExists</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#union_defR"><span class="id" title="definition">union_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>. <span class="id" title="var">iFrame</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="f:208" class="idref" href="#f:208"><span class="id" title="binder"><span id="f:209" class="id">f</span></span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f"><span class="id" title="definition">everywhereR_f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#f:208"><span class="id" title="variable">f</span></a>) <span class="id" title="var">q</span> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tnamed"><span class="id" title="constructor">Tnamed</span></a> <span class="id" title="var">gn</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iDestruct</span> "X" <span class="id" title="keyword">as</span> (?) "?"; <span class="id" title="var">iExists</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>/<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#struct_defR"><span class="id" title="definition">struct_defR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[A[B $]]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iStopProof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#join_lists"><span class="id" title="lemma">join_lists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#join_lists"><span class="id" title="lemma">join_lists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="pat:210" class="idref" href="#pat:210"><span class="id" title="binder"><span id="pat:211" class="id">_</span></span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> ?<span class="id" title="var">L</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span> ] =&gt; <span class="id" title="tactic">induction</span> <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "_"; <span class="id" title="var">iExists</span> 0%<span class="id" title="var">nat</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[A B]"; <span class="id" title="var">iDestruct</span> "B" <span class="id" title="keyword">as</span> (<span class="id" title="var">f'</span>) "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iDestruct</span> "A" <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "A";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0+alpha/stdlib//Stdlib.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "A";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a>; [ | <span class="id" title="tactic">eauto</span> ]; <span class="id" title="var">lia</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">iStopProof</span>; <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_f_mono'"><span class="id" title="lemma">everywhereR_f_mono'</span></a>; <span class="id" title="var">lia</span> ]). } } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHty</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "A"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">f</span>) "A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="everywhereR_Tqualified" class="idref" href="#everywhereR_Tqualified"><span class="id" title="lemma">everywhereR_Tqualified</span></a> <a id="t:212" class="idref" href="#t:212"><span class="id" title="binder">t</span></a> <a id="tq:213" class="idref" href="#tq:213"><span class="id" title="binder">tq</span></a> <a id="q:214" class="idref" href="#q:214"><span class="id" title="binder">q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR"><span class="id" title="definition">everywhereR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:214"><span class="id" title="variable">q</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.core.html#Tqualified"><span class="id" title="constructor">Tqualified</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tq:213"><span class="id" title="variable">tq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:212"><span class="id" title="variable">t</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR"><span class="id" title="definition">everywhereR</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#qualify"><span class="id" title="definition">qualify</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#tq:213"><span class="id" title="variable">tq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#q:214"><span class="id" title="variable">q</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#t:212"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#everywhereR_unfold"><span class="id" title="lemma">everywhereR_unfold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp.everywhereR"><span class="id" title="section">everywhereR</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.everywhere.html#with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
