<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.algebra.authset</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(C)&nbsp;BedRock&nbsp;Systems&nbsp;Inc.&nbsp;2021<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#"><span class="id" title="library">stdpp.base</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.sets.html#"><span class="id" title="library">stdpp.sets</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#"><span class="id" title="library">stdpp.propset</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#"><span class="id" title="library">iris.algebra.cmra</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#"><span class="id" title="library">iris.algebra.excl</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.local_updates.html#"><span class="id" title="library">iris.algebra.local_updates</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.auth.html#"><span class="id" title="library">iris.algebra.auth</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.base_logic.base_logic.html#"><span class="id" title="library">iris.base_logic.base_logic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#"><span class="id" title="library">bedrock.lang.algebra.restrict</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
</div>

<div class="doc">
<a id="lab107"></a><h1 class="section">CMRA: Auth/frag splits on sets, with strengthening</h1>


<div class="paragraph"> </div>

  This CMRA exposes:
<a id="lab108"></a><h1 class="section">AuthSet.frag (s : propset A)</h1>

<a id="lab109"></a><h1 class="section">AuthSet.auth (s : propset A)</h1>

  such that
<a id="lab110"></a><h1 class="section">✓ (AuthSet.frag s1 ⋅ AuthSet.auth s2) &lt;-&gt; s1 ⊆ s2; and</h1>

<a id="lab111"></a><h1 class="section">AuthSet.frag s ~~&gt; AuthSet.frag s' when s' ⊆ s (removing elements</h1>

      from a frag set is frame preserving).
  The CMRA is built using the `restrict.v` framework.
  This CMRA is used in ``lang/base_logic/lib/auth_set.v``.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="propsetO" class="idref" href="#propsetO"><span class="id" title="definition">propsetO</span></a> (<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#ofe"><span class="id" title="record">ofe</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#discreteO"><span class="id" title="abbreviation">discreteO</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:1"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="_auth_setT" class="idref" href="#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <span class="id" title="var">A</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#prodR"><span class="id" title="definition">prodR</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#optionR"><span class="id" title="definition">optionR</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#exclR"><span class="id" title="definition">exclR</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#propsetO"><span class="id" title="definition">propsetO</span></a> <span class="id" title="var">A</span>))) (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#optionR"><span class="id" title="definition">optionR</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#exclR"><span class="id" title="definition">exclR</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#propsetO"><span class="id" title="definition">propsetO</span></a> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
<span class="id" title="keyword">Variant</span> <a id="AuthSet" class="idref" href="#AuthSet"><span class="id" title="inductive">AuthSet</span></a> : <span class="id" title="keyword">Type</span> :=.<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="auth_set'" class="idref" href="#auth_set'"><span class="id" title="definition">auth_set'</span></a> (<a id="A:4" class="idref" href="#A:4"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#wrapper"><span class="id" title="record">wrapper</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet"><span class="id" title="inductive">AuthSet</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:4"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Notation</span> <a id="auth_set" class="idref" href="#auth_set"><span class="id" title="abbreviation">auth_set</span></a> <span class="id" title="var">A</span> := (<a class="idref" href="bedrock.prelude.base.html#Reduce"><span class="id" title="abbreviation">Reduce</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#auth_set'"><span class="id" title="definition">auth_set'</span></a> <span class="id" title="var">A</span>)) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="with_Type" class="idref" href="#with_Type"><span class="id" title="section">with_Type</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="A:5" class="idref" href="#A:5"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>, <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">Countable</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">A</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#with_Type.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="auth_set_Restrictor" class="idref" href="#auth_set_Restrictor"><span class="id" title="definition">auth_set_Restrictor</span></a> <a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="s1:9" class="idref" href="#s1:9"><span class="id" title="binder">s1</span></a> <a id="s2:10" class="idref" href="#s2:10"><span class="id" title="binder">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:9"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:10"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:9"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:10"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="auth_set_cmra_restrict_ne" class="idref" href="#auth_set_cmra_restrict_ne"><span class="id" title="lemma">auth_set_cmra_restrict_ne</span></a> <a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#n:11"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_Restrictor"><span class="id" title="definition">auth_set_Restrictor</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">c</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">case</span> =&gt; /=; <span class="id" title="tactic">rewrite</span> -2!<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.ofe.html#discrete_iff"><span class="id" title="lemma">discrete_iff</span></a> =&gt; <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">h3</span> <span class="id" title="var">l1</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">h1</span> -<span class="id" title="var">h2</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="auth_set_cmra_restrict_op_l" class="idref" href="#auth_set_cmra_restrict_op_l"><span class="id" title="lemma">auth_set_cmra_restrict_op_l</span></a> <a id="n:12" class="idref" href="#n:12"><span class="id" title="binder">n</span></a> (<a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> <a id="y:14" class="idref" href="#y:14"><span class="id" title="binder">y</span></a> : <a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#with_Type.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#n:12"><span class="id" title="variable">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#y:14"><span class="id" title="variable">y</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_Restrictor"><span class="id" title="definition">auth_set_Restrictor</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#x:13"><span class="id" title="variable">x</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#y:14"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_Restrictor"><span class="id" title="definition">auth_set_Restrictor</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#x:13"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">x</span> =&gt; <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">y</span> =&gt; <span class="id" title="var">c</span> <span class="id" title="var">d</span> /=; <span class="id" title="tactic">case</span> =&gt; /= <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">h1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">h2</span> <span class="id" title="var">h3</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">h1</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h2</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">h3</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="auth_set_Restriction" class="idref" href="#auth_set_Restriction"><span class="id" title="instance">auth_set_Restriction</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#Restriction"><span class="id" title="class">Restriction</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet"><span class="id" title="inductive">AuthSet</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#with_Type.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#Build_Restriction"><span class="id" title="constructor">Build_Restriction</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet"><span class="id" title="inductive">AuthSet</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#with_Type.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_Restrictor"><span class="id" title="definition">auth_set_Restrictor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_cmra_restrict_ne"><span class="id" title="lemma">auth_set_cmra_restrict_ne</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_cmra_restrict_op_l"><span class="id" title="lemma">auth_set_cmra_restrict_op_l</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.algebra.authset.html#with_Type"><span class="id" title="section">with_Type</span></a>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="auth_setR" class="idref" href="#auth_setR"><span class="id" title="definition">auth_setR</span></a> (<a id="A:15" class="idref" href="#A:15"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#restrictR"><span class="id" title="definition">restrictR</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet"><span class="id" title="inductive">AuthSet</span></a> (<a class="idref" href="bedrock.lang.algebra.authset.html#_auth_setT"><span class="id" title="abbreviation">_auth_setT</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:15"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="AuthSet" class="idref" href="#AuthSet"><span class="id" title="module">AuthSet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.frag_def" class="idref" href="#AuthSet.frag_def"><span class="id" title="definition">frag_def</span></a> {<a id="A:16" class="idref" href="#A:16"><span class="id" title="binder">A</span></a>} (<a id="s1:17" class="idref" href="#s1:17"><span class="id" title="binder">s1</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:16"><span class="id" title="variable">A</span></a>) : <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set"><span class="id" title="abbreviation">auth_set</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:16"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#Wrap"><span class="id" title="constructor">Wrap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:17"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.frag_aux" class="idref" href="#AuthSet.frag_aux"><span class="id" title="definition">frag_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.frag_def"><span class="id" title="definition">frag_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.frag" class="idref" href="#AuthSet.frag"><span class="id" title="definition">frag</span></a> := <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.frag_aux"><span class="id" title="definition">frag_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.frag_eq" class="idref" href="#AuthSet.frag_eq"><span class="id" title="definition">frag_eq</span></a> : @<a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.frag"><span class="id" title="definition">frag</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> := <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.frag_aux"><span class="id" title="definition">frag_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.frag"><span class="id" title="definition">frag</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.auth_def" class="idref" href="#AuthSet.auth_def"><span class="id" title="definition">auth_def</span></a> {<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a>} (<a id="s2:19" class="idref" href="#s2:19"><span class="id" title="binder">s2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:18"><span class="id" title="variable">A</span></a>) : <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set"><span class="id" title="abbreviation">auth_set</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:18"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.restrict.html#Wrap"><span class="id" title="constructor">Wrap</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:19"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.auth_aux" class="idref" href="#AuthSet.auth_aux"><span class="id" title="definition">auth_aux</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.auth_def"><span class="id" title="definition">auth_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.auth" class="idref" href="#AuthSet.auth"><span class="id" title="definition">auth</span></a> := <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.auth_aux"><span class="id" title="definition">auth_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="AuthSet.auth_eq" class="idref" href="#AuthSet.auth_eq"><span class="id" title="definition">auth_eq</span></a> : @<a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.auth"><span class="id" title="definition">auth</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> := <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.auth_aux"><span class="id" title="definition">auth_aux</span></a>.(<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet.auth"><span class="id" title="definition">auth</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.algebra.authset.html#AuthSet"><span class="id" title="module">AuthSet</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_validN_valid" class="idref" href="#auth_set_validN_valid"><span class="id" title="lemma">auth_set_validN_valid</span></a> {<a id="A:20" class="idref" href="#A:20"><span class="id" title="binder">A</span></a>} <a id="n:21" class="idref" href="#n:21"><span class="id" title="binder">n</span></a> (<a id="x:22" class="idref" href="#x:22"><span class="id" title="binder">x</span></a> : <a class="idref" href="bedrock.lang.algebra.authset.html#auth_setR"><span class="id" title="definition">auth_setR</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:20"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#n:21"><span class="id" title="variable">n</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#x:22"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#x:22"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_validN"><span class="id" title="lemma">restrict_validN</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_valid_frag" class="idref" href="#auth_set_valid_frag"><span class="id" title="lemma">auth_set_valid_frag</span></a> {<a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a>} (<a id="s1:24" class="idref" href="#s1:24"><span class="id" title="binder">s1</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:23"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:24"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">s1'</span> <span class="id" title="var">l</span> /=. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">inversion</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_valid_auth" class="idref" href="#auth_set_valid_auth"><span class="id" title="lemma">auth_set_valid_auth</span></a> {<a id="A:25" class="idref" href="#A:25"><span class="id" title="binder">A</span></a>} (<a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:25"><span class="id" title="variable">A</span></a>) : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#l:26"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_eq"><span class="id" title="definition">AuthSet.auth_eq</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">s1</span> <span class="id" title="var">l'</span> /=. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">inversion</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_auth_excl" class="idref" href="#auth_set_auth_excl"><span class="id" title="lemma">auth_set_auth_excl</span></a> {<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a>} (<a id="s1:28" class="idref" href="#s1:28"><span class="id" title="binder">s1</span></a> <a id="s2:29" class="idref" href="#s2:29"><span class="id" title="binder">s2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:27"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:28"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:29"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_eq"><span class="id" title="definition">AuthSet.auth_eq</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a> =&gt; []/=[]/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <span class="id" title="var">_</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_frag_excl" class="idref" href="#auth_set_frag_excl"><span class="id" title="lemma">auth_set_frag_excl</span></a> {<a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a>} (<a id="s1:31" class="idref" href="#s1:31"><span class="id" title="binder">s1</span></a> <a id="s2:32" class="idref" href="#s2:32"><span class="id" title="binder">s2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:30"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:31"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:32"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a> =&gt; []/=[]/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <span class="id" title="var">_</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_valid_frag_auth" class="idref" href="#auth_set_valid_frag_auth"><span class="id" title="lemma">auth_set_valid_frag_auth</span></a> {<a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a>} (<a id="s1:34" class="idref" href="#s1:34"><span class="id" title="binder">s1</span></a> <a id="s2:35" class="idref" href="#s2:35"><span class="id" title="binder">s2</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:33"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:34"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:35"><span class="id" title="variable">s2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:34"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s2:35"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_eq"><span class="id" title="definition">AuthSet.auth_eq</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a>; <span class="id" title="tactic">case</span> =&gt; /=; <span class="id" title="tactic">case</span> =&gt; /= <span class="id" title="var">_</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">h</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_valid"><span class="id" title="lemma">restrict_valid</span></a>; <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">s1'</span> <span class="id" title="var">l'</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H4</span>, &lt;-<span class="id" title="var">H5</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab112"></a><h2 class="section">Removing elements from a frag set is frame preserving.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="auth_set_update_frag" class="idref" href="#auth_set_update_frag"><span class="id" title="lemma">auth_set_update_frag</span></a> {<a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a>} (<a id="s':37" class="idref" href="#s':37"><span class="id" title="binder">s'</span></a> <a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:36"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.algebra.authset.html#s':37"><span class="id" title="variable">s'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s:38"><span class="id" title="variable">s</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s:38"><span class="id" title="variable">s</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s':37"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>; <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">x</span> /=; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_valid_frag"><span class="id" title="lemma">auth_set_valid_frag</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_validN"><span class="id" title="lemma">restrict_validN</span></a> /=; <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a> /=; <span class="id" title="tactic">case</span>: <span class="id" title="var">a</span> =&gt; //= <span class="id" title="var">X</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">split</span> =&gt; //=; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#cmra_op"><span class="id" title="projection">cmra_op</span></a>/=; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#Some_validN"><span class="id" title="definition">Some_validN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#valid"><span class="id" title="definition">valid</span></a>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#cmra_valid"><span class="id" title="projection">cmra_valid</span></a>/=; <span class="id" title="tactic">case</span>: <span class="id" title="var">X</span> =&gt; /=; <span class="id" title="tactic">case</span>: <span class="id" title="var">c</span> <span class="id" title="var">Y</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> /=. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">h2</span>: <span class="id" title="var">b</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl'"><span class="id" title="abbreviation">Excl'</span></a> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>; <span class="id" title="tactic">case</span>: <span class="id" title="var">b</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">a</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H2</span>: <span class="id" title="var">s</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <span class="id" title="var">y</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">H8</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H2</span>. <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="auth_set_update" class="idref" href="#auth_set_update"><span class="id" title="lemma">auth_set_update</span></a> {<a id="A:39" class="idref" href="#A:39"><span class="id" title="binder">A</span></a>} (<a id="s1':40" class="idref" href="#s1':40"><span class="id" title="binder">s1'</span></a> <a id="l':41" class="idref" href="#l':41"><span class="id" title="binder">l'</span></a> <a id="s1:42" class="idref" href="#s1:42"><span class="id" title="binder">s1</span></a> <a id="l:43" class="idref" href="#l:43"><span class="id" title="binder">l</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.propset.html#propset"><span class="id" title="record">propset</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#A:39"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.algebra.authset.html#s1':40"><span class="id" title="variable">s1'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#l':41"><span class="id" title="variable">l'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1:42"><span class="id" title="variable">s1</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#l:43"><span class="id" title="variable">l</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#s1':40"><span class="id" title="variable">s1'</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#l':41"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>; <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">x</span> /=; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#cmra_discrete_valid_iff"><span class="id" title="lemma">cmra_discrete_valid_iff</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_valid_frag_auth"><span class="id" title="lemma">auth_set_valid_frag_auth</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">x</span> =&gt; [][]<span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_validN"><span class="id" title="lemma">restrict_validN</span></a>; <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_eq"><span class="id" title="definition">AuthSet.auth_eq</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a> /=; <span class="id" title="tactic">case</span> =&gt; /= <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">a</span> <span class="id" title="var">h1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">b</span> <span class="id" title="var">h2</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">h3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.algebra.authset.html#frag_def"><span class="id" title="definition">AuthSet.frag_def</span></a> /<a class="idref" href="bedrock.lang.algebra.authset.html#auth_def"><span class="id" title="definition">AuthSet.auth_def</span></a> <a class="idref" href="bedrock.lang.algebra.restrict.html#restrict_validN"><span class="id" title="lemma">restrict_validN</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">lx</span> <span class="id" title="var">ly</span> /=. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H6</span> -<span class="id" title="var">H7</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="frag_proper" class="idref" href="#frag_proper"><span class="id" title="instance">frag_proper</span></a> {<a id="A:44" class="idref" href="#A:44"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>) (<a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="bedrock.lang.algebra.authset.html#A:44"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#frag_eq"><span class="id" title="definition">AuthSet.frag_eq</span></a>/<a class="idref" href="bedrock.lang.algebra.authset.html#frag_def"><span class="id" title="definition">AuthSet.frag_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.algebra.restrict.html#Wrap_Proper"><span class="id" title="instance">Wrap_Proper</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#pair_proper"><span class="id" title="instance">pair_proper</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#Some_proper"><span class="id" title="instance">Some_proper</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl_proper"><span class="id" title="instance">Excl_proper</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">E</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="auth_proper" class="idref" href="#auth_proper"><span class="id" title="instance">auth_proper</span></a> {<a id="A:45" class="idref" href="#A:45"><span class="id" title="binder">A</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.19.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a>) (<a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="bedrock.lang.algebra.authset.html#A:45"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_eq"><span class="id" title="definition">AuthSet.auth_eq</span></a>/<a class="idref" href="bedrock.lang.algebra.authset.html#auth_def"><span class="id" title="definition">AuthSet.auth_def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="bedrock.lang.algebra.restrict.html#Wrap_Proper"><span class="id" title="instance">Wrap_Proper</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#pair_proper"><span class="id" title="instance">pair_proper</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.option.html#Some_proper"><span class="id" title="instance">Some_proper</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.excl.html#Excl_proper"><span class="id" title="instance">Excl_proper</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">E</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Lemma</span> <a id="auth_set_test" class="idref" href="#auth_set_test"><span class="id" title="lemma">auth_set_test</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.algebra.authset.html#frag"><span class="id" title="definition">AuthSet.frag</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> 1%<span class="id" title="var">N</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="bedrock.lang.algebra.authset.html#auth"><span class="id" title="definition">AuthSet.auth</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> 1%<span class="id" title="var">N</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a> 2%<span class="id" title="var">N</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.algebra.authset.html#auth_set_valid_frag_auth"><span class="id" title="lemma">auth_set_valid_frag_auth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Fail</span> <span class="id" title="var">Fail</span> <span class="id" title="keyword">Qed</span>. <span class="id" title="keyword">Abort</span>. <span class="comment">(*NOTE:&nbsp;to&nbsp;avoid&nbsp;polluting&nbsp;search,&nbsp;or&nbsp;is&nbsp;[local] enough?*)</span><br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
