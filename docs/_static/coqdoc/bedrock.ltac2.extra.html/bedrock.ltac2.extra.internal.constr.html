<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>bedrock.ltac2.extra.internal.constr</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library bedrock.ltac2.extra.internal.constr</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.ltac2.extra.internal.plugin.html#"><span class="id" title="library">bedrock.ltac2.extra.internal.plugin</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.ltac2.extra.internal.init.html#"><span class="id" title="library">bedrock.ltac2.extra.internal.init</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.ltac2.extra.internal.misc.html#"><span class="id" title="library">bedrock.ltac2.extra.internal.misc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.ltac2.extra.internal.printf.html#"><span class="id" title="library">bedrock.ltac2.extra.internal.printf</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
Minor extensions to <span class="inlinecode"><span class="id" title="var">Ltac2.Constr</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Constr" class="idref" href="#Constr"><span class="id" title="module">Constr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="module">Ltac2</span> <a class="idref" href="bedrock.ltac2.extra.internal.init.html#Init"><span class="id" title="module">Init</span></a> <a class="idref" href="bedrock.ltac2.extra.internal.printf.html#Printf"><span class="id" title="module">Printf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Export</span> <span class="id" title="module">Ltac2.Constr</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">entirely_closed</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> indicates whether <span class="inlinecode"><span class="id" title="var">c</span></span> is free of: undefined evars,
      unbound rels, named evars without a bode, named variables whose body is
      not <span class="inlinecode"><span class="id" title="var">entirely_closed</span></span>. Note that opaque and transparent constants are
      considered <span class="inlinecode"><span class="id" title="var">entirely_closed</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">entirely_closed</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "entirely_closed".<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">retype</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> runs <span class="inlinecode"><span class="id" title="var">Retyping.get_type_of</span></span> <span class="inlinecode">~<span class="id" title="var">lax</span>:<span class="id" title="var">false</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">retype</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_retype".<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">pretype_at</span></span> <span class="inlinecode"><span class="id" title="var">otc</span></span> <span class="inlinecode"><span class="id" title="var">oty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> pretypes preterm <span class="inlinecode"><span class="id" title="var">p</span></span> at type <span class="inlinecode"><span class="id" title="var">ty</span></span> if <span class="inlinecode"><span class="id" title="var">oty</span></span> is
      <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span>, or without any constraints if <span class="inlinecode"><span class="id" title="var">ty</span></span> is <span class="inlinecode"><span class="id" title="var">None</span></span>. Typeclass
      resolution is controlled with <span class="inlinecode"><span class="id" title="var">otc</span></span>. If it is <span class="inlinecode"><span class="id" title="var">None</span></span>, typeclass search
      is disabled. If it is <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span>, then typeclass search is enabled, and
      the boolean <span class="inlinecode"><span class="id" title="var">b</span></span> indicates whether all goals must be solved. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">pretype_at</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">bool</span> <span class="id" title="var">option</span> -&gt; <span class="id" title="keyword">constr</span> <span class="id" title="var">option</span> -&gt; <span class="id" title="var">preterm</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_pretype_at".<br/>

<br/>
</div>

<div class="doc">
See Coq's Vars.mli 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Vars" class="idref" href="#Constr.Vars"><span class="id" title="module">Vars</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">closedn</span> : <span class="id" title="var">int</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "vars_closedn".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">noccur_between</span> : <span class="id" title="var">int</span> -&gt; <span class="id" title="var">int</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "vars_noccur_between".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">rels</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">int</span> <span class="id" title="var">list</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "vars_rels".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Vars"><span class="id" title="module">Vars</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Binder" class="idref" href="#Constr.Binder"><span class="id" title="module">Binder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Export</span> <span class="id" title="module">Ltac2.Constr.Binder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">deconstruct</span> (<span class="id" title="var">b</span> : <span class="id" title="var">binder</span>) : <span class="id" title="var">name</span> * <span class="id" title="var">relevance</span> * <span class="id" title="keyword">type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">name</span> <span class="id" title="var">b</span>, <span class="id" title="var">relevance</span> <span class="id" title="var">b</span>, <span class="id" title="keyword">type</span> <span class="id" title="var">b</span>).<br/>

<br/>
</div>

<div class="doc">
Mapping over a binder 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_name</span> : (<span class="id" title="var">name</span> -&gt; <span class="id" title="var">name</span>) -&gt; <span class="id" title="var">binder</span> -&gt; <span class="id" title="var">binder</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">name</span>, <span class="id" title="var">r</span>, <span class="id" title="var">ty</span>) := <span class="id" title="var">deconstruct</span> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unsafe_make</span> (<span class="id" title="var">f</span> <span class="id" title="var">name</span>) <span class="id" title="var">r</span> <span class="id" title="var">ty</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_type</span> : (<span class="id" title="keyword">type</span> -&gt; <span class="id" title="keyword">type</span>) -&gt; <span class="id" title="var">binder</span> -&gt; <span class="id" title="var">binder</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">name</span>, <span class="id" title="var">r</span>, <span class="id" title="var">ty</span>) := <span class="id" title="var">deconstruct</span> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unsafe_make</span> <span class="id" title="var">name</span> <span class="id" title="var">r</span> (<span class="id" title="var">f</span> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Binder"><span class="id" title="module">Binder</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Evar" class="idref" href="#Constr.Evar"><span class="id" title="module">Evar</span></a>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">make</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> creates a new evar of type <span class="inlinecode"><span class="id" title="var">ty</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make</span> (<span class="id" title="var">ty</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> := <span class="id" title="var">Misc.gen_evar</span> <span class="id" title="var">false</span> <span class="id" title="var">ty</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">make_tc</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> creates a new evar of type <span class="inlinecode"><span class="id" title="var">ty</span></span> that should be considered
        a candidate for typeclass resolution. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_tc</span> (<span class="id" title="var">ty</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> := <span class="id" title="var">Misc.gen_evar</span> <span class="id" title="var">true</span> <span class="id" title="var">ty</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">of_constr</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> deconstructs <span class="inlinecode"><span class="id" title="var">c</span></span> assuming it is an evar node. If that is
        not the case, an uncatchable <span class="inlinecode"><span class="id" title="var">Invalid_argument</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> is raised. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_constr</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="tactic">evar</span> * <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Constr.Unsafe.kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Constr.Unsafe.Evar</span> <span class="id" title="tactic">evar</span> <span class="id" title="var">args</span> =&gt; (<span class="id" title="tactic">evar</span>, <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Control.throw_invalid_argument</span> "Evar.get"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">name</span></span> <span class="inlinecode"><span class="id" title="tactic">evar</span></span> gives the name of <span class="inlinecode"><span class="id" title="tactic">evar</span></span>. It returns <span class="inlinecode"><span class="id" title="var">None</span></span> if the evar is
        not in the evar map. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @<span class="id" title="var">external</span> <span class="id" title="var">name</span> : <span class="id" title="tactic">evar</span> -&gt; <span class="id" title="var">ident</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "evar_name".<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="tactic">rename</span></span> <span class="inlinecode"><span class="id" title="tactic">evar</span></span> <span class="inlinecode"><span class="id" title="var">id</span></span> renames the evar <span class="inlinecode"><span class="id" title="tactic">evar</span></span> using name <span class="inlinecode"><span class="id" title="var">id</span></span>. The tactic
        does not fail if <span class="inlinecode"><span class="id" title="tactic">evar</span></span> is already named <span class="inlinecode"><span class="id" title="var">id</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="tactic">rename</span> : <span class="id" title="tactic">evar</span> -&gt; <span class="id" title="var">ident</span> -&gt; <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "rename_evar".<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">is_undefined</span></span> <span class="inlinecode"><span class="id" title="tactic">evar</span></span> indicates wheter <span class="inlinecode"><span class="id" title="tactic">evar</span></span> is undefined. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">is_undefined</span> : <span class="id" title="tactic">evar</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "evar_is_undefined".<br/>

<br/>
</div>

<div class="doc">
See <span class="inlinecode"><span class="id" title="var">Evarutils.restrict_evar</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">restrict</span> : <span class="id" title="var">bool</span> <span class="id" title="var">list</span> -&gt; <span class="id" title="tactic">evar</span> -&gt; <span class="id" title="tactic">evar</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "restrict_evar".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Evar"><span class="id" title="module">Evar</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">subst_evars</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> returns <span class="inlinecode"><span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">c'</span></span>, where <span class="inlinecode"><span class="id" title="var">c'</span></span> is a copy of <span class="inlinecode"><span class="id" title="var">c</span></span> where all
      evars have been replaced with their solutions. It returns <span class="inlinecode"><span class="id" title="var">None</span></span> if there
      are evars without solutions. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">subst_evars</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "subst_evars".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Unsafe" class="idref" href="#Constr.Unsafe"><span class="id" title="module">Unsafe</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Export</span> <span class="id" title="module">Ltac2.Constr.Unsafe</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab2"></a><h2 class="section">Make wrappers</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_rel</span> (<span class="id" title="var">i</span> : <span class="id" title="var">int</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Rel</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_var</span> (<span class="id" title="var">id</span> : <span class="id" title="var">ident</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Var</span> <span class="id" title="var">id</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_meta</span> (<span class="id" title="var">m</span> : <span class="id" title="var">meta</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Meta</span> <span class="id" title="var">m</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_evar</span> (<span class="id" title="tactic">evar</span> : <span class="id" title="tactic">evar</span>) (<span class="id" title="var">args</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Evar</span> <span class="id" title="tactic">evar</span> <span class="id" title="var">args</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_sort</span> (<span class="id" title="var">s</span> : <span class="id" title="var">sort</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="keyword">Sort</span> <span class="id" title="var">s</span>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">Cast</span></span> <span class="inlinecode"><span class="id" title="var">tm</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> is <span class="inlinecode"><span class="id" title="var">tm</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">ty</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_cast</span> (<span class="id" title="var">tm</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">c</span> : <span class="id" title="var">cast</span>) (<span class="id" title="var">ty</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Cast</span> <span class="id" title="var">tm</span> <span class="id" title="var">c</span> <span class="id" title="var">ty</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_prod</span> (<span class="id" title="var">b</span> : <span class="id" title="var">binder</span>) (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Prod</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_lambda</span> (<span class="id" title="var">b</span> : <span class="id" title="var">binder</span>) (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Lambda</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">c1</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">c2</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_let_in</span> (<span class="id" title="var">b</span> : <span class="id" title="var">binder</span>) (<span class="id" title="var">c1</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">c2</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">LetIn</span> <span class="id" title="var">b</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">args</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">App</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app_list</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">args</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">list</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> (<span class="id" title="var">Array.of_list</span> <span class="id" title="var">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app1</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 1 <span class="id" title="var">arg</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app2</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 2 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app3</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 3 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app4</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 4 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app5</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg4</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 5 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 4 <span class="id" title="var">arg4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app6</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg4</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg5</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 6 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 4 <span class="id" title="var">arg4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 5 <span class="id" title="var">arg5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app7</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg4</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg5</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg6</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 7 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 4 <span class="id" title="var">arg4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 5 <span class="id" title="var">arg5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 6 <span class="id" title="var">arg6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app8</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg4</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg5</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg6</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg7</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 8 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 4 <span class="id" title="var">arg4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 5 <span class="id" title="var">arg5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 6 <span class="id" title="var">arg6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 7 <span class="id" title="var">arg7</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_app9</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg0</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg1</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg2</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg3</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg4</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg5</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg6</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">arg7</span> : <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">arg8</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="var">Array.make</span> 9 <span class="id" title="var">arg0</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 1 <span class="id" title="var">arg1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 2 <span class="id" title="var">arg2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 3 <span class="id" title="var">arg3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 4 <span class="id" title="var">arg4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 5 <span class="id" title="var">arg5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 6 <span class="id" title="var">arg6</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 7 <span class="id" title="var">arg7</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Array.set</span> <span class="id" title="var">args</span> 8 <span class="id" title="var">arg8</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_app</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>.<br/>

<br/>
</div>

<div class="doc">
    Instances of universe polymorphic constants, inductives, and
    constructors.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_constant</span> (<span class="id" title="var">c</span> : <span class="id" title="var">constant</span>) (<span class="id" title="var">u</span> : <span class="id" title="var">instance</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Constant</span> <span class="id" title="var">c</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_ind</span> (<span class="id" title="var">i</span> : <span class="id" title="var">inductive</span>) (<span class="id" title="var">u</span> : <span class="id" title="var">instance</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Ind</span> <span class="id" title="var">i</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_constructor</span> (<span class="id" title="var">c</span> : <span class="id" title="tactic">constructor</span>) (<span class="id" title="var">u</span> : <span class="id" title="var">instance</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Constructor</span> <span class="id" title="var">c</span> <span class="id" title="var">u</span>).<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><span class="id" title="var">Case</span></span> <span class="inlinecode"><span class="id" title="var">ci</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">iv</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="var">br</span></span> represents a match expression in compact form
    (see Coq's kernel/inductive.mli):

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">ci</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="tactic">case</span></span>: information about the match

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">p</span></span>: the "return" clause represented as a <span class="inlinecode"><span class="id" title="var">Lambda</span></span>

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">iv</span></span>: impacts reduction of <span class="inlinecode"><span class="id" title="var">SProp</span></span> matches

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">c</span></span>: the term being matched

<div class="paragraph"> </div>


</li>
<li> <span class="inlinecode"><span class="id" title="var">br</span></span>: branches of the match, represented as <span class="inlinecode"><span class="id" title="var">Lambda</span></span>, <span class="inlinecode"><span class="id" title="var">LetIn</span></span>

</li>
</ul>

<div class="paragraph"> </div>

    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_case</span> (<span class="id" title="var">ci</span> : <span class="id" title="tactic">case</span>) (<span class="id" title="var">p</span> : <span class="id" title="keyword">constr</span> * <span class="id" title="var">Binder.relevance</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iv</span> : <span class="id" title="var">case_invert</span>) (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">br</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Case</span> <span class="id" title="var">ci</span> <span class="id" title="var">p</span> <span class="id" title="var">iv</span> <span class="id" title="var">c</span> <span class="id" title="var">br</span>).<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><span class="id" title="keyword">Fix</span></span> <span class="inlinecode"><span class="id" title="var">skips</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">bnds</span></span> <span class="inlinecode"><span class="id" title="var">lams</span></span> represents the <span class="inlinecode"><span class="id" title="var">i</span></span>th function projected
    from a mutually recursive bundle <span class="inlinecode"><span class="id" title="var">bnds</span></span> <span class="inlinecode">|-</span> <span class="inlinecode"><span class="id" title="var">lams_j</span></span> where <span class="inlinecode"><span class="id" title="var">bnds_j</span></span>
    is the name and type of the <span class="inlinecode"><span class="id" title="var">j</span></span>th member of the bundle and where
    <span class="inlinecode"><span class="id" title="var">skips_j</span></span> is the number of lambdas to skip in that function to
    reach its recursive argument (<span class="inlinecode">0</span> <span class="inlinecode">&lt;=</span> <span class="inlinecode"><span class="id" title="var">i</span>,</span> <span class="inlinecode"><span class="id" title="var">j</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode">|<span class="id" title="var">skips</span>|</span> <span class="inlinecode">=</span> <span class="inlinecode">|<span class="id" title="var">bnds</span>|</span> <span class="inlinecode">=</span>
    <span class="inlinecode">|<span class="id" title="var">lams</span>|).</span>

    <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">[<span class="id" title="var">CoFix</span>]</span> <span class="inlinecode"><span class="id" title="var">carries</span></span> <span class="inlinecode"><span class="id" title="var">similar</span></span> <span class="inlinecode"><span class="id" title="var">data</span>,</span> <span class="inlinecode"><span class="id" title="var">but</span></span> <span class="inlinecode"><span class="id" title="var">lacks</span></span> <span class="inlinecode">[<span class="id" title="var">skips</span>].</span>
    <span class="inlinecode"></span>
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_fix</span> (<span class="id" title="var">skips</span> : <span class="id" title="var">int</span> <span class="id" title="var">array</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">int</span>) (<span class="id" title="var">bnds</span> : <span class="id" title="var">binder</span> <span class="id" title="var">array</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lams</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="keyword">Fix</span> <span class="id" title="var">skips</span> <span class="id" title="var">i</span> <span class="id" title="var">bnds</span> <span class="id" title="var">lams</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_cofix</span> (<span class="id" title="var">i</span> : <span class="id" title="var">int</span>) (<span class="id" title="var">bnds</span> : <span class="id" title="var">binder</span> <span class="id" title="var">array</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lams</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">CoFix</span> <span class="id" title="var">i</span> <span class="id" title="var">bnds</span> <span class="id" title="var">lams</span>).<br/>

<br/>
</div>

<div class="doc">
Primitive projection <span class="inlinecode"><span class="id" title="var">t</span>.(<span class="id" title="var">p</span>)</span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_proj</span> (<span class="id" title="var">p</span> : <span class="id" title="var">projection</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">Binder.relevance</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Proj</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">t</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_uint63</span> (<span class="id" title="var">i</span> : <span class="id" title="var">uint63</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Uint63</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_float</span> (<span class="id" title="var">f</span> : <span class="id" title="var">float</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Float</span> <span class="id" title="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
    <span class="inlinecode"><span class="id" title="var">Array</span></span> <span class="inlinecode"><span class="id" title="var">ui</span></span> <span class="inlinecode"><span class="id" title="var">cs</span></span> <span class="inlinecode"><span class="id" title="var">def</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> represents a primitive (persistent) array
    with universe instance <span class="inlinecode"><span class="id" title="var">u</span></span>, terms <span class="inlinecode"><span class="id" title="var">cs_i</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">ty</span></span>, and a default <span class="inlinecode"><span class="id" title="var">def</span></span>
    <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">ty</span></span>. Universe <span class="inlinecode"><span class="id" title="var">u</span></span> contains type <span class="inlinecode"><span class="id" title="var">ty</span></span>.
    
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">make_array</span> (<span class="id" title="var">u</span> : <span class="id" title="var">instance</span>) (<span class="id" title="var">cs</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">def</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make</span> (<span class="id" title="var">Array</span> <span class="id" title="var">u</span> <span class="id" title="var">cs</span> <span class="id" title="var">def</span> <span class="id" title="var">t</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h2 class="section">Declarations</h2>

<div class="paragraph"> </div>

    An inhabitant of type <span class="inlinecode"><span class="id" title="var">RelDecl.t</span></span> describes a <span class="inlinecode"><span class="id" title="var">Rel</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> and can be
    used to track local assumptions and definitions when working with
    terms under binders.
    
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Unsafe.RelDecl" class="idref" href="#Constr.Unsafe.RelDecl"><span class="id" title="module">RelDecl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">Type</span> <span class="id" title="var">t</span> := [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> (<span class="id" title="var">binder</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> (<span class="id" title="var">binder</span>, <span class="id" title="var">term</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">pp</span> : <span class="id" title="var">t</span> <span class="id" title="var">pp</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">decl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">pp_binder</span> () <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">fprintf</span> "%a := %t" <span class="id" title="var">pp_binder</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">binder</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">binder</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Assum</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">b</span> | <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">b</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">name</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">name</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Constr.Binder.name</span> (<span class="id" title="var">binder</span> <span class="id" title="var">decl</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">type</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="keyword">type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Constr.Binder.type</span> (<span class="id" title="var">binder</span> <span class="id" title="var">decl</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">relevance</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">Binder.relevance</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Constr.Binder.relevance</span> (<span class="id" title="var">binder</span> <span class="id" title="var">decl</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">value</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">term</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Assum</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">None</span> | <span class="id" title="var">Def</span> <span class="id" title="var">_</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">Some</span> <span class="id" title="var">val</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">is_assum</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Assum</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">true</span> | <span class="id" title="var">_</span> =&gt; <span class="id" title="var">false</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">is_def</span> (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Def</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">true</span> | <span class="id" title="var">_</span> =&gt; <span class="id" title="var">false</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Mapping over a declaration 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_name</span> : (<span class="id" title="var">name</span> -&gt; <span class="id" title="var">name</span>) -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">decl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">Assum</span> (<span class="id" title="var">Constr.Binder.map_name</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">Def</span> (<span class="id" title="var">Constr.Binder.map_name</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>) <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_type</span> : (<span class="id" title="keyword">type</span> -&gt; <span class="id" title="keyword">type</span>) -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">decl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">Assum</span> (<span class="id" title="var">Constr.Binder.map_type</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">Def</span> (<span class="id" title="var">Constr.Binder.map_type</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>) <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_value</span> : (<span class="id" title="var">term</span> -&gt; <span class="id" title="var">term</span>) -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> <span class="id" title="var">decl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">decl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">Def</span> <span class="id" title="var">b</span> (<span class="id" title="var">f</span> <span class="id" title="var">val</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">map_constr</span> (<span class="id" title="var">f</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span>) (<span class="id" title="var">decl</span> : <span class="id" title="var">t</span>) : <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Assum</span> <span class="id" title="var">b</span> =&gt; <span class="id" title="var">Assum</span> (<span class="id" title="var">Constr.Binder.map_type</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Def</span> <span class="id" title="var">b</span> <span class="id" title="var">val</span> =&gt; <span class="id" title="var">Def</span> (<span class="id" title="var">Constr.Binder.map_type</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>) (<span class="id" title="var">f</span> <span class="id" title="var">val</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Unsafe.RelDecl"><span class="id" title="module">RelDecl</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h2 class="section">Iterators</h2>

<div class="paragraph"> </div>

    The following functions visit a term's immediate subterms, from
    left to right. While they are not recursive, they can be useful in
    defining recursive iterators.

<div class="paragraph"> </div>

    Immediate subterms are those carried by a term's <span class="inlinecode"><span class="id" title="var">kind</span></span>
    constructor, including terms tucked away in inhabitants of types
    <span class="inlinecode"><span class="id" title="var">binder</span></span>, <span class="inlinecode"><span class="id" title="var">array</span></span>, and <span class="inlinecode"><span class="id" title="var">case_invert</span></span>.

<div class="paragraph"> </div>

    The <span class="inlinecode"><span class="id" title="var">X_with_binders</span></span> (resp. <span class="inlinecode"><span class="id" title="var">X_with_full_binders</span></span>) variants take
    additional arguments <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode">'<span class="id" title="var">c</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode">'<span class="id" title="var">c</span></span> (resp. <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">RelDecl.t</span></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode">'<span class="id" title="var">c</span></span> <span class="inlinecode">-&gt;</span>
    <span class="inlinecode">'<span class="id" title="var">c</span></span>) and <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">:</span> <span class="inlinecode">'<span class="id" title="var">c</span></span> and use <span class="inlinecode"><span class="id" title="var">g</span></span> to bump <span class="inlinecode"><span class="id" title="var">n</span></span> when descending under
    binders. Examples for <span class="inlinecode"><span class="id" title="var">X_with_binders</span></span>:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">=&gt;</span> <span class="inlinecode"><span class="id" title="var">true</span></span> (with initial value <span class="inlinecode"><span class="id" title="var">false</span></span>) detects terms

</li>
</ul>
    under binders

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">g</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">Int.add</span></span> <span class="inlinecode">1</span> counts binding depth

</li>
</ul>
    
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">map</span> : (<span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span>) -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_map".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">map_with_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span>) -&gt; '<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_map_with_binders".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">map_with_full_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RelDecl.t</span> -&gt; '<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_map_with_full_binders".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">iter</span> : (<span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span>) -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_iter".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">iter_with_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span>) -&gt; '<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_iter_with_binders".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">iter_with_full_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RelDecl.t</span> -&gt; '<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">unit</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_iter_with_full_binders".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="tactic">fold</span> : (<span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span>) -&gt; <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_fold".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">fold_with_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span>) -&gt; '<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_fold_with_binders".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">fold_with_full_binders</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RelDecl.t</span> -&gt; '<span class="id" title="var">c</span> -&gt; '<span class="id" title="var">c</span>) -&gt; ('<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<span class="id" title="var">c</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "constr_fold_with_full_binders".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.Unsafe.Destruct" class="idref" href="#Constr.Unsafe.Destruct"><span class="id" title="module">Destruct</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">invalid_arg'</span> (<span class="id" title="var">whence</span> : <span class="id" title="var">string</span>) (<span class="id" title="var">what</span> : <span class="id" title="var">message</span>) : '<span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">m</span> := <span class="id" title="var">Message.of_string</span> <span class="id" title="var">whence</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">m</span> := <span class="id" title="var">Message.concat</span> <span class="id" title="var">m</span> (<span class="id" title="var">Message.of_string</span> ": ") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">m</span> := <span class="id" title="var">Message.concat</span> <span class="id" title="var">m</span> <span class="id" title="var">what</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Control.throw</span> (<span class="id" title="var">Invalid_argument</span> (<span class="id" title="var">Some</span> <span class="id" title="var">m</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">invalid_arg</span> (<span class="id" title="var">whence</span> : <span class="id" title="var">string</span>) (<span class="id" title="var">t</span> : <span class="id" title="keyword">constr</span>) : '<span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">invalid_arg'</span> <span class="id" title="var">whence</span> (<span class="id" title="var">Message.of_constr</span> <span class="id" title="var">t</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_ind_app_opt</span> : <span class="id" title="keyword">constr</span> -&gt; (<span class="id" title="keyword">constr</span> * <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) <span class="id" title="var">option</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kind</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Ind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>    =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">t</span>, <span class="id" title="var">Array.make</span> 0 <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">App</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Ind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">c</span>, <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>       =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>          =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_ind_app</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> * <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">panic</span> () := <span class="id" title="var">invalid_arg</span> "Constr.Unsafe.Destruct.of_ind_app" <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">of_ind_app_opt</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span> =&gt; <span class="id" title="var">panic</span> ()<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_constructor_app_opt</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span> -&gt; (<span class="id" title="keyword">constr</span> * <span class="id" title="var">instance</span> * <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>) <span class="id" title="var">option</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kind</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Constructor</span> <span class="id" title="var">_</span> <span class="id" title="var">inst</span> =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">t</span>, <span class="id" title="var">inst</span>, <span class="id" title="var">Array.make</span> 0 <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">App</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span>         =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Constructor</span> <span class="id" title="var">_</span> <span class="id" title="var">inst</span> =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">c</span>, <span class="id" title="var">inst</span>, <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>       =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>          =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_constructor_app</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> * <span class="id" title="var">instance</span> * <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">of_constructor_app_opt</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span>   =&gt; <span class="id" title="var">invalid_arg</span> "Constr.Unsafe.Destruct.of_constructor_app" <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_lambda_opt</span> : <span class="id" title="keyword">constr</span> -&gt; (<span class="id" title="var">binder</span> * <span class="id" title="keyword">constr</span>) <span class="id" title="var">option</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">kind</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Lambda</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">b</span>, <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_lambda</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">binder</span> * <span class="id" title="keyword">constr</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">of_lambda_opt</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span> =&gt; <span class="id" title="var">invalid_arg</span> "Constr.Unsafe.Destruct.of_lambda" <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_n_lambdas_opt</span> : <span class="id" title="var">int</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; (<span class="id" title="var">binder</span> <span class="id" title="var">list</span> * <span class="id" title="keyword">constr</span>) <span class="id" title="var">option</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> (<span class="id" title="var">acc</span> : <span class="id" title="var">binder</span> <span class="id" title="var">list</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">Int.equal</span> <span class="id" title="var">i</span> 0 <span class="id" title="keyword">then</span> <span class="id" title="var">Some</span> (<span class="id" title="var">List.rev</span> <span class="id" title="var">acc</span>, <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">of_lambda_opt</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> (<span class="id" title="var">b</span>, <span class="id" title="var">t</span>) =&gt; <span class="id" title="var">go</span> (<span class="id" title="var">Int.sub</span> <span class="id" title="var">i</span> 1) <span class="id" title="var">t</span> (<span class="id" title="var">b</span> :: <span class="id" title="var">acc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span> =&gt; <span class="id" title="var">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">Int.ge</span> <span class="id" title="var">i</span> 0 <span class="id" title="keyword">then</span> <span class="id" title="var">go</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> []<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="var">invalid_arg'</span> "Constr.Unsafe.Destruct.of_n_lambdas_opt" (<span class="id" title="var">Message.of_int</span> <span class="id" title="var">i</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_n_lambdas</span> : <span class="id" title="var">int</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">binder</span> <span class="id" title="var">list</span> * <span class="id" title="keyword">constr</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">of_n_lambdas_opt</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">r</span> =&gt; <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span> =&gt; <span class="id" title="var">invalid_arg</span> "Constr.Unsafe.Destruct.of_n_lambdas" <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">Type</span> <span class="id" title="var">projection_info</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Inductive on which the projection is defined. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi_structure</span> : <span class="id" title="var">inductive</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The index of the projection, i.e. which field it projects out. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi_index</span> : <span class="id" title="var">int</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
The unapplied (compatibility) constant of the projection. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi_proj</span> : <span class="id" title="keyword">constr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
parameters of the projection. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi_params</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
the record value to which the projection is applied. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi_recval</span> : <span class="id" title="keyword">constr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">of_projection</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">projection_info</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "decompose_proj".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Unsafe.Destruct"><span class="id" title="module">Destruct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.Unsafe"><span class="id" title="module">Unsafe</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @<span class="id" title="var">external</span> <span class="id" title="var">is_class</span> : <span class="id" title="var">Std.reference</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "is_class".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">rec</span> <span class="id" title="var">is_class_application</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Unsafe.kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.App</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Prod</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>          =&gt; <span class="id" title="var">is_class_application</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Var</span> <span class="id" title="var">id</span>            =&gt; <span class="id" title="var">is_class</span> (<span class="id" title="var">Std.VarRef</span> <span class="id" title="var">id</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Constant</span> <span class="id" title="var">cst</span> <span class="id" title="var">_</span>    =&gt; <span class="id" title="var">is_class</span> (<span class="id" title="var">Std.ConstRef</span> <span class="id" title="var">cst</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Ind</span> <span class="id" title="var">ind</span> <span class="id" title="var">_</span>         =&gt; <span class="id" title="var">is_class</span> (<span class="id" title="var">Std.IndRef</span> <span class="id" title="var">ind</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Constructor</span> <span class="id" title="var">cst</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">is_class</span> (<span class="id" title="var">Std.ConstructRef</span> <span class="id" title="var">cst</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>                        =&gt; <span class="id" title="var">false</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">rec</span> <span class="id" title="var">is_head_evar</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Unsafe.kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.Evar</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">true</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Unsafe.App</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span>  =&gt; <span class="id" title="var">is_head_evar</span> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>               =&gt; <span class="id" title="var">false</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">specialize_products</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">args</span></span> instantiates the first <span class="inlinecode"><span class="id" title="var">Array.lenght</span></span> <span class="inlinecode"><span class="id" title="var">args</span></span>
      <span class="inlinecode"><span class="id" title="var">Prod</span></span> nodes of type <span class="inlinecode"><span class="id" title="var">ty</span></span>, with the terms in <span class="inlinecode"><span class="id" title="var">args</span></span>. Weak-head reduction
      is performed at each step, so <span class="inlinecode"><span class="id" title="var">c</span></span> only needs to be convertible to enough
      nested product types. The value returned is in weak-head normal form. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">specialize_products</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> <span class="id" title="var">array</span> -&gt; <span class="id" title="keyword">constr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "specialize_products".<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">debug_print</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">message</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "debug_print".<br/>

<br/>
</div>

<div class="doc">
Primitive projections. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.PProj" class="idref" href="#Constr.PProj"><span class="id" title="module">PProj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">Type</span> <span class="id" title="var">t</span> := <span class="id" title="var">constant</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">mkProj</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span> -&gt; <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="keyword">constr</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ltac2_extensions" "mkProj".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_compat</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) : <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">Constr.Unsafe.kind</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Constr.Unsafe.Constant</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">Control.zero</span> (<span class="id" title="var">Invalid_argument</span> (<span class="id" title="var">Some</span> (<span class="id" title="var">Message.of_string</span> "not a constant")))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="var">of_compat_const</span> (<span class="id" title="var">c</span> : <span class="id" title="keyword">constr</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">bool</span>) (<span class="id" title="var">x</span> : <span class="id" title="keyword">constr</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mkProj</span> (<span class="id" title="var">of_compat</span> <span class="id" title="var">c</span>) <span class="id" title="var">b</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.PProj"><span class="id" title="module">PProj</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Sets of <span class="inlinecode"><span class="id" title="keyword">constr</span></span>s.</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.ConstrSet" class="idref" href="#Constr.ConstrSet"><span class="id" title="module">ConstrSet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">Type</span> <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">empty</span> : <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "empty".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">is_empty</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "is_empty".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">diff</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "diff".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">union</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "union".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">of_list</span> : <span class="id" title="keyword">constr</span> <span class="id" title="var">list</span> -&gt; <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "of_list".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">mem</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "mem".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">elements</span> : <span class="id" title="var">t</span> -&gt; <span class="id" title="keyword">constr</span> <span class="id" title="var">list</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "elements".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">add</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "add".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">remove</span> : <span class="id" title="keyword">constr</span> -&gt; <span class="id" title="var">t</span> -&gt; <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrSet" "remove".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.ConstrSet"><span class="id" title="module">ConstrSet</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Finite maps with <span class="inlinecode"><span class="id" title="keyword">constr</span></span> keys.</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a id="Constr.ConstrMap" class="idref" href="#Constr.ConstrMap"><span class="id" title="module">ConstrMap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 <span class="id" title="keyword">Type</span> '<span class="id" title="var">a</span> <span class="id" title="var">t</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">empty</span> : '<span class="id" title="var">a</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "empty".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">is_empty</span> : '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "is_empty".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">mem</span> : <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="var">bool</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "mem".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">add</span> : <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "add".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">singleton</span> : <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "singleton".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">remove</span> : <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "remove".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">cardinal</span> : '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="var">int</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "cardinal".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">bindings</span> : '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; (<span class="id" title="keyword">constr</span> * '<span class="id" title="var">a</span>) <span class="id" title="var">list</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "bindings".<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span>2 @ <span class="id" title="var">external</span> <span class="id" title="var">find_opt</span> : <span class="id" title="keyword">constr</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">t</span> -&gt; '<span class="id" title="var">a</span> <span class="id" title="var">option</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"br.ConstrMap" "find_opt".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr.ConstrMap"><span class="id" title="module">ConstrMap</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.ltac2.extra.internal.constr.html#Constr"><span class="id" title="module">Constr</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>