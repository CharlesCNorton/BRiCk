<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.wp</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2023&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
Definitions for the semantics
 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">bedrock.prelude.base</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="library">stdpp.coPset</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#"><span class="id" title="library">iris.bi.monpred</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.proofmode.html#"><span class="id" title="library">proofmode</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#"><span class="id" title="library">classes</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.ast.html#"><span class="id" title="library">ast</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.html#"><span class="id" title="library">semantics</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">logic.pred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#"><span class="id" title="library">logic.heap_pred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#"><span class="id" title="library">logic.translation_unit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.lang.bi.errors.html#"><span class="id" title="library">bedrock.lang.bi.errors</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="comment">(*&nbsp;expression&nbsp;continuations<br/>
&nbsp;*&nbsp;-&nbsp;in&nbsp;full&nbsp;C++,&nbsp;this&nbsp;includes&nbsp;exceptions,&nbsp;but&nbsp;our&nbsp;current&nbsp;semantics<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;doesn't&nbsp;treat&nbsp;those.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="epred" class="idref" href="#epred"><span class="id" title="definition">epred</span></a> `{<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:1" class="idref" href="#thread_info:1"><span class="id" title="binder">thread_info</span></a>} := <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="epredO" class="idref" href="#epredO"><span class="id" title="abbreviation">epredO</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredO"><span class="id" title="definition">mpredO</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">Section</span> <a id="FreeTemps.FreeTemps" class="idref" href="#FreeTemps.FreeTemps"><span class="id" title="section">FreeTemps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:3" class="idref" href="#thread_info:3"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;FreeTemps.t&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t" class="idref" href="#FreeTemps.t"><span class="id" title="inductive">t</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.id" class="idref" href="#FreeTemps.id"><span class="id" title="constructor">id</span></a> <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete" class="idref" href="#FreeTemps.delete"><span class="id" title="constructor">delete</span></a> (<a id="ty:7" class="idref" href="#ty:7"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:8" class="idref" href="#p:8"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <span class="comment">(*&nbsp;=&nbsp;delete_val&nbsp;ty&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete_va" class="idref" href="#FreeTemps.delete_va"><span class="id" title="constructor">delete_va</span></a> (<a id="va:9" class="idref" href="#va:9"><span class="id" title="binder">va</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)) (<a id="p:10" class="idref" href="#p:10"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq" class="idref" href="#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> (<a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> <a id="g:12" class="idref" href="#g:12"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:5"><span class="id" title="inductive">t</span></a>) <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;f&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par" class="idref" href="#FreeTemps.par"><span class="id" title="constructor">par</span></a> (<a id="f:13" class="idref" href="#f:13"><span class="id" title="binder">f</span></a> <a id="g:14" class="idref" href="#g:14"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:5"><span class="id" title="inductive">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;Exists&nbsp;Qf&nbsp;Qg,&nbsp;f&nbsp;Qf&nbsp;**&nbsp;g&nbsp;Qg&nbsp;**&nbsp;(Qf&nbsp;-*&nbsp;Qg&nbsp;-*&nbsp;x)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;FreeTemps.t&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t_eq" class="idref" href="#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.refl" class="idref" href="#FreeTemps.refl"><span class="id" title="constructor">refl</span></a> <a id="l:17" class="idref" href="#l:17"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:17"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:17"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.sym" class="idref" href="#FreeTemps.sym"><span class="id" title="constructor">sym</span></a> <a id="l:18" class="idref" href="#l:18"><span class="id" title="binder">l</span></a> <a id="r:19" class="idref" href="#r:19"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:18"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:19"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:19"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:18"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.trans" class="idref" href="#FreeTemps.trans"><span class="id" title="constructor">trans</span></a> <a id="a:20" class="idref" href="#a:20"><span class="id" title="binder">a</span></a> <a id="b:21" class="idref" href="#b:21"><span class="id" title="binder">b</span></a> <a id="c:22" class="idref" href="#c:22"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:20"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:21"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:21"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:22"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:20"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:22"><span class="id" title="variable">c</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seqA" class="idref" href="#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a> <a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> <a id="y:24" class="idref" href="#y:24"><span class="id" title="binder">y</span></a> <a id="z:25" class="idref" href="#z:25"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:23"><span class="id" title="variable">x</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:24"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:25"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:24"><span class="id" title="variable">y</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:25"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitR" class="idref" href="#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a> <a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:26"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitL" class="idref" href="#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_proper_" class="idref" href="#FreeTemps.seq_proper_"><span class="id" title="constructor">seq_proper_</span></a> {<a id="a:28" class="idref" href="#a:28"><span class="id" title="binder">a</span></a> <a id="b:29" class="idref" href="#b:29"><span class="id" title="binder">b</span></a> <a id="c:30" class="idref" href="#c:30"><span class="id" title="binder">c</span></a> <a id="d:31" class="idref" href="#d:31"><span class="id" title="binder">d</span></a>} : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:28"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:29"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:30"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:31"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:28"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:30"><span class="id" title="variable">c</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:29"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:31"><span class="id" title="variable">d</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.parC" class="idref" href="#FreeTemps.parC"><span class="id" title="constructor">parC</span></a> <a id="r:32" class="idref" href="#r:32"><span class="id" title="binder">r</span></a> <a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:32"><span class="id" title="variable">r</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:33"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.parA" class="idref" href="#FreeTemps.parA"><span class="id" title="constructor">parA</span></a> <a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a> <a id="y:35" class="idref" href="#y:35"><span class="id" title="binder">y</span></a> <a id="z:36" class="idref" href="#z:36"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:34"><span class="id" title="variable">x</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:35"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:36"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:34"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:35"><span class="id" title="variable">y</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:36"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_id_unitR" class="idref" href="#FreeTemps.par_id_unitR"><span class="id" title="constructor">par_id_unitR</span></a> <a id="l:37" class="idref" href="#l:37"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:37"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:37"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_id_unitL" class="idref" href="#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a> <a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:38"><span class="id" title="variable">l</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:38"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_proper_" class="idref" href="#FreeTemps.par_proper_"><span class="id" title="constructor">par_proper_</span></a> {<a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> <a id="b:40" class="idref" href="#b:40"><span class="id" title="binder">b</span></a> <a id="c:41" class="idref" href="#c:41"><span class="id" title="binder">c</span></a> <a id="d:42" class="idref" href="#d:42"><span class="id" title="binder">d</span></a>} : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:40"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:41"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:42"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:15"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:39"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:41"><span class="id" title="variable">c</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:40"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d:42"><span class="id" title="variable">d</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.seq_proper" class="idref" href="#FreeTemps.seq_proper"><span class="id" title="instance">seq_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_proper_"><span class="id" title="constructor">seq_proper_</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.par_proper" class="idref" href="#FreeTemps.par_proper"><span class="id" title="instance">par_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_proper_"><span class="id" title="constructor">par_proper_</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.t_Equiv" class="idref" href="#FreeTemps.t_Equiv"><span class="id" title="instance">t_Equiv</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.t_Equivalence" class="idref" href="#FreeTemps.t_Equivalence"><span class="id" title="instance">t_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.refl"><span class="id" title="constructor">refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.sym"><span class="id" title="constructor">sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.trans"><span class="id" title="constructor">trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.parC"><span class="id" title="constructor">parC</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.parA"><span class="id" title="constructor">parA</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_id_unitR"><span class="id" title="constructor">par_id_unitR</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.pars"><span class="id" title="definition">pars</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> *in non-deterministic order*.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.pars" class="idref" href="#FreeTemps.pars"><span class="id" title="definition">pars</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">FreeTemps.par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqs"><span class="id" title="definition">seqs</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> sequentially from left-to-right, i.e.
      the first element in the list is run first.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqs" class="idref" href="#FreeTemps.seqs"><span class="id" title="definition">seqs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">FreeTemps.seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqs_rev"><span class="id" title="definition">seqs_rev</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> sequentially from right-to-left, i.e.
      the first element in the list is destructed last.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqs_rev" class="idref" href="#FreeTemps.seqs_rev"><span class="id" title="definition">seqs_rev</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> <a id="b:44" class="idref" href="#b:44"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">FreeTemps.seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:44"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:43"><span class="id" title="variable">a</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.FreeTemps"><span class="id" title="section">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemp" class="idref" href="#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="comment">(*&nbsp;Notations&nbsp;*)</span><br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">free</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="592ed300ef1069ca1a008c242f24018e" class="idref" href="#592ed300ef1069ca1a008c242f24018e"><span class="id" title="notation">&quot;</span></a>|*|" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#par"><span class="id" title="constructor">FreeTemps.par</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="e7ee732424d29ae8c030d3bb834f6f3f" class="idref" href="#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&quot;</span></a>&gt;*&gt;" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#seq"><span class="id" title="constructor">FreeTemps.seq</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">FreeTemps.t</span>.<br/>

<br/>
<span class="comment">(*&nbsp;continuations<br/>
&nbsp;*&nbsp;C++&nbsp;statements&nbsp;can&nbsp;terminate&nbsp;in&nbsp;4&nbsp;ways.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;note(gmm):&nbsp;technically,&nbsp;they&nbsp;can&nbsp;also&nbsp;raise&nbsp;exceptions;&nbsp;however,<br/>
&nbsp;*&nbsp;our&nbsp;current&nbsp;semantics&nbsp;doesn't&nbsp;capture&nbsp;this.&nbsp;if&nbsp;we&nbsp;want&nbsp;to&nbsp;support<br/>
&nbsp;*&nbsp;exceptions,&nbsp;we&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;another&nbsp;case,<br/>
&nbsp;*&nbsp;`k_throw&nbsp;:&nbsp;val&nbsp;-&gt;&nbsp;mpred`.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Variant</span> <a id="ReturnType" class="idref" href="#ReturnType"><span class="id" title="inductive">ReturnType</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Normal" class="idref" href="#Normal"><span class="id" title="constructor">Normal</span></a><br/>
| <a id="Break" class="idref" href="#Break"><span class="id" title="constructor">Break</span></a><br/>
| <a id="Continue" class="idref" href="#Continue"><span class="id" title="constructor">Continue</span></a><br/>
| <a id="ReturnVal" class="idref" href="#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>)<br/>
| <a id="ReturnVoid" class="idref" href="#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a><br/>
.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="ReturnType_ihn" class="idref" href="#ReturnType_ihn"><span class="id" title="instance">ReturnType_ihn</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="rt_biIndex" class="idref" href="#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#biIndex"><span class="id" title="record">biIndex</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_type"><span class="id" title="projection">bi_index_type</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><br/>
&nbsp;&nbsp;&nbsp;; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_rel"><span class="id" title="projection">bi_index_rel</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><br/>
&nbsp;&nbsp;&nbsp;|}.<br/>
<span class="id" title="keyword">Definition</span> <a id="KpredI" class="idref" href="#KpredI"><span class="id" title="definition">KpredI</span></a> `{<a id="1599156b531db08541b0ea734472e882" class="idref" href="#1599156b531db08541b0ea734472e882"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a>} : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#monPredI"><span class="id" title="definition">monPredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredI"><span class="id" title="definition">mpredI</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_car"><span class="id" title="projection">bi_car</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="section">Kpred</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="4f3c8cf463ede8c1c75dc6e27df02d2d" class="idref" href="#4f3c8cf463ede8c1c75dc6e27df02d2d"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:49" class="idref" href="#thread_info:49"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="KP" class="idref" href="#KP"><span class="id" title="definition">KP</span></a> (<a id="P:51" class="idref" href="#P:51"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#MonPred"><span class="id" title="constructor">MonPred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:51"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <span class="id" title="var">_</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kreturn" class="idref" href="#Kreturn"><span class="id" title="definition">Kreturn</span></a> {<a id="193018d7d3b117e3eea7635a6f1d98b6" class="idref" href="#193018d7d3b117e3eea7635a6f1d98b6"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="P:53" class="idref" href="#P:53"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:54" class="idref" href="#rt:54"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:54"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:57" class="idref" href="#p:57"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:56"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.heap_notations.html#62731479375849aa261b6fbaae1406e9"><span class="id" title="notation">|-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="definition">primR</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tvoid"><span class="id" title="constructor">Tvoid</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.Vvoid"><span class="id" title="definition">Vvoid</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:53"><span class="id" title="variable">P</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:56"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> <span class="id" title="var">p</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:53"><span class="id" title="variable">P</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kseq" class="idref" href="#Kseq"><span class="id" title="definition">Kseq</span></a> (<a id="Q:58" class="idref" href="#Q:58"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:59" class="idref" href="#k:59"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:60" class="idref" href="#rt:60"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:60"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:58"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:59"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rt</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:59"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:60"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="Kseq_mono" class="idref" href="#Kseq_mono"><span class="id" title="instance">Kseq_mono</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="definition">Kseq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Q1</span> <span class="id" title="var">Q2</span> <span class="id" title="var">HQ</span> <span class="id" title="var">k1</span> <span class="id" title="var">k2</span> <span class="id" title="var">Hk</span>; <span class="id" title="tactic">constructor</span> =&gt; <span class="id" title="var">rt</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kseq"><span class="id" title="definition">Kseq</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rt</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HQ</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;loop&nbsp;with&nbsp;invariant&nbsp;`I`&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kloop" class="idref" href="#Kloop"><span class="id" title="definition">Kloop</span></a> (<a id="I:62" class="idref" href="#I:62"><span class="id" title="binder">I</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="Q:63" class="idref" href="#Q:63"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:64" class="idref" href="#rt:64"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:64"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Break"><span class="id" title="constructor">Break</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:63"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Continue"><span class="id" title="constructor">Continue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I:62"><span class="id" title="variable">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rt</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:63"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:64"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kat_exit" class="idref" href="#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> (<a id="Q:66" class="idref" href="#Q:66"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:67" class="idref" href="#k:67"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:68" class="idref" href="#rt:68"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:66"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:67"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:68"><span class="id" title="variable">rt</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="Kat_exit_frame" class="idref" href="#Kat_exit_frame"><span class="id" title="lemma">Kat_exit_frame</span></a> <a id="Q:69" class="idref" href="#Q:69"><span class="id" title="binder">Q</span></a> <a id="Q':70" class="idref" href="#Q':70"><span class="id" title="binder">Q'</span></a> (<a id="k:71" class="idref" href="#k:71"><span class="id" title="binder">k</span></a> <a id="k':72" class="idref" href="#k':72"><span class="id" title="binder">k'</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a> <a id="y:74" class="idref" href="#y:74"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:73"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:74"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:69"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:73"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':70"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:74"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:75" class="idref" href="#rt:75"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:75"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':72"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:75"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:69"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:71"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:75"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':70"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':72"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:75"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a>. <span class="id" title="var">iIntros</span> "A" (?) "B" =&gt;/=. <span class="id" title="var">iApply</span> "A"; <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="mpred_Kpred_BiEmbed" class="idref" href="#mpred_Kpred_BiEmbed"><span class="id" title="instance">mpred_Kpred_BiEmbed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.embedding.html#BiEmbed"><span class="id" title="class">BiEmbed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredI"><span class="id" title="definition">mpredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;KpredI&nbsp;does&nbsp;not&nbsp;embed&nbsp;into&nbsp;mpredI&nbsp;because&nbsp;it&nbsp;doesn't&nbsp;respect<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existentials.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="section">Kpred</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab166"></a><h1 class="section">Regions</h1>

    To model the stack frame in separation logic, we use a notion of regions
    that are threaded through the semantics.

<div class="paragraph"> </div>

    We instantiate <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a></span> as a finite map from variables to their addresses
    (implemented as an association list).

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="region" class="idref" href="#region"><span class="id" title="inductive">region</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Remp" class="idref" href="#Remp"><span class="id" title="constructor">Remp</span></a> (<a id="this:78" class="idref" href="#this:78"><span class="id" title="binder">this</span></a> <a id="var_arg:79" class="idref" href="#var_arg:79"><span class="id" title="binder">var_arg</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ret_type:80" class="idref" href="#ret_type:80"><span class="id" title="binder">ret_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
| <a id="Rbind" class="idref" href="#Rbind"><span class="id" title="constructor">Rbind</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#localname"><span class="id" title="definition">localname</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region:76"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_location" class="idref" href="#get_location"><span class="id" title="definition">get_location</span></a> (<a id="64c36fd7e0c69c69e9a73f67ddebedd4" class="idref" href="#64c36fd7e0c69c69e9a73f67ddebedd4"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#localname"><span class="id" title="definition">localname</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#64c36fd7e0c69c69e9a73f67ddebedd4"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location:83"><span class="id" title="definition">get_location</span></a> <span class="id" title="var">rs</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:82"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_this" class="idref" href="#get_this"><span class="id" title="definition">get_this</span></a> (<a id="22461c170f4d02f133b78f1545b0790d" class="idref" href="#22461c170f4d02f133b78f1545b0790d"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#22461c170f4d02f133b78f1545b0790d"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">this</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">this</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this:86"><span class="id" title="definition">get_this</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_return_type" class="idref" href="#get_return_type"><span class="id" title="definition">get_return_type</span></a> (<a id="1a3394356d0775bc8fdc6b203a0c7e78" class="idref" href="#1a3394356d0775bc8fdc6b203a0c7e78"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1a3394356d0775bc8fdc6b203a0c7e78"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ty</span> =&gt; <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_return_type:89"><span class="id" title="definition">get_return_type</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_va" class="idref" href="#get_va"><span class="id" title="definition">get_va</span></a> (<a id="7f719b97c3b07f1433c051b347129b9a" class="idref" href="#7f719b97c3b07f1433c051b347129b9a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#7f719b97c3b07f1433c051b347129b9a"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">va</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">va</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_va:92"><span class="id" title="definition">get_va</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.b"><span class="id" title="variable">b</span></a></span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> that stores the local variable <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.b"><span class="id" title="variable">b</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_local" class="idref" href="#_local"><span class="id" title="definition">_local</span></a> (<a id="56ba3c88e693e25c8df565549c8ce2bb" class="idref" href="#56ba3c88e693e25c8df565549c8ce2bb"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:95" class="idref" href="#b:95"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#ident"><span class="id" title="definition">ident</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location"><span class="id" title="definition">get_location</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#56ba3c88e693e25c8df565549c8ce2bb"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:95"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a> !<span class="id" title="var">_</span> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>, <span class="id" title="tactic">assert</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a></span> <span class="inlinecode">ρ</span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> that <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> is bound to.

<div class="paragraph"> </div>

    NOTE because <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> is <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.bi.split_cfrac_tests.html#const"><span class="id" title="lemma">const</span></a></span>, we actually store the value directly
    rather than indirectly representing it in memory.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_this" class="idref" href="#_this"><span class="id" title="definition">_this</span></a> (<a id="f2997d344c351e6c9b6b39c28d50fd7a" class="idref" href="#f2997d344c351e6c9b6b39c28d50fd7a"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this"><span class="id" title="definition">get_this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2997d344c351e6c9b6b39c28d50fd7a"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="WPE" class="idref" href="#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp" class="idref" href="#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="d28bbe011225204c88b57a270b5a3987" class="idref" href="#d28bbe011225204c88b57a270b5a3987"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:97" class="idref" href="#thread_info:97"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;monad&nbsp;for&nbsp;expression&nbsp;evaluation&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.M" class="idref" href="#WPE.M"><span class="id" title="definition">M</span></a> (<a id="T:99" class="idref" href="#T:99"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:99"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">FreeTemps.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;natural&nbsp;relation&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">M</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mrel" class="idref" href="#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <a id="T:100" class="idref" href="#T:100"><span class="id" title="binder">T</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:100"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:100"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">FreeTemps.t_eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)%<span class="id" title="var">signature</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mframe" class="idref" href="#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> {<a id="T:101" class="idref" href="#T:101"><span class="id" title="binder">T</span></a>} (<a id="a:102" class="idref" href="#a:102"><span class="id" title="binder">a</span></a> <a id="b:103" class="idref" href="#b:103"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:101"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="Q:104" class="idref" href="#Q:104"><span class="id" title="binder">Q</span></a> <a id="Q':105" class="idref" href="#Q':105"><span class="id" title="binder">Q'</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:106" class="idref" href="#x:106"><span class="id" title="binder">x</span></a> <a id="y:107" class="idref" href="#y:107"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:104"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:107"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':105"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:106"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:107"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:102"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:104"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':105"><span class="id" title="variable">Q'</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mret" class="idref" href="#WPE.Mret"><span class="id" title="definition">Mret</span></a> {<a id="T:108" class="idref" href="#T:108"><span class="id" title="binder">T</span></a>} (<a id="t:109" class="idref" href="#t:109"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:108"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:108"><span class="id" title="variable">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:110" class="idref" href="#K:110"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:110"><span class="id" title="variable">K</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:109"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mmap" class="idref" href="#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> {<a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a> <a id="U:112" class="idref" href="#U:112"><span class="id" title="binder">U</span></a>} (<a id="f:113" class="idref" href="#f:113"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:112"><span class="id" title="variable">U</span></a>) (<a id="t:114" class="idref" href="#t:114"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:111"><span class="id" title="variable">T</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:112"><span class="id" title="variable">U</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:115" class="idref" href="#K:115"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:114"><span class="id" title="variable">t</span></a> (<span class="id" title="keyword">fun</span> <a id="v:116" class="idref" href="#v:116"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:115"><span class="id" title="variable">K</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:113"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:116"><span class="id" title="variable">v</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mmap_frame" class="idref" href="#WPE.Mmap_frame"><span class="id" title="lemma">Mmap_frame</span></a> {<a id="T:117" class="idref" href="#T:117"><span class="id" title="binder">T</span></a> <a id="U:118" class="idref" href="#U:118"><span class="id" title="binder">U</span></a>} <a id="c:119" class="idref" href="#c:119"><span class="id" title="binder">c</span></a> (<a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:117"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:118"><span class="id" title="variable">U</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:119"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:119"><span class="id" title="variable">c</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:119"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>; <span class="id" title="var">iIntros</span> "A" (??) "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Definition</span> <a id="WPE.Mbind" class="idref" href="#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> {<a id="T:121" class="idref" href="#T:121"><span class="id" title="binder">T</span></a> <a id="U:122" class="idref" href="#U:122"><span class="id" title="binder">U</span></a>} (<a id="c:123" class="idref" href="#c:123"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:121"><span class="id" title="variable">T</span></a>) (<a id="k:124" class="idref" href="#k:124"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:121"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:122"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:122"><span class="id" title="variable">U</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:125" class="idref" href="#K:125"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:123"><span class="id" title="variable">c</span></a> (<span class="id" title="keyword">fun</span> <a id="v:126" class="idref" href="#v:126"><span class="id" title="binder">v</span></a> <a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:124"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:126"><span class="id" title="variable">v</span></a> (<span class="id" title="keyword">fun</span> <a id="v':128" class="idref" href="#v':128"><span class="id" title="binder">v'</span></a> <a id="f':129" class="idref" href="#f':129"><span class="id" title="binder">f'</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:125"><span class="id" title="variable">K</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v':128"><span class="id" title="variable">v'</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f':129"><span class="id" title="variable">f'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:127"><span class="id" title="variable">f</span></a>)%<span class="id" title="var">free</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mbind_frame" class="idref" href="#WPE.Mbind_frame"><span class="id" title="lemma">Mbind_frame</span></a> {<a id="T:130" class="idref" href="#T:130"><span class="id" title="binder">T</span></a> <a id="U:131" class="idref" href="#U:131"><span class="id" title="binder">U</span></a>} <a id="c:132" class="idref" href="#c:132"><span class="id" title="binder">c</span></a> (<a id="k:133" class="idref" href="#k:133"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:130"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:131"><span class="id" title="variable">U</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:132"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:132"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:133"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:134"><span class="id" title="variable">x</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:133"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:134"><span class="id" title="variable">x</span></a>)<a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:132"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:133"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:132"><span class="id" title="variable">c</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:133"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>; <span class="id" title="var">iIntros</span> "A B" (??) "C".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "C".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab167"></a><h3 class="section">Indeterminately sequenced computations</h3>

      Note that <span class="inlinecode"><span class="id" title="var">FreeTemps.t</span></span> is sequenced in reverse order of construction
      to encode the stack discipline guaranteed by C++.
      (CITATION NEEDED)
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.nd_seq" class="idref" href="#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> {<a id="T:135" class="idref" href="#T:135"><span class="id" title="binder">T</span></a> <a id="U:136" class="idref" href="#U:136"><span class="id" title="binder">U</span></a>} (<a id="wp1:137" class="idref" href="#wp1:137"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:135"><span class="id" title="variable">T</span></a>) (<a id="wp2:138" class="idref" href="#wp2:138"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:136"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:135"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:136"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="K:139" class="idref" href="#K:139"><span class="id" title="binder">K</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:137"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v1:140" class="idref" href="#v1:140"><span class="id" title="binder">v1</span></a> <a id="f1:141" class="idref" href="#f1:141"><span class="id" title="binder">f1</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:138"><span class="id" title="variable">wp2</span></a> (<span class="id" title="keyword">fun</span> <a id="v2:142" class="idref" href="#v2:142"><span class="id" title="binder">v2</span></a> <a id="f2:143" class="idref" href="#f2:143"><span class="id" title="binder">f2</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:139"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:140"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:142"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:143"><span class="id" title="variable">f2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:141"><span class="id" title="variable">f1</span></a>)%<span class="id" title="var">free</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#23fc0d5bb9014b82545f597774eb1845"><span class="id" title="notation">//\\</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:138"><span class="id" title="variable">wp2</span></a> (<span class="id" title="keyword">fun</span> <a id="v2:144" class="idref" href="#v2:144"><span class="id" title="binder">v2</span></a> <a id="f2:145" class="idref" href="#f2:145"><span class="id" title="binder">f2</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:137"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v1:146" class="idref" href="#v1:146"><span class="id" title="binder">v1</span></a> <a id="f1:147" class="idref" href="#f1:147"><span class="id" title="binder">f1</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#K:139"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:146"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:144"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:147"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:145"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">free</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seq_frame" class="idref" href="#WPE.nd_seq_frame"><span class="id" title="lemma">nd_seq_frame</span></a> {<a id="T:148" class="idref" href="#T:148"><span class="id" title="binder">T</span></a> <a id="U:149" class="idref" href="#U:149"><span class="id" title="binder">U</span></a>} <a id="wp1:150" class="idref" href="#wp1:150"><span class="id" title="binder">wp1</span></a> <a id="wp2:151" class="idref" href="#wp2:151"><span class="id" title="binder">wp2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:150"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:150"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:151"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:151"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:148"><span class="id" title="variable">T</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:149"><span class="id" title="variable">U</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:150"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:151"><span class="id" title="variable">wp2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:150"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:151"><span class="id" title="variable">wp2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B" (??) "C D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>; [ <span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> "[D _]" | <span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> "[_ D]" ]; <span class="id" title="var">iRevert</span> "D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "A". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "B"; <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "C". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> "B". <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "A"; <span class="id" title="var">iIntros</span> (??). <span class="id" title="var">iApply</span> "C". }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Lifting&nbsp;non-deterministic&nbsp;sequencing&nbsp;to&nbsp;lists.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;this&nbsp;is&nbsp;like&nbsp;the&nbsp;semantics&nbsp;of&nbsp;argument&nbsp;evaluation&nbsp;in&nbsp;C++.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WPE.nd_seqs'" class="idref" href="#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> {<a id="T:152" class="idref" href="#T:152"><span class="id" title="binder">T</span></a>} (<a id="f:153" class="idref" href="#f:153"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="qs:154" class="idref" href="#qs:154"><span class="id" title="binder">qs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:152"><span class="id" title="variable">T</span></a>)) {<span class="id" title="keyword">struct</span> <span class="id" title="var">f</span>} : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:152"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:154"><span class="id" title="variable">qs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:153"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">f</span> =&gt; <span class="id" title="keyword">fun</span> <a id="Q:158" class="idref" href="#Q:158"><span class="id" title="binder">Q</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="pre:159" class="idref" href="#pre:159"><span class="id" title="binder">pre</span></a> <a id="post:160" class="idref" href="#post:160"><span class="id" title="binder">post</span></a> <a id="q:161" class="idref" href="#q:161"><span class="id" title="binder">q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:154"><span class="id" title="variable">qs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:159"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:161"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#post:160"><span class="id" title="variable">post</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lpre:162" class="idref" href="#lpre:162"><span class="id" title="binder">lpre</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:159"><span class="id" title="variable">pre</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:161"><span class="id" title="variable">q</span></a> (<span class="id" title="keyword">fun</span> <a id="t:163" class="idref" href="#t:163"><span class="id" title="binder">t</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> <a id="ts:164" class="idref" href="#ts:164"><span class="id" title="binder">ts</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#lpre:162"><span class="id" title="variable">lpre</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ts:164"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:163"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#lpre:162"><span class="id" title="variable">lpre</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ts:164"><span class="id" title="variable">ts</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#nd_seqs':155"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:153"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#pre:159"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#post:160"><span class="id" title="variable">post</span></a>))) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:158"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.nd_seqs" class="idref" href="#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> {<a id="T:165" class="idref" href="#T:165"><span class="id" title="binder">T</span></a>} <a id="qs:166" class="idref" href="#qs:166"><span class="id" title="binder">qs</span></a> := @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:165"><span class="id" title="variable">T</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:166"><span class="id" title="variable">qs</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#qs:166"><span class="id" title="variable">qs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seqs'_frame" class="idref" href="#WPE.nd_seqs'_frame"><span class="id" title="lemma">nd_seqs'_frame</span></a> {<a id="T:167" class="idref" href="#T:167"><span class="id" title="binder">T</span></a>} <a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:169" class="idref" href="#ls:169"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:167"><span class="id" title="variable">T</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:169"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:171" class="idref" href="#m:171"><span class="id" title="binder">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:169"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:170"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:170"><span class="id" title="variable">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:169"><span class="id" title="variable">ls</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:168"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:169"><span class="id" title="variable">ls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "_" (??) "X". <span class="id" title="var">iApply</span> "X". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> "?" (??) "? []". } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "LS" (??) "X Y"; <span class="id" title="var">iIntros</span> (???) "%P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">pre</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">post</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">q</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Y"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "LS" <span class="id" title="keyword">as</span> "(a&amp;b&amp;c)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "Y".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind_frame"><span class="id" title="lemma">Mbind_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "b [a c]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap_frame"><span class="id" title="lemma">Mmap_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">have</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">post</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "a"; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.nd_seqs_frame_strong" class="idref" href="#WPE.nd_seqs_frame_strong"><span class="id" title="lemma">nd_seqs_frame_strong</span></a> {<a id="T:172" class="idref" href="#T:172"><span class="id" title="binder">T</span></a>} <a id="n:173" class="idref" href="#n:173"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="ls:174" class="idref" href="#ls:174"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:172"><span class="id" title="variable">T</span></a>)) <a id="Q:175" class="idref" href="#Q:175"><span class="id" title="binder">Q</span></a> <a id="Q':176" class="idref" href="#Q':176"><span class="id" title="binder">Q'</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:174"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:177" class="idref" href="#x:177"><span class="id" title="binder">x</span></a> <a id="y:178" class="idref" href="#y:178"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:174"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:175"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:178"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':176"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:178"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:174"><span class="id" title="variable">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#m:179"><span class="id" title="variable">m</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:174"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:175"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs'"><span class="id" title="definition">nd_seqs'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#n:173"><span class="id" title="variable">n</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:174"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':176"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">case_match</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X _". <span class="id" title="var">iApply</span> "X". <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>. <span class="id" title="var">exfalso</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X LS Y" (???) "%P".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">pre</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">post</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">q</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Y" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "Y"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "LS" <span class="id" title="keyword">as</span> "(a&amp;b&amp;c)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "Y". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "b".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">ls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">post</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">have</span>: (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">post</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> /=. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IHn</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[X]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "X". <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[a c]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "a"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "X". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">iIntros</span> (??) "%". <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#firstn_length_le"><span class="id" title="lemma">firstn_length_le</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#skipn_length"><span class="id" title="lemma">skipn_length</span></a>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;sanity&nbsp;check&nbsp;on&nbsp;<span class="inlinecode"><span class="id" title="var">nd_seq</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">nd_seqs</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a id="WPE.nd_seq_example" class="idref" href="#WPE.nd_seq_example"><span class="id" title="definition">nd_seq_example</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> {<a id="T:181" class="idref" href="#T:181"><span class="id" title="binder">T</span></a>} (<a id="a:182" class="idref" href="#a:182"><span class="id" title="binder">a</span></a> <a id="b:183" class="idref" href="#b:183"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:181"><span class="id" title="variable">T</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:182"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:183"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:182"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:183"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">(</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">a</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">,</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">b</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:185"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:184"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:182"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:183"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seqs"><span class="id" title="definition">nd_seqs</span></a>/=; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.nd_seq"><span class="id" title="definition">nd_seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X". <span class="id" title="var">iApply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"X" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">FreeTemps.seq_id_unitL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab168"></a><h3 class="section">sequencing of monadic compuations</h3>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.seq" class="idref" href="#WPE.seq"><span class="id" title="definition">seq</span></a> {<a id="T:187" class="idref" href="#T:187"><span class="id" title="binder">T</span></a> <a id="U:188" class="idref" href="#U:188"><span class="id" title="binder">U</span></a>} (<a id="wp1:189" class="idref" href="#wp1:189"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:187"><span class="id" title="variable">T</span></a>) (<a id="wp2:190" class="idref" href="#wp2:190"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:188"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:187"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:188"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mbind"><span class="id" title="definition">Mbind</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:189"><span class="id" title="variable">wp1</span></a> (<span class="id" title="keyword">fun</span> <a id="v:191" class="idref" href="#v:191"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> <a id="x:192" class="idref" href="#x:192"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:191"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:192"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:190"><span class="id" title="variable">wp2</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab169"></a><h3 class="section">interleaving of monadic values</h3>


<div class="paragraph"> </div>

      We encode interleaving through concurrency which we represent through
      separable resources.

<div class="paragraph"> </div>

      NOTE: this is like the semantics of argument evaluation in C
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.Mpar" class="idref" href="#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> {<a id="T:193" class="idref" href="#T:193"><span class="id" title="binder">T</span></a> <a id="U:194" class="idref" href="#U:194"><span class="id" title="binder">U</span></a>} (<a id="wp1:195" class="idref" href="#wp1:195"><span class="id" title="binder">wp1</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:193"><span class="id" title="variable">T</span></a>) (<a id="wp2:196" class="idref" href="#wp2:196"><span class="id" title="binder">wp2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:194"><span class="id" title="variable">U</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:193"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:194"><span class="id" title="variable">U</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="Q:197" class="idref" href="#Q:197"><span class="id" title="binder">Q</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">Exists</span></a> <a id="Q1:198" class="idref" href="#Q1:198"><span class="id" title="binder">Q1</span></a> <a id="Q2:199" class="idref" href="#Q2:199"><span class="id" title="binder">Q2</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#3ad7164693adfb9816edb0160af074a6"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:195"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:198"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:196"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:199"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v1:200" class="idref" href="#v1:200"><span class="id" title="binder">v1</span></a> <a id="v2:201" class="idref" href="#v2:201"><span class="id" title="binder">v2</span></a> <a id="f1:202" class="idref" href="#f1:202"><span class="id" title="binder">f1</span></a> <a id="f2:203" class="idref" href="#f2:203"><span class="id" title="binder">f2</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:198"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:200"><span class="id" title="variable">v1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:202"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:199"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:201"><span class="id" title="variable">v2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:203"><span class="id" title="variable">f2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:197"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v1:200"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#v2:201"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f1:202"><span class="id" title="variable">f1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#592ed300ef1069ca1a008c242f24018e"><span class="id" title="notation">|*|</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f2:203"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">free</span><a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.Mpar_frame" class="idref" href="#WPE.Mpar_frame"><span class="id" title="lemma">Mpar_frame</span></a> {<a id="T:204" class="idref" href="#T:204"><span class="id" title="binder">T</span></a> <a id="U:205" class="idref" href="#U:205"><span class="id" title="binder">U</span></a>} <a id="wp1:206" class="idref" href="#wp1:206"><span class="id" title="binder">wp1</span></a> <a id="wp2:207" class="idref" href="#wp2:207"><span class="id" title="binder">wp2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:206"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:206"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:207"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:207"><span class="id" title="variable">wp2</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a> (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:204"><span class="id" title="variable">T</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#U:205"><span class="id" title="variable">U</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:206"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:207"><span class="id" title="variable">wp2</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp1:206"><span class="id" title="variable">wp1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#wp2:207"><span class="id" title="variable">wp2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B" (??) "C D".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mframe"><span class="id" title="definition">Mframe</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "D" <span class="id" title="keyword">as</span> (??) "(D1 &amp; D2 &amp; K)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "D1 A".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "A". 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iIntros</span> (??) "X"; <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "D2 B".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "B". 2: <span class="id" title="tactic">eauto</span>. <span class="id" title="var">iIntros</span> (??) "X"; <span class="id" title="var">iApply</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (????) "A B". <span class="id" title="var">iApply</span> "C". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"K" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "A B"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
lifting <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a></span> to homogeneous lists 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="WPE.Mpars" class="idref" href="#WPE.Mpars"><span class="id" title="definition">Mpars</span></a> {<a id="T:208" class="idref" href="#T:208"><span class="id" title="binder">T</span></a>} (<a id="f:209" class="idref" href="#f:209"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:208"><span class="id" title="variable">T</span></a>)) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#T:208"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:209"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mret"><span class="id" title="definition">Mret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">fs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mmap"><span class="id" title="definition">Mmap</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">(</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">v</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">,</span></a> <a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">vs</span></a><a id="pat:214" class="idref" href="#pat:214"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:213"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vs:212"><span class="id" title="variable">vs</span></a>) <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#547692780023ef044153bc0c4f871ef7"><span class="id" title="notation">$</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mpar"><span class="id" title="definition">Mpar</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:209"><span class="id" title="variable">f</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Mpars:210"><span class="id" title="definition">Mpars</span></a> <span class="id" title="var">fs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;expressions&nbsp;in&nbsp;the&nbsp;C++&nbsp;language&nbsp;are&nbsp;categorized&nbsp;into&nbsp;five<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"value&nbsp;categories"&nbsp;as&nbsp;defined&nbsp;in:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1
   *
   * - "A glvalue is an expression whose evaluation determines the identity of
   *    an object or function."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.1<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation&nbsp;initializes&nbsp;an&nbsp;object&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,&nbsp;as&nbsp;specified&nbsp;by&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,&nbsp;or&nbsp;an&nbsp;expression&nbsp;that&nbsp;has&nbsp;type&nbsp;cv&nbsp;void."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.2
   * - "An xvalue is a glvalue that denotes an object whose resources can be
   *    reused (usually because it is near the end of its lifetime)."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.3<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"An&nbsp;lvalue&nbsp;is&nbsp;a&nbsp;glvalue&nbsp;that&nbsp;is&nbsp;not&nbsp;an&nbsp;xvalue."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.4
   * - "An rvalue is a prvalue or an xvalue."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.5<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
lvalues 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_lval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">wp_lval</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;evaluates&nbsp;the&nbsp;expression&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;in&nbsp;region&nbsp;<span class="inlinecode">ρ</span><br/>
&nbsp;&nbsp;&nbsp;*&nbsp;with&nbsp;mask&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span>&nbsp;and&nbsp;continutation&nbsp;<span class="inlinecode"><span class="id" title="var">Q</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_lval" class="idref" href="#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:215" class="idref" href="#resolve:215"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_lval&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_lval_shift" class="idref" href="#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="830bfe344abb5af4e52063c665b440ba" class="idref" href="#830bfe344abb5af4e52063c665b440ba"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:218" class="idref" href="#tu:218"><span class="id" title="binder">tu</span></a> <a id="9b2261ae350a83b794e7beb7416aa5d7" class="idref" href="#9b2261ae350a83b794e7beb7416aa5d7"><span class="id" title="binder">ρ</span></a> <a id="e:220" class="idref" href="#e:220"><span class="id" title="binder">e</span></a> <a id="Q:221" class="idref" href="#Q:221"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:218"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9b2261ae350a83b794e7beb7416aa5d7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:220"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:222" class="idref" href="#v:222"><span class="id" title="binder">v</span></a> <a id="free:223" class="idref" href="#free:223"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:221"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:222"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:223"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:218"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9b2261ae350a83b794e7beb7416aa5d7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:220"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:221"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_lval_models" class="idref" href="#WPE.wp_lval_models"><span class="id" title="axiom">wp_lval_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="664ca58032ba07cb82f569b38bf05ebf" class="idref" href="#664ca58032ba07cb82f569b38bf05ebf"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:226" class="idref" href="#tu:226"><span class="id" title="binder">tu</span></a> <a id="a19521f7ddeffe3dfceeab0ac333d226" class="idref" href="#a19521f7ddeffe3dfceeab0ac333d226"><span class="id" title="binder">ρ</span></a> <a id="e:228" class="idref" href="#e:228"><span class="id" title="binder">e</span></a> <a id="Q:229" class="idref" href="#Q:229"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:226"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:226"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a19521f7ddeffe3dfceeab0ac333d226"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:228"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:229"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:226"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a19521f7ddeffe3dfceeab0ac333d226"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:228"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:229"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_lval_frame" class="idref" href="#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="723824d26a1aa3d1e06b3e37e32564fd" class="idref" href="#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="binder">σ</span></a> <a id="tu1:232" class="idref" href="#tu1:232"><span class="id" title="binder">tu1</span></a> <a id="tu2:233" class="idref" href="#tu2:233"><span class="id" title="binder">tu2</span></a> <a id="8d4702a7357f11b86aacaad3c42894fa" class="idref" href="#8d4702a7357f11b86aacaad3c42894fa"><span class="id" title="binder">ρ</span></a> <a id="e:235" class="idref" href="#e:235"><span class="id" title="binder">e</span></a> <a id="k1:236" class="idref" href="#k1:236"><span class="id" title="binder">k1</span></a> <a id="k2:237" class="idref" href="#k2:237"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:232"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:233"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:238" class="idref" href="#v:238"><span class="id" title="binder">v</span></a> <a id="f:239" class="idref" href="#f:239"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:236"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:238"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:239"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:237"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:238"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:239"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:232"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8d4702a7357f11b86aacaad3c42894fa"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:236"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#723824d26a1aa3d1e06b3e37e32564fd"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:233"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8d4702a7357f11b86aacaad3c42894fa"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:235"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:237"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_lval" class="idref" href="#WPE.Proper_wp_lval"><span class="id" title="instance">Proper_wp_lval</span></a> {<a id="babc9fc1ff333482a464ffe0bc5bde0e" class="idref" href="#babc9fc1ff333482a464ffe0bc5bde0e"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#babc9fc1ff333482a464ffe0bc5bde0e"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X". <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_lval" class="idref" href="#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="6ff0220ff5ddbabff48ddbf7d50273d9" class="idref" href="#6ff0220ff5ddbabff48ddbf7d50273d9"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:243" class="idref" href="#tu:243"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="571023e8428f1f3a89510977b758a9a8" class="idref" href="#571023e8428f1f3a89510977b758a9a8"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:245" class="idref" href="#e:245"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d5d7f5116cb446f56f45e70ce4737a2f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_wand" class="idref" href="#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a id="Q1:246" class="idref" href="#Q1:246"><span class="id" title="binder">Q1</span></a> <a id="Q2:247" class="idref" href="#Q2:247"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:246"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:248" class="idref" href="#v:248"><span class="id" title="binder">v</span></a> <a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:246"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:248"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:249"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:247"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:248"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:249"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:247"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_lval" class="idref" href="#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a> <a id="Q:250" class="idref" href="#Q:250"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:250"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:250"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_fupd" class="idref" href="#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a> <a id="Q:251" class="idref" href="#Q:251"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:252" class="idref" href="#v:252"><span class="id" title="binder">v</span></a> <a id="f:253" class="idref" href="#f:253"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:251"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:252"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:253"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:251"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_lval" class="idref" href="#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a> <a id="p:254" class="idref" href="#p:254"><span class="id" title="binder">p</span></a> <a id="P:255" class="idref" href="#P:255"><span class="id" title="binder">P</span></a> <a id="Q:256" class="idref" href="#Q:256"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:254"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:255"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:255"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:256"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:256"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_lval" class="idref" href="#WPE.elim_modal_bupd_wp_lval"><span class="id" title="instance">elim_modal_bupd_wp_lval</span></a> <a id="p:257" class="idref" href="#p:257"><span class="id" title="binder">p</span></a> <a id="P:258" class="idref" href="#P:258"><span class="id" title="binder">P</span></a> <a id="Q:259" class="idref" href="#Q:259"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:257"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:258"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:258"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:259"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:259"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_lval" class="idref" href="#WPE.add_modal_fupd_wp_lval"><span class="id" title="instance">add_modal_fupd_wp_lval</span></a> <a id="P:260" class="idref" href="#P:260"><span class="id" title="binder">P</span></a> <a id="Q:261" class="idref" href="#Q:261"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:260"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:260"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:261"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab170"></a><h1 class="section">prvalue</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;there&nbsp;are&nbsp;two&nbsp;distinct&nbsp;weakest&nbsp;pre-conditions&nbsp;for&nbsp;this&nbsp;corresponding&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;standard&nbsp;text:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation...<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;1.&nbsp;initializes&nbsp;an&nbsp;object,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;2.&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;by&nbsp;the&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,..."<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_init&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"initializes&nbsp;an&nbsp;object".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;continuation&nbsp;is&nbsp;passed&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="keyword">type</span></span>&nbsp;and&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">FreeTemp.t</span></span>.&nbsp;The&nbsp;first&nbsp;is&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;of&nbsp;the&nbsp;constructed&nbsp;value,&nbsp;which&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">FreeTemp.t</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;<span class="inlinecode"><span class="id" title="var">FreeTemps.delete</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;(where&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span>&nbsp;is&nbsp;the&nbsp;passed&nbsp;in&nbsp;pointer).&nbsp;The<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">FreeTemp.t</span></span>&nbsp;is&nbsp;used&nbsp;to&nbsp;delete&nbsp;temporaries&nbsp;created&nbsp;while&nbsp;creating&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value.&nbsp;To&nbsp;delete&nbsp;both&nbsp;correctly,&nbsp;you&nbsp;must&nbsp;destroy&nbsp;the&nbsp;value&nbsp;*before*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destroying&nbsp;the&nbsp;temporaries.&nbsp;Only&nbsp;destroying&nbsp;temporaries&nbsp;(and&nbsp;discarding&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;argument)&nbsp;is&nbsp;legal&nbsp;when&nbsp;mandated&nbsp;by&nbsp;the&nbsp;semantics,&nbsp;for&nbsp;example,&nbsp;in&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable&nbsp;declaration.&nbsp;`int&nbsp;x&nbsp;=&nbsp;(C{},&nbsp;2);`<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;memory&nbsp;that&nbsp;is&nbsp;being&nbsp;initialized&nbsp;is&nbsp;already&nbsp;owned&nbsp;by&nbsp;the&nbsp;C++&nbsp;abstract<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;machine.&nbsp;Therefore,&nbsp;schematically,&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">addr</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;looks&nbsp;like&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;following:&nbsp;<span class="inlinecode">[</span> <span class="inlinecode"><span class="id" title="var">addr</span></span> <span class="inlinecode">|-&gt;</span> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">...</span> <span class="inlinecode">1</span> <span class="inlinecode">-*</span> <span class="inlinecode"><span class="id" title="var">Q</span></span> <span class="inlinecode">]</span>&nbsp;This&nbsp;choice&nbsp;means&nbsp;that&nbsp;a&nbsp;thread<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needs&nbsp;to&nbsp;give&nbsp;up&nbsp;the&nbsp;memory&nbsp;to&nbsp;the&nbsp;abstract&nbsp;machine&nbsp;when&nbsp;it&nbsp;transitions&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span>.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;stack&nbsp;allocation,&nbsp;there&nbsp;is&nbsp;nothing&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;here,&nbsp;but&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">new</span></span>,&nbsp;the&nbsp;memory&nbsp;must&nbsp;be&nbsp;given&nbsp;up.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;C++&nbsp;standard&nbsp;has&nbsp;many&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;(see<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://eel.is/c++draft/dcl.init&gt;).&nbsp;The&nbsp;Clang&nbsp;frontend&nbsp;(and&nbsp;therefore&nbsp;our<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AST)&nbsp;implements&nbsp;the&nbsp;different&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;through&nbsp;elaboration.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;example,&nbsp;in&nbsp;aggregate&nbsp;pass-by-value&nbsp;the&nbsp;standard&nbsp;states&nbsp;that&nbsp;copy<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initialization&nbsp;&lt;https://eel.is/c++draft/dcl.initgeneral-14> is used;
     however, the BRiCk AST contains an explicit [Econstructor] in the AST to
     represent this. This seems necessary to have a uniform representation of
     the various evoluations of initialization between different standards, e.g.
     C++14, C++17, etc.

     NOTE: this doesn't really fit the pattern for [M]... *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_init" class="idref" href="#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:262" class="idref" href="#resolve:262"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;type&nbsp;to&nbsp;destroy&nbsp;-&gt;&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_init&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_init_shift" class="idref" href="#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="026a2ed6c41693b7e71e4c6be016b116" class="idref" href="#026a2ed6c41693b7e71e4c6be016b116"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:265" class="idref" href="#tu:265"><span class="id" title="binder">tu</span></a> <a id="c2e05ec36fc02b8def22058be266e0ad" class="idref" href="#c2e05ec36fc02b8def22058be266e0ad"><span class="id" title="binder">ρ</span></a> <a id="ty:267" class="idref" href="#ty:267"><span class="id" title="binder">ty</span></a> <a id="p:268" class="idref" href="#p:268"><span class="id" title="binder">p</span></a> <a id="e:269" class="idref" href="#e:269"><span class="id" title="binder">e</span></a> <a id="Q:270" class="idref" href="#Q:270"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:265"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c2e05ec36fc02b8def22058be266e0ad"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:267"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:269"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="free:271" class="idref" href="#free:271"><span class="id" title="binder">free</span></a> <a id="frees:272" class="idref" href="#frees:272"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:270"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:271"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:272"><span class="id" title="variable">frees</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:265"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c2e05ec36fc02b8def22058be266e0ad"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:267"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:268"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:269"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:270"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_init_models" class="idref" href="#WPE.wp_init_models"><span class="id" title="axiom">wp_init_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="9973db2f955b12f2350397e584aba5d3" class="idref" href="#9973db2f955b12f2350397e584aba5d3"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:275" class="idref" href="#tu:275"><span class="id" title="binder">tu</span></a> <a id="ty:276" class="idref" href="#ty:276"><span class="id" title="binder">ty</span></a> <a id="e6fc75d3a64eb3ad5926b91bf0450148" class="idref" href="#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="binder">ρ</span></a> <a id="p:278" class="idref" href="#p:278"><span class="id" title="binder">p</span></a> <a id="e:279" class="idref" href="#e:279"><span class="id" title="binder">e</span></a> <a id="Q:280" class="idref" href="#Q:280"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:275"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:275"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:276"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:278"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:280"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:275"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e6fc75d3a64eb3ad5926b91bf0450148"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:276"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:278"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:280"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_init_frame" class="idref" href="#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="4ee33add8b69f35f20b3d622bc5ae5a2" class="idref" href="#4ee33add8b69f35f20b3d622bc5ae5a2"><span class="id" title="binder">σ</span></a> <a id="tu1:283" class="idref" href="#tu1:283"><span class="id" title="binder">tu1</span></a> <a id="tu2:284" class="idref" href="#tu2:284"><span class="id" title="binder">tu2</span></a> <a id="f7bafa5999c33d3a84299b32873d5231" class="idref" href="#f7bafa5999c33d3a84299b32873d5231"><span class="id" title="binder">ρ</span></a> <a id="ty:286" class="idref" href="#ty:286"><span class="id" title="binder">ty</span></a> <a id="p:287" class="idref" href="#p:287"><span class="id" title="binder">p</span></a> <a id="e:288" class="idref" href="#e:288"><span class="id" title="binder">e</span></a> <a id="k1:289" class="idref" href="#k1:289"><span class="id" title="binder">k1</span></a> <a id="k2:290" class="idref" href="#k2:290"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:283"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:284"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="f:291" class="idref" href="#f:291"><span class="id" title="binder">f</span></a> <a id="fs:292" class="idref" href="#fs:292"><span class="id" title="binder">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:289"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:291"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:292"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:290"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:291"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:292"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#4ee33add8b69f35f20b3d622bc5ae5a2"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:283"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f7bafa5999c33d3a84299b32873d5231"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:286"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:287"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:288"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:289"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#4ee33add8b69f35f20b3d622bc5ae5a2"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:284"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f7bafa5999c33d3a84299b32873d5231"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:286"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:287"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:288"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:290"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_init" class="idref" href="#WPE.Proper_wp_init"><span class="id" title="instance">Proper_wp_init</span></a> <a id="83043e8e6f11ab73e500b3905360e667" class="idref" href="#83043e8e6f11ab73e500b3905360e667"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#83043e8e6f11ab73e500b3905360e667"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_init" class="idref" href="#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="6ba5963129b0a161e5c7f775b275711c" class="idref" href="#6ba5963129b0a161e5c7f775b275711c"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:296" class="idref" href="#tu:296"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="c771ed92de13c7493da3a97d0bebdde5" class="idref" href="#c771ed92de13c7493da3a97d0bebdde5"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="ty:298" class="idref" href="#ty:298"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:299" class="idref" href="#p:299"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="e:300" class="idref" href="#e:300"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5177df966d518039fadcc9b95e674bb5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.p"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_wand" class="idref" href="#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a id="Q1:301" class="idref" href="#Q1:301"><span class="id" title="binder">Q1</span></a> <a id="Q2:302" class="idref" href="#Q2:302"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:301"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="f:303" class="idref" href="#f:303"><span class="id" title="binder">f</span></a> <a id="fs:304" class="idref" href="#fs:304"><span class="id" title="binder">fs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:301"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:303"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:304"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:302"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:303"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:304"><span class="id" title="variable">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:302"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_init" class="idref" href="#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a> <a id="Q:305" class="idref" href="#Q:305"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:305"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:305"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_fupd" class="idref" href="#WPE.wp_init_fupd"><span class="id" title="lemma">wp_init_fupd</span></a> <a id="Q:306" class="idref" href="#Q:306"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="f:307" class="idref" href="#f:307"><span class="id" title="binder">f</span></a> <a id="fs:308" class="idref" href="#fs:308"><span class="id" title="binder">fs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:306"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:307"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:308"><span class="id" title="variable">fs</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:306"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_init" class="idref" href="#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a> <a id="q:309" class="idref" href="#q:309"><span class="id" title="binder">q</span></a> <a id="P:310" class="idref" href="#P:310"><span class="id" title="binder">P</span></a> <a id="Q:311" class="idref" href="#Q:311"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:309"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:310"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:310"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:311"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:311"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_init" class="idref" href="#WPE.elim_modal_bupd_wp_init"><span class="id" title="instance">elim_modal_bupd_wp_init</span></a> <a id="q:312" class="idref" href="#q:312"><span class="id" title="binder">q</span></a> <a id="P:313" class="idref" href="#P:313"><span class="id" title="binder">P</span></a> <a id="Q:314" class="idref" href="#Q:314"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:312"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:313"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:313"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:314"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:314"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_init" class="idref" href="#WPE.add_modal_fupd_wp_init"><span class="id" title="instance">add_modal_fupd_wp_init</span></a> <a id="P:315" class="idref" href="#P:315"><span class="id" title="binder">P</span></a> <a id="Q:316" class="idref" href="#Q:316"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:315"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:315"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:316"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_prval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_prval" class="idref" href="#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a> {<a id="resolve:317" class="idref" href="#resolve:317"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:318" class="idref" href="#tu:318"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="1653da3ca4fa9c0ab30c355f02f9f1ef" class="idref" href="#1653da3ca4fa9c0ab30c355f02f9f1ef"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:320" class="idref" href="#e:320"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="Q:321" class="idref" href="#Q:321"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="p:322" class="idref" href="#p:322"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:318"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1653da3ca4fa9c0ab30c355f02f9f1ef"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:320"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:322"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:320"><span class="id" title="variable">e</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:321"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:322"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_prval&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
TODO prove instances for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_prval"><span class="id" title="abbreviation">wp_prval</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_operand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator"<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_operand" class="idref" href="#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:323" class="idref" href="#resolve:323"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_operand&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_shift" class="idref" href="#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="940de9cc96e6bb527301ad2f51c82733" class="idref" href="#940de9cc96e6bb527301ad2f51c82733"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:326" class="idref" href="#tu:326"><span class="id" title="binder">tu</span></a> <a id="497e9212f835eceab8339548107ea582" class="idref" href="#497e9212f835eceab8339548107ea582"><span class="id" title="binder">ρ</span></a> <a id="e:328" class="idref" href="#e:328"><span class="id" title="binder">e</span></a> <a id="Q:329" class="idref" href="#Q:329"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:326"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#497e9212f835eceab8339548107ea582"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:328"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:330" class="idref" href="#v:330"><span class="id" title="binder">v</span></a> <a id="free:331" class="idref" href="#free:331"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:329"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:330"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:331"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#940de9cc96e6bb527301ad2f51c82733"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:326"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#497e9212f835eceab8339548107ea582"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:328"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:329"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_models" class="idref" href="#WPE.wp_operand_models"><span class="id" title="axiom">wp_operand_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="195eb7d9f248de7954d841786f06de8b" class="idref" href="#195eb7d9f248de7954d841786f06de8b"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:334" class="idref" href="#tu:334"><span class="id" title="binder">tu</span></a> <a id="ac823384d46d66ba3748b85323a10629" class="idref" href="#ac823384d46d66ba3748b85323a10629"><span class="id" title="binder">ρ</span></a> <a id="e:336" class="idref" href="#e:336"><span class="id" title="binder">e</span></a> <a id="Q:337" class="idref" href="#Q:337"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:334"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:334"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ac823384d46d66ba3748b85323a10629"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:336"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:337"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:334"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ac823384d46d66ba3748b85323a10629"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:336"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:337"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_frame" class="idref" href="#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="61d78c5385e6af75c2ce51f3b94b1d25" class="idref" href="#61d78c5385e6af75c2ce51f3b94b1d25"><span class="id" title="binder">σ</span></a> <a id="tu1:340" class="idref" href="#tu1:340"><span class="id" title="binder">tu1</span></a> <a id="tu2:341" class="idref" href="#tu2:341"><span class="id" title="binder">tu2</span></a> <a id="8dd004bc3f1a9ddce67022497261a1d4" class="idref" href="#8dd004bc3f1a9ddce67022497261a1d4"><span class="id" title="binder">ρ</span></a> <a id="e:343" class="idref" href="#e:343"><span class="id" title="binder">e</span></a> <a id="k1:344" class="idref" href="#k1:344"><span class="id" title="binder">k1</span></a> <a id="k2:345" class="idref" href="#k2:345"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:340"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:341"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:346" class="idref" href="#v:346"><span class="id" title="binder">v</span></a> <a id="f:347" class="idref" href="#f:347"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:344"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:346"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:345"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:346"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:347"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#61d78c5385e6af75c2ce51f3b94b1d25"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:340"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8dd004bc3f1a9ddce67022497261a1d4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:343"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:344"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#61d78c5385e6af75c2ce51f3b94b1d25"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:341"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8dd004bc3f1a9ddce67022497261a1d4"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:343"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:345"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
</div>

<div class="doc">
C++ evaluation semantics guarantees that all expressions of type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.zstring.html#zstring.t"><span class="id" title="definition">t</span></a></span> that
      evaluate without UB evaluate to a well-typed value of type <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.zstring.html#zstring.t"><span class="id" title="definition">t</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_well_typed" class="idref" href="#WPE.wp_operand_well_typed"><span class="id" title="axiom">wp_operand_well_typed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="bd99825b106d19af92a6386298daa833" class="idref" href="#bd99825b106d19af92a6386298daa833"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:350" class="idref" href="#tu:350"><span class="id" title="binder">tu</span></a> <a id="32f7c71cce50bab8a3b753e664d93547" class="idref" href="#32f7c71cce50bab8a3b753e664d93547"><span class="id" title="binder">ρ</span></a> <a id="e:352" class="idref" href="#e:352"><span class="id" title="binder">e</span></a> <a id="Q:353" class="idref" href="#Q:353"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:350"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#32f7c71cce50bab8a3b753e664d93547"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:352"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:354" class="idref" href="#v:354"><span class="id" title="binder">v</span></a> <a id="frees:355" class="idref" href="#frees:355"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.has_type"><span class="id" title="axiom">has_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:354"><span class="id" title="variable">v</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:352"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:353"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:354"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:355"><span class="id" title="variable">frees</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:350"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#32f7c71cce50bab8a3b753e664d93547"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:352"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:353"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_init&nbsp;&lt;-&gt;&nbsp;wp_operand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_wp_init" class="idref" href="#WPE.wp_operand_wp_init"><span class="id" title="axiom">wp_operand_wp_init</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="9fd4fc2902bb3a3c2e36428cd4dff981" class="idref" href="#9fd4fc2902bb3a3c2e36428cd4dff981"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:358" class="idref" href="#tu:358"><span class="id" title="binder">tu</span></a> <a id="1cfaaa059c40a2da7e07dc2f4166dbbc" class="idref" href="#1cfaaa059c40a2da7e07dc2f4166dbbc"><span class="id" title="binder">ρ</span></a> <a id="ty:360" class="idref" href="#ty:360"><span class="id" title="binder">ty</span></a> <a id="addr:361" class="idref" href="#addr:361"><span class="id" title="binder">addr</span></a> <a id="e:362" class="idref" href="#e:362"><span class="id" title="binder">e</span></a> <a id="Q:363" class="idref" href="#Q:363"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_value_type"><span class="id" title="definition">is_value_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:360"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:358"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1cfaaa059c40a2da7e07dc2f4166dbbc"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:362"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:364" class="idref" href="#v:364"><span class="id" title="binder">v</span></a> <a id="frees:365" class="idref" href="#frees:365"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.heap_notations.html#_at"><span class="id" title="abbreviation">_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#addr:361"><span class="id" title="variable">addr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="definition">primR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:360"><span class="id" title="variable">ty</span></a> (<a class="idref" href="bedrock.lang.cpp.algebra.cfrac.html#cQp.mut"><span class="id" title="abbreviation">cQp.mut</span></a> 1) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:364"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:363"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:360"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:365"><span class="id" title="variable">frees</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:358"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1cfaaa059c40a2da7e07dc2f4166dbbc"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:360"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#addr:361"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:362"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:363"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
</div>

<div class="doc">
This is justified in the logic but technically not sactioned by the standard

<div class="paragraph"> </div>

    <br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">wp_init_wp_operand</span> : <span class="id" title="keyword">forall</span> {σ : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="record">genv</span></a>} <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <span class="id" title="var">e</span> <span class="id" title="var">Q</span> (<span class="id" title="var">ty</span> := <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <span class="id" title="var">e</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_value_type"><span class="id" title="definition">is_value_type</span></a> <span class="id" title="var">ty</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_prval"><span class="id" title="abbreviation">wp_prval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a> <span class="id" title="var">ty'</span> <span class="id" title="var">frees</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">ty'</span> = <span class="id" title="var">ty</span> |] -*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">v</span>, <a class="idref" href="bedrock.lang.cpp.heap_notations.html#_at"><span class="id" title="abbreviation">_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred_paradoxes.html#with_cpp.type_ptr_object_representation_full_is_unsound.p"><span class="id" title="variable">p</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="definition">primR</span></a> <span class="id" title="var">ty</span> (<span class="id" title="var">cQp.mut</span> 1) <span class="id" title="var">v</span>) ** <span class="id" title="var">Q</span> <span class="id" title="var">v</span> <span class="id" title="var">frees</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|-- <a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_operand"><span class="id" title="abbreviation">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <span class="id" title="var">e</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;
<div class="paragraph"> </div>

</span>   
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_init&nbsp;&lt;-&gt;&nbsp;wp_operand&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_operand" class="idref" href="#WPE.Proper_wp_operand"><span class="id" title="instance">Proper_wp_operand</span></a> {<a id="90926aa4d329d1d9d577092298d5f8b6" class="idref" href="#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#90926aa4d329d1d9d577092298d5f8b6"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>); <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_operand" class="idref" href="#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="718be723e08f8346945bdd5c61c49fd8" class="idref" href="#718be723e08f8346945bdd5c61c49fd8"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:369" class="idref" href="#tu:369"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="d8d9b9f752b6928493d601cf02bd8bca" class="idref" href="#d8d9b9f752b6928493d601cf02bd8bca"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:371" class="idref" href="#e:371"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5edd49b5864a9b015bcc057fa8cbd8ea"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_wand" class="idref" href="#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a id="Q1:372" class="idref" href="#Q1:372"><span class="id" title="binder">Q1</span></a> <a id="Q2:373" class="idref" href="#Q2:373"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:372"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:374" class="idref" href="#v:374"><span class="id" title="binder">v</span></a> <a id="f:375" class="idref" href="#f:375"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:372"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:374"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:375"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:373"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:374"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:375"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:373"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_operand" class="idref" href="#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a> <a id="Q:376" class="idref" href="#Q:376"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:376"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:376"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_fupd" class="idref" href="#WPE.wp_operand_fupd"><span class="id" title="lemma">wp_operand_fupd</span></a> <a id="Q:377" class="idref" href="#Q:377"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:378" class="idref" href="#v:378"><span class="id" title="binder">v</span></a> <a id="f:379" class="idref" href="#f:379"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:377"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:378"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:379"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:377"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_operand" class="idref" href="#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a> <a id="p:380" class="idref" href="#p:380"><span class="id" title="binder">p</span></a> <a id="P:381" class="idref" href="#P:381"><span class="id" title="binder">P</span></a> <a id="Q:382" class="idref" href="#Q:382"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:380"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:381"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:381"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:382"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:382"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_operand" class="idref" href="#WPE.elim_modal_bupd_wp_operand"><span class="id" title="instance">elim_modal_bupd_wp_operand</span></a> <a id="p:383" class="idref" href="#p:383"><span class="id" title="binder">p</span></a> <a id="P:384" class="idref" href="#P:384"><span class="id" title="binder">P</span></a> <a id="Q:385" class="idref" href="#Q:385"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:383"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:384"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:384"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:385"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:385"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_operand" class="idref" href="#WPE.add_modal_fupd_wp_operand"><span class="id" title="instance">add_modal_fupd_wp_operand</span></a> <a id="P:386" class="idref" href="#P:386"><span class="id" title="binder">P</span></a> <a id="Q:387" class="idref" href="#Q:387"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:386"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:386"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:387"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab171"></a><h2 class="section">boolean operands</h2>

<div class="paragraph"> </div>

 <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.wp_test"><span class="id" title="abbreviation">wp_test</span></a></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span> evaluates <span class="inlinecode"><span class="id" title="var">e</span></span> as an operand converting the value to a
      boolean before passing it to <span class="inlinecode"><span class="id" title="var">Q</span></span>.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_test" class="idref" href="#WPE.wp_test"><span class="id" title="definition">wp_test</span></a> {<a id="d2e89a77ea5126a60e2bd77c23a0a4cb" class="idref" href="#d2e89a77ea5126a60e2bd77c23a0a4cb"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:389" class="idref" href="#tu:389"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>)  (<a id="25f9b6cf9aae6abbeb481ba3963a9b9c" class="idref" href="#25f9b6cf9aae6abbeb481ba3963a9b9c"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:391" class="idref" href="#e:391"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="Q:392" class="idref" href="#Q:392"><span class="id" title="binder">Q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:389"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#25f9b6cf9aae6abbeb481ba3963a9b9c"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:391"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:393" class="idref" href="#v:393"><span class="id" title="binder">v</span></a> <a id="free:394" class="idref" href="#free:394"><span class="id" title="binder">free</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.is_true"><span class="id" title="definition">is_true</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:393"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:392"><span class="id" title="variable">Q</span></a> <span class="id" title="var">c</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:394"><span class="id" title="variable">free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="bedrock.lang.bi.errors.html#Errors.ERROR"><span class="id" title="axiom">ERROR</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.is_true_None"><span class="id" title="record">is_true_None</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:393"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab172"></a><h1 class="section">xvalues</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;an&nbsp;xvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_xval" class="idref" href="#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:395" class="idref" href="#resolve:395"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_xval_shift" class="idref" href="#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="c8ab706dfa12e61c86f2bf146a2ee074" class="idref" href="#c8ab706dfa12e61c86f2bf146a2ee074"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:398" class="idref" href="#tu:398"><span class="id" title="binder">tu</span></a> <a id="dcb8297b9e70dbfff8336c6cf601c827" class="idref" href="#dcb8297b9e70dbfff8336c6cf601c827"><span class="id" title="binder">ρ</span></a> <a id="e:400" class="idref" href="#e:400"><span class="id" title="binder">e</span></a> <a id="Q:401" class="idref" href="#Q:401"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:398"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#dcb8297b9e70dbfff8336c6cf601c827"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:400"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:402" class="idref" href="#v:402"><span class="id" title="binder">v</span></a> <a id="free:403" class="idref" href="#free:403"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:401"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:402"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:403"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:398"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#dcb8297b9e70dbfff8336c6cf601c827"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:400"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:401"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_xval_models" class="idref" href="#WPE.wp_xval_models"><span class="id" title="axiom">wp_xval_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="45b5ee228b040ee4d1e170588678f1aa" class="idref" href="#45b5ee228b040ee4d1e170588678f1aa"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu:406" class="idref" href="#tu:406"><span class="id" title="binder">tu</span></a> <a id="2befee619eed50f500bed524cd6ac81b" class="idref" href="#2befee619eed50f500bed524cd6ac81b"><span class="id" title="binder">ρ</span></a> <a id="e:408" class="idref" href="#e:408"><span class="id" title="binder">e</span></a> <a id="Q:409" class="idref" href="#Q:409"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:406"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:406"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2befee619eed50f500bed524cd6ac81b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:408"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:409"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:406"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2befee619eed50f500bed524cd6ac81b"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:408"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:409"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_xval_frame" class="idref" href="#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="a5e344ed3698d26187dad553cc694763" class="idref" href="#a5e344ed3698d26187dad553cc694763"><span class="id" title="binder">σ</span></a> <a id="tu1:412" class="idref" href="#tu1:412"><span class="id" title="binder">tu1</span></a> <a id="tu2:413" class="idref" href="#tu2:413"><span class="id" title="binder">tu2</span></a> <a id="b77fd9aa4abf51fcd1568299e65cb3f8" class="idref" href="#b77fd9aa4abf51fcd1568299e65cb3f8"><span class="id" title="binder">ρ</span></a> <a id="e:415" class="idref" href="#e:415"><span class="id" title="binder">e</span></a> <a id="k1:416" class="idref" href="#k1:416"><span class="id" title="binder">k1</span></a> <a id="k2:417" class="idref" href="#k2:417"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:412"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:413"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:418" class="idref" href="#v:418"><span class="id" title="binder">v</span></a> <a id="f:419" class="idref" href="#f:419"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:416"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:418"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:419"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:417"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:418"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:419"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a5e344ed3698d26187dad553cc694763"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:412"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b77fd9aa4abf51fcd1568299e65cb3f8"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:415"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:416"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a5e344ed3698d26187dad553cc694763"><span class="id" title="variable">σ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:413"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b77fd9aa4abf51fcd1568299e65cb3f8"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:415"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:417"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_xval" class="idref" href="#WPE.Proper_wp_xval"><span class="id" title="instance">Proper_wp_xval</span></a> <a id="19d36e1fb3d97f0ec72897174c26a61d" class="idref" href="#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#19d36e1fb3d97f0ec72897174c26a61d"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>); <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_xval" class="idref" href="#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="b5277b189b83c72529f79a2f4567fa78" class="idref" href="#b5277b189b83c72529f79a2f4567fa78"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:423" class="idref" href="#tu:423"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="3482e7a5cbd891a97600a26801dd4091" class="idref" href="#3482e7a5cbd891a97600a26801dd4091"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:425" class="idref" href="#e:425"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f954ce9247934de32355b50a45e0eaed"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_wand" class="idref" href="#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a id="Q1:426" class="idref" href="#Q1:426"><span class="id" title="binder">Q1</span></a> <a id="Q2:427" class="idref" href="#Q2:427"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:426"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:428" class="idref" href="#v:428"><span class="id" title="binder">v</span></a> <a id="f:429" class="idref" href="#f:429"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:426"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:428"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:429"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:427"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:428"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:429"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:427"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_xval" class="idref" href="#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a> <a id="Q:430" class="idref" href="#Q:430"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:430"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:430"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_fupd" class="idref" href="#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a> <a id="Q:431" class="idref" href="#Q:431"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:432" class="idref" href="#v:432"><span class="id" title="binder">v</span></a> <a id="f:433" class="idref" href="#f:433"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:431"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:432"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:433"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:431"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_xval" class="idref" href="#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a> <a id="p:434" class="idref" href="#p:434"><span class="id" title="binder">p</span></a> <a id="P:435" class="idref" href="#P:435"><span class="id" title="binder">P</span></a> <a id="Q:436" class="idref" href="#Q:436"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:434"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:435"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:435"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:436"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:436"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_xval" class="idref" href="#WPE.elim_modal_bupd_wp_xval"><span class="id" title="instance">elim_modal_bupd_wp_xval</span></a> <a id="p:437" class="idref" href="#p:437"><span class="id" title="binder">p</span></a> <a id="P:438" class="idref" href="#P:438"><span class="id" title="binder">P</span></a> <a id="Q:439" class="idref" href="#Q:439"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:437"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:438"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:438"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:439"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:439"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_xval" class="idref" href="#WPE.add_modal_fupd_wp_xval"><span class="id" title="instance">add_modal_fupd_wp_xval</span></a> <a id="P:440" class="idref" href="#P:440"><span class="id" title="binder">P</span></a> <a id="Q:441" class="idref" href="#Q:441"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:440"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:440"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:441"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Opaque&nbsp;wrapper&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>:&nbsp;this&nbsp;represents&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>&nbsp;obtained&nbsp;by&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ValCat</span></span>&nbsp;mismatch&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">wp_glval</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval_mismatch" class="idref" href="#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> {<a id="resolve:442" class="idref" href="#resolve:442"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="r:443" class="idref" href="#r:443"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="vc:444" class="idref" href="#vc:444"><span class="id" title="binder">vc</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#ValCat"><span class="id" title="inductive">ValCat</span></a>) (<a id="e:445" class="idref" href="#e:445"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;a&nbsp;generalized&nbsp;lvalue&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;some&nbsp;cases&nbsp;we&nbsp;need&nbsp;to&nbsp;evaluate&nbsp;a&nbsp;glvalue.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;makes&nbsp;some&nbsp;weakest&nbsp;pre-condition&nbsp;axioms&nbsp;a&nbsp;bit&nbsp;shorter.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval" class="idref" href="#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> {<a id="0268997fc7927f6d98368d9b15303052" class="idref" href="#0268997fc7927f6d98368d9b15303052"><span class="id" title="binder">σ</span></a>} (<a id="tu:447" class="idref" href="#tu:447"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) <a id="fae77404f48b2c6fa4ac3e0de23497b7" class="idref" href="#fae77404f48b2c6fa4ac3e0de23497b7"><span class="id" title="binder">ρ</span></a> (<a id="e:449" class="idref" href="#e:449"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.M"><span class="id" title="definition">M</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:449"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:447"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fae77404f48b2c6fa4ac3e0de23497b7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:449"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#0268997fc7927f6d98368d9b15303052"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:447"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fae77404f48b2c6fa4ac3e0de23497b7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:449"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">vc</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fae77404f48b2c6fa4ac3e0de23497b7"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">vc</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:449"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
  Note:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">wp_glval_shift</span></span> and <span class="inlinecode"><span class="id" title="var">fupd_wp_glval</span></span> are not sound without a later

</li>
</ul>
  credit in the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a></span> case

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">wp_glval_models</span></span> isn't sound without <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a></span> <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.func.html#with_cpp.tu"><span class="id" title="variable">tu</span></a></span> in the

</li>
</ul>
  <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a></span> case
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_frame" class="idref" href="#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a> {<a id="a382f71360c1ccf036fa2f9c923b52e3" class="idref" href="#a382f71360c1ccf036fa2f9c923b52e3"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:451" class="idref" href="#tu1:451"><span class="id" title="binder">tu1</span></a> <a id="tu2:452" class="idref" href="#tu2:452"><span class="id" title="binder">tu2</span></a> <a id="r:453" class="idref" href="#r:453"><span class="id" title="binder">r</span></a> <a id="e:454" class="idref" href="#e:454"><span class="id" title="binder">e</span></a> <a id="Q:455" class="idref" href="#Q:455"><span class="id" title="binder">Q</span></a> <a id="Q':456" class="idref" href="#Q':456"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:451"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:452"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:457" class="idref" href="#v:457"><span class="id" title="binder">v</span></a> <a id="free:458" class="idref" href="#free:458"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:455"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:457"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:458"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':456"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:457"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:458"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:451"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:453"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:454"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:455"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:452"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:453"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:454"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':456"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a>. <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_glval" class="idref" href="#WPE.Proper_wp_glval"><span class="id" title="instance">Proper_wp_glval</span></a> <a id="bd6e3a5ed3b6b34f0d7582acd5b3713b" class="idref" href="#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.Mrel"><span class="id" title="definition">Mrel</span></a> <span class="id" title="var">_</span>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bd6e3a5ed3b6b34f0d7582acd5b3713b"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_proper_prepare</span>. <span class="id" title="var">case_match</span>; <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_glval" class="idref" href="#WPE.with_cpp.wp_glval"><span class="id" title="section">wp_glval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="16e79c467b95be5c339972d0c0703497" class="idref" href="#16e79c467b95be5c339972d0c0703497"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:461" class="idref" href="#tu:461"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="6982bd2a6ee49550ea9c2ab2d4aacfa5" class="idref" href="#6982bd2a6ee49550ea9c2ab2d4aacfa5"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.wp_glval" class="idref" href="#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.wp_lval" class="idref" href="#WPE.wp_lval"><span class="id" title="abbreviation">wp_lval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.wp_xval" class="idref" href="#WPE.wp_xval"><span class="id" title="abbreviation">wp_xval</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#38813fa9e9466777da0562df2f4d3834"><span class="id" title="variable">ρ</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_lval" class="idref" href="#WPE.wp_glval_lval"><span class="id" title="lemma">wp_glval_lval</span></a> <a id="e:463" class="idref" href="#e:463"><span class="id" title="binder">e</span></a> <a id="Q:464" class="idref" href="#Q:464"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:463"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:463"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:464"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="abbreviation">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:463"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:464"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_xval" class="idref" href="#WPE.wp_glval_xval"><span class="id" title="lemma">wp_glval_xval</span></a> <a id="e:465" class="idref" href="#e:465"><span class="id" title="binder">e</span></a> <a id="Q:466" class="idref" href="#Q:466"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:465"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:465"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:466"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="abbreviation">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:465"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:466"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_prval" class="idref" href="#WPE.wp_glval_prval"><span class="id" title="lemma">wp_glval_prval</span></a> <a id="e:467" class="idref" href="#e:467"><span class="id" title="binder">e</span></a> <a id="Q:468" class="idref" href="#Q:468"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:467"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:467"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:468"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#a08e735368df29af501a6e158e3c5730"><span class="id" title="notation">-|-</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>=&gt;-&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_wand" class="idref" href="#WPE.wp_glval_wand"><span class="id" title="lemma">wp_glval_wand</span></a> <a id="e:469" class="idref" href="#e:469"><span class="id" title="binder">e</span></a> <a id="Q:470" class="idref" href="#Q:470"><span class="id" title="binder">Q</span></a> <a id="Q':471" class="idref" href="#Q':471"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:469"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:470"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:472" class="idref" href="#v:472"><span class="id" title="binder">v</span></a> <a id="free:473" class="idref" href="#free:473"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:470"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:472"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:473"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':471"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:472"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:473"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:469"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':471"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B". <span class="id" title="var">iRevert</span> "A". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_glval_fupd" class="idref" href="#WPE.wp_glval_fupd"><span class="id" title="lemma">wp_glval_fupd</span></a> <a id="e:474" class="idref" href="#e:474"><span class="id" title="binder">e</span></a> <a id="Q:475" class="idref" href="#Q:475"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:474"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:476" class="idref" href="#v:476"><span class="id" title="binder">v</span></a> <a id="f:477" class="idref" href="#f:477"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:475"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:476"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:477"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:474"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:475"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="abbreviation">wp_glval</span></a>/<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a>. <span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a>, <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_glval"><span class="id" title="section">wp_glval</span></a>.<br/>

<br/>
</div>

<div class="doc">
Discarded values.

<div class="paragraph"> </div>

      Sometimes expressions are evaluated only for their side-effects.
      https://eel.is/c++draft/exprcontext-2

      The definition [wp_discard] captures this and allows us to express some
      rules more concisely. The value category used to evaluate the expression
      is computed from the expression using [valcat_of].
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_discard" class="idref" href="#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="f687b23afe8e5c373e7d06cf9eed4c06" class="idref" href="#f687b23afe8e5c373e7d06cf9eed4c06"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:479" class="idref" href="#tu:479"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="e155ffaf02ea34a0d68d86051382f19d" class="idref" href="#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_discard" class="idref" href="#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> (<a id="e:481" class="idref" href="#e:481"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="Q:482" class="idref" href="#Q:482"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:482"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_value_type"><span class="id" title="definition">is_value_type</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="free:486" class="idref" href="#free:486"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:482"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:486"><span class="id" title="variable">free</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:483" class="idref" href="#p:483"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:483"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="ty:484" class="idref" href="#ty:484"><span class="id" title="binder">ty</span></a> <a id="frees:485" class="idref" href="#frees:485"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:482"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">FreeTemps.delete</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:484"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:483"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:485"><span class="id" title="variable">frees</span></a>)%<span class="id" title="var">free</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:481"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:482"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_discard_frame" class="idref" href="#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a> {<a id="4b6396a58eddf1acbe4772167c26fefa" class="idref" href="#4b6396a58eddf1acbe4772167c26fefa"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:488" class="idref" href="#tu1:488"><span class="id" title="binder">tu1</span></a> <a id="tu2:489" class="idref" href="#tu2:489"><span class="id" title="binder">tu2</span></a> <a id="6fab8b93549cdb79c963316fe6ee24ae" class="idref" href="#6fab8b93549cdb79c963316fe6ee24ae"><span class="id" title="binder">ρ</span></a> <a id="e:491" class="idref" href="#e:491"><span class="id" title="binder">e</span></a> <a id="k1:492" class="idref" href="#k1:492"><span class="id" title="binder">k1</span></a> <a id="k2:493" class="idref" href="#k2:493"><span class="id" title="binder">k2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:488"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:489"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="f:494" class="idref" href="#f:494"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:492"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:494"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:493"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:494"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:488"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6fab8b93549cdb79c963316fe6ee24ae"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:491"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:492"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:489"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6fab8b93549cdb79c963316fe6ee24ae"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:491"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:493"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#valcat_of"><span class="id" title="definition">valcat_of</span></a> <span class="id" title="var">e</span>) =&gt; /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "h" (<span class="id" title="var">v</span> <span class="id" title="var">f</span>) "x"; <span class="id" title="var">iApply</span> "h"; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">case_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iIntros</span> "h"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "h".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iIntros</span> "a b" (<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSpecialize</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"b" <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <span class="id" title="var">p</span><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iRevert</span> "b"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> "a".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "h" (<span class="id" title="var">v</span> <span class="id" title="var">f</span>) "x"; <span class="id" title="var">iApply</span> "h"; <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wpe" class="idref" href="#WPE.Proper_wpe"><span class="id" title="instance">Proper_wpe</span></a> <a id="65b8c9ada9c881c5bdb68311e20e0475" class="idref" href="#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#65b8c9ada9c881c5bdb68311e20e0475"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wpe'" class="idref" href="#WPE.Proper_wpe'"><span class="id" title="instance">Proper_wpe'</span></a> <a id="a0289c37eca9b62fbde78021e8f511d7" class="idref" href="#a0289c37eca9b62fbde78021e8f511d7"><span class="id" title="binder">σ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a0289c37eca9b62fbde78021e8f511d7"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab173"></a><h1 class="section">Statements</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;statement&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp" class="idref" href="#WPE.wp"><span class="id" title="axiom">wp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:497" class="idref" href="#resolve:497"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="abbreviation">Stmt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_shift" class="idref" href="#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="f72017e87f6bab32ae7d4831ac1b3b1b" class="idref" href="#f72017e87f6bab32ae7d4831ac1b3b1b"><span class="id" title="binder">σ</span></a> <a id="tu:500" class="idref" href="#tu:500"><span class="id" title="binder">tu</span></a> <a id="a084164469a3f90022f727c620e8f167" class="idref" href="#a084164469a3f90022f727c620e8f167"><span class="id" title="binder">ρ</span></a> <a id="s:502" class="idref" href="#s:502"><span class="id" title="binder">s</span></a> <a id="Q:503" class="idref" href="#Q:503"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:500"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a084164469a3f90022f727c620e8f167"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:502"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:503"><span class="id" title="variable">Q</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#f72017e87f6bab32ae7d4831ac1b3b1b"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:500"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a084164469a3f90022f727c620e8f167"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:502"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:503"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_models" class="idref" href="#WPE.wp_models"><span class="id" title="axiom">wp_models</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="fb976235be791d08fdd874c3f9756cfc" class="idref" href="#fb976235be791d08fdd874c3f9756cfc"><span class="id" title="binder">σ</span></a> <a id="tu:506" class="idref" href="#tu:506"><span class="id" title="binder">tu</span></a> <a id="68aec1dfd88b550252b0689fb08ba118" class="idref" href="#68aec1dfd88b550252b0689fb08ba118"><span class="id" title="binder">ρ</span></a> <a id="s:508" class="idref" href="#s:508"><span class="id" title="binder">s</span></a> <a id="Q:509" class="idref" href="#Q:509"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.translation_unit.html#denoteModule"><span class="id" title="definition">denoteModule</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:506"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:506"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#68aec1dfd88b550252b0689fb08ba118"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:508"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:509"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#fb976235be791d08fdd874c3f9756cfc"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu:506"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#68aec1dfd88b550252b0689fb08ba118"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:508"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:509"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_frame" class="idref" href="#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="31da8434361798533f78b1f69ae7740e" class="idref" href="#31da8434361798533f78b1f69ae7740e"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="tu1:512" class="idref" href="#tu1:512"><span class="id" title="binder">tu1</span></a> <a id="tu2:513" class="idref" href="#tu2:513"><span class="id" title="binder">tu2</span></a> <a id="4b88d984a5ff36c34177b3ae3bdfeb8f" class="idref" href="#4b88d984a5ff36c34177b3ae3bdfeb8f"><span class="id" title="binder">ρ</span></a> <a id="s:515" class="idref" href="#s:515"><span class="id" title="binder">s</span></a> (<a id="k1:516" class="idref" href="#k1:516"><span class="id" title="binder">k1</span></a> <a id="k2:517" class="idref" href="#k2:517"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:512"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:513"><span class="id" title="variable">tu2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:518" class="idref" href="#rt:518"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:516"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:518"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:517"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:518"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu1:512"><span class="id" title="variable">tu1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#4b88d984a5ff36c34177b3ae3bdfeb8f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:515"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:516"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tu2:513"><span class="id" title="variable">tu2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#4b88d984a5ff36c34177b3ae3bdfeb8f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:515"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:517"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp" class="idref" href="#WPE.Proper_wp"><span class="id" title="instance">Proper_wp</span></a> {<a id="9ca2482234ee9bc565f41cdd52c4565d" class="idref" href="#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="binder">σ</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9ca2482234ee9bc565f41cdd52c4565d"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (<span class="id" title="var">rt</span>); <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#monPred_defs.monPred_in_entails"><span class="id" title="projection">monPred_in_entails</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp" class="idref" href="#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="c640e914e819a9238ae9586651985a17" class="idref" href="#c640e914e819a9238ae9586651985a17"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="tu:522" class="idref" href="#tu:522"><span class="id" title="binder">tu</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#translation_unit"><span class="id" title="record">translation_unit</span></a>) (<a id="bb7a4e9dca412e7d2d6045248e364436" class="idref" href="#bb7a4e9dca412e7d2d6045248e364436"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="s:524" class="idref" href="#s:524"><span class="id" title="binder">s</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="abbreviation">Stmt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp.tu"><span class="id" title="variable">tu</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f044a0fb97bd5ae8e836995ef1ec84c7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp.s"><span class="id" title="variable">s</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_wand" class="idref" href="#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> (<a id="k1:525" class="idref" href="#k1:525"><span class="id" title="binder">k1</span></a> <a id="k2:526" class="idref" href="#k2:526"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:525"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:527" class="idref" href="#rt:527"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:525"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:527"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:526"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:527"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:526"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp Hk". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">k1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hk] Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp" class="idref" href="#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> <a id="k:528" class="idref" href="#k:528"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:528"><span class="id" title="variable">k</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:528"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "X". <span class="id" title="var">iModIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fupd" class="idref" href="#WPE.wp_fupd"><span class="id" title="lemma">wp_fupd</span></a> <a id="k:529" class="idref" href="#k:529"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:529"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:529"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp" class="idref" href="#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a> <a id="p:530" class="idref" href="#p:530"><span class="id" title="binder">p</span></a> <a id="P:531" class="idref" href="#P:531"><span class="id" title="binder">P</span></a> <a id="k:532" class="idref" href="#k:532"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:530"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:531"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:531"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:532"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:532"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp" class="idref" href="#WPE.elim_modal_bupd_wp"><span class="id" title="instance">elim_modal_bupd_wp</span></a> <a id="p:533" class="idref" href="#p:533"><span class="id" title="binder">p</span></a> <a id="P:534" class="idref" href="#P:534"><span class="id" title="binder">P</span></a> <a id="k:535" class="idref" href="#k:535"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:533"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:534"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:534"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:535"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:535"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp" class="idref" href="#WPE.add_modal_fupd_wp"><span class="id" title="instance">add_modal_fupd_wp</span></a> <a id="P:536" class="idref" href="#P:536"><span class="id" title="binder">P</span></a> <a id="k:537" class="idref" href="#k:537"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:536"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:536"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:537"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;is&nbsp;the&nbsp;low-level&nbsp;specification&nbsp;of&nbsp;C++&nbsp;code&nbsp;blocks.<br/>
&nbsp;&nbsp;&nbsp;*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;<span class="inlinecode"><span class="id" title="var">addr</span></span>&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;entry&nbsp;point&nbsp;of&nbsp;the&nbsp;code.<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;note:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">ptr</span></span>&nbsp;will&nbsp;be&nbsp;related&nbsp;to&nbsp;the&nbsp;register&nbsp;set.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.fspec" class="idref" href="#WPE.fspec"><span class="id" title="axiom">fspec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="tt:538" class="idref" href="#tt:538"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="fun_type:539" class="idref" href="#fun_type:539"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="addr:540" class="idref" href="#addr:540"><span class="id" title="binder">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ls:541" class="idref" href="#ls:541"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="Q:542" class="idref" href="#Q:542"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_complete_type" class="idref" href="#WPE.fspec_complete_type"><span class="id" title="axiom">fspec_complete_type</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:544" class="idref" href="#te:544"><span class="id" title="binder">te</span></a> <a id="ft:545" class="idref" href="#ft:545"><span class="id" title="binder">ft</span></a> <a id="a:546" class="idref" href="#a:546"><span class="id" title="binder">a</span></a> <a id="ls:547" class="idref" href="#ls:547"><span class="id" title="binder">ls</span></a> <a id="Q:548" class="idref" href="#Q:548"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:544"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:545"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:546"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:547"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:548"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:544"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:545"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:546"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:547"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:548"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="cc:549" class="idref" href="#cc:549"><span class="id" title="binder">cc</span></a> <a id="ar:550" class="idref" href="#ar:550"><span class="id" title="binder">ar</span></a> <a id="tret:551" class="idref" href="#tret:551"><span class="id" title="binder">tret</span></a> <a id="targs:552" class="idref" href="#targs:552"><span class="id" title="binder">targs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:545"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> (<span class="id" title="var">cc</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#cc:549"><span class="id" title="variable">cc</span></a>) (<span class="id" title="var">ar</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#ar:550"><span class="id" title="variable">ar</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tret:551"><span class="id" title="variable">tret</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#targs:552"><span class="id" title="variable">targs</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;type&nbsp;is&nbsp;callable&nbsp;against&nbsp;a&nbsp;type&nbsp;table&nbsp;if&nbsp;all&nbsp;of&nbsp;its&nbsp;arguments&nbsp;and&nbsp;return<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;are&nbsp;<span class="inlinecode"><span class="id" title="var">complete_type</span></span>s.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;effectively&nbsp;means&nbsp;that&nbsp;there&nbsp;is&nbsp;enough&nbsp;information&nbsp;to&nbsp;determine&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calling&nbsp;convention.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.callable_type" class="idref" href="#WPE.callable_type"><span class="id" title="definition">callable_type</span></a> (<a id="tt:554" class="idref" href="#tt:554"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="t:555" class="idref" href="#t:555"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:555"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> <span class="id" title="var">ret</span> <span class="id" title="var">args</span> =&gt; <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:554"><span class="id" title="variable">tt</span></a> <span class="id" title="var">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">List.Forall</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:554"><span class="id" title="variable">tt</span></a>) <span class="id" title="var">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;states&nbsp;that&nbsp;the&nbsp;type&nbsp;environment&nbsp;for&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">fspec</span></span>&nbsp;can&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;narrowed&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>&nbsp;is&nbsp;smaller&nbsp;than<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;type&nbsp;environment&nbsp;(<span class="inlinecode"><span class="id" title="var">big</span></span>/<span class="inlinecode"><span class="id" title="var">tt1</span></span>),&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">ft</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;still&nbsp;a&nbsp;*complete&nbsp;type*&nbsp;in&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;This&nbsp;is&nbsp;informally&nbsp;justified&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;(in&nbsp;the&nbsp;absence<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;ODR)&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;is&nbsp;encapsulated&nbsp;and&nbsp;only<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;public&nbsp;interface&nbsp;(the&nbsp;type)&nbsp;is&nbsp;need&nbsp;to&nbsp;know&nbsp;how&nbsp;to&nbsp;call&nbsp;the&nbsp;function.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_strengthen" class="idref" href="#WPE.fspec_strengthen"><span class="id" title="axiom">fspec_strengthen</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt1:557" class="idref" href="#tt1:557"><span class="id" title="binder">tt1</span></a> <a id="tt2:558" class="idref" href="#tt2:558"><span class="id" title="binder">tt2</span></a> <a id="ft:559" class="idref" href="#ft:559"><span class="id" title="binder">ft</span></a> <a id="a:560" class="idref" href="#a:560"><span class="id" title="binder">a</span></a> <a id="ls:561" class="idref" href="#ls:561"><span class="id" title="binder">ls</span></a> <a id="Q:562" class="idref" href="#Q:562"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.callable_type"><span class="id" title="definition">callable_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:558"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:559"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:558"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:557"><span class="id" title="variable">tt1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:557"><span class="id" title="variable">tt1</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:559"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:560"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:561"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:562"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:558"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:559"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:560"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:561"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:562"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;is&nbsp;the&nbsp;standard&nbsp;rule&nbsp;of&nbsp;consequence&nbsp;for&nbsp;weakest<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pre-condition.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_frame_fupd" class="idref" href="#WPE.fspec_frame_fupd"><span class="id" title="axiom">fspec_frame_fupd</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt1:564" class="idref" href="#tt1:564"><span class="id" title="binder">tt1</span></a> <a id="tt2:565" class="idref" href="#tt2:565"><span class="id" title="binder">tt2</span></a> <a id="ft:566" class="idref" href="#ft:566"><span class="id" title="binder">ft</span></a> <a id="a:567" class="idref" href="#a:567"><span class="id" title="binder">a</span></a> <a id="ls:568" class="idref" href="#ls:568"><span class="id" title="binder">ls</span></a> <a id="Q1:569" class="idref" href="#Q1:569"><span class="id" title="binder">Q1</span></a> <a id="Q2:570" class="idref" href="#Q2:570"><span class="id" title="binder">Q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#type_table_le"><span class="id" title="definition">type_table_le</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:564"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:565"><span class="id" title="variable">tt2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:571" class="idref" href="#v:571"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:569"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:571"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:570"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:571"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:564"><span class="id" title="variable">tt1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:566"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:567"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:568"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:569"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:565"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:566"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:567"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:568"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:570"><span class="id" title="variable">Q2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fspec_frame" class="idref" href="#WPE.fspec_frame"><span class="id" title="lemma">fspec_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:573" class="idref" href="#tt:573"><span class="id" title="binder">tt</span></a> <a id="ft:574" class="idref" href="#ft:574"><span class="id" title="binder">ft</span></a> <a id="a:575" class="idref" href="#a:575"><span class="id" title="binder">a</span></a> <a id="ls:576" class="idref" href="#ls:576"><span class="id" title="binder">ls</span></a> <a id="Q1:577" class="idref" href="#Q1:577"><span class="id" title="binder">Q1</span></a> <a id="Q2:578" class="idref" href="#Q2:578"><span class="id" title="binder">Q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:579" class="idref" href="#v:579"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:577"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:579"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:578"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:579"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:573"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:574"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:575"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:576"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:577"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:573"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:574"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:575"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:576"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:578"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame_fupd"><span class="id" title="axiom">fspec_frame_fupd</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "? !&gt;". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;following&nbsp;two&nbsp;axioms&nbsp;say&nbsp;that&nbsp;we&nbsp;can&nbsp;perform&nbsp;fupd's<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;around&nbsp;the&nbsp;weakeast&nbsp;pre-condition.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_fupd" class="idref" href="#WPE.fspec_fupd"><span class="id" title="axiom">fspec_fupd</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:580" class="idref" href="#te:580"><span class="id" title="binder">te</span></a> <a id="ft:581" class="idref" href="#ft:581"><span class="id" title="binder">ft</span></a> <a id="a:582" class="idref" href="#a:582"><span class="id" title="binder">a</span></a> <a id="ls:583" class="idref" href="#ls:583"><span class="id" title="binder">ls</span></a> <a id="Q:584" class="idref" href="#Q:584"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:580"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:581"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:582"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:583"><span class="id" title="variable">ls</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:585" class="idref" href="#v:585"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:584"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:585"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:580"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:581"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:582"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:583"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:584"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fupd_spec" class="idref" href="#WPE.fupd_spec"><span class="id" title="axiom">fupd_spec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:587" class="idref" href="#te:587"><span class="id" title="binder">te</span></a> <a id="ft:588" class="idref" href="#ft:588"><span class="id" title="binder">ft</span></a> <a id="a:589" class="idref" href="#a:589"><span class="id" title="binder">a</span></a> <a id="ls:590" class="idref" href="#ls:590"><span class="id" title="binder">ls</span></a> <a id="Q:591" class="idref" href="#Q:591"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:587"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:588"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:589"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:590"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:591"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:587"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:588"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:589"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:590"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:591"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_fspec" class="idref" href="#WPE.Proper_fspec"><span class="id" title="instance">Proper_fspec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:593" class="idref" href="#tt:593"><span class="id" title="binder">tt</span></a> <a id="ft:594" class="idref" href="#ft:594"><span class="id" title="binder">ft</span></a> <a id="a:595" class="idref" href="#a:595"><span class="id" title="binder">a</span></a> <a id="ls:596" class="idref" href="#ls:596"><span class="id" title="binder">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:593"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:594"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:595"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:596"><span class="id" title="variable">ls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="lemma">fspec_frame</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iApply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.fspec" class="idref" href="#WPE.with_cpp.fspec"><span class="id" title="section">fspec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="tt:597" class="idref" href="#tt:597"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>} {<a id="tf:598" class="idref" href="#tf:598"><span class="id" title="binder">tf</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>} (<a id="addr:599" class="idref" href="#addr:599"><span class="id" title="binder">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="ls:600" class="idref" href="#ls:600"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.tt"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.tf"><span class="id" title="variable">tf</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.ls"><span class="id" title="variable">ls</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fspec_wand_fupd" class="idref" href="#WPE.fspec_wand_fupd"><span class="id" title="lemma">fspec_wand_fupd</span></a> <a id="Q1:601" class="idref" href="#Q1:601"><span class="id" title="binder">Q1</span></a> <a id="Q2:602" class="idref" href="#Q2:602"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:601"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:603" class="idref" href="#v:603"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:601"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:603"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:602"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:603"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:602"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp HK".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame_fupd"><span class="id" title="axiom">fspec_frame_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fspec_wand" class="idref" href="#WPE.fspec_wand"><span class="id" title="lemma">fspec_wand</span></a> <a id="Q1:604" class="idref" href="#Q1:604"><span class="id" title="binder">Q1</span></a> <a id="Q2:605" class="idref" href="#Q2:605"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:604"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:606" class="idref" href="#v:606"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:604"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:606"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:605"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:606"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:605"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="lemma">fspec_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec"><span class="id" title="section">fspec</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.mspec"><span class="id" title="abbreviation">mspec</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a></span> <span class="inlinecode"><span class="id" title="var">this_ty</span></span> <span class="inlinecode"><span class="id" title="var">fty</span></span> <span class="inlinecode">..</span> is the analogue of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.fspec"><span class="id" title="abbreviation">fspec</span></a></span> for member functions.

<div class="paragraph"> </div>

      NOTE this includes constructors and destructors.

<div class="paragraph"> </div>

      NOTE the current implementation desugars this to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.fspec"><span class="id" title="abbreviation">fspec</span></a></span> but this is not
           accurate according to the standard because a member function can not
           be cast to a regular function that takes an extra parameter.
           We could fix this by splitting <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.fspec"><span class="id" title="abbreviation">fspec</span></a></span> more, but we are deferring that
           for now.

<div class="paragraph"> </div>

           In practice we assume that the AST is well-typed, so the only way to
           exploit this is to use <span class="inlinecode"><span class="id" title="var">reinterpret_cast</span>&lt;</span> <span class="inlinecode">&gt;</span> to cast a function pointer
           to an member pointer or vice versa.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.mspec" class="idref" href="#WPE.mspec"><span class="id" title="definition">mspec</span></a> (<a id="tt:607" class="idref" href="#tt:607"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="this_type:608" class="idref" href="#this_type:608"><span class="id" title="binder">this_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="fun_type:609" class="idref" href="#fun_type:609"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:607"><span class="id" title="variable">tt</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#this_type:608"><span class="id" title="variable">this_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fun_type:609"><span class="id" title="variable">fun_type</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.mspec_frame" class="idref" href="#WPE.mspec_frame"><span class="id" title="lemma">mspec_frame</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="t:610" class="idref" href="#t:610"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="l:611" class="idref" href="#l:611"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:612" class="idref" href="#v:612"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="t0:613" class="idref" href="#t0:613"><span class="id" title="binder">t0</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="t1:614" class="idref" href="#t1:614"><span class="id" title="binder">t1</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="Q:615" class="idref" href="#Q:615"><span class="id" title="binder">Q</span></a> <a id="Q':616" class="idref" href="#Q':616"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:617" class="idref" href="#v:617"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:615"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:617"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':616"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:617"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:614"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:610"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:613"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:612"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:611"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:615"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:614"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:610"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:613"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:612"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:611"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':616"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="lemma">fspec_frame</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.mspec_frame_fupd" class="idref" href="#WPE.mspec_frame_fupd"><span class="id" title="lemma">mspec_frame_fupd</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="t:618" class="idref" href="#t:618"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="l:619" class="idref" href="#l:619"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="v:620" class="idref" href="#v:620"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="t0:621" class="idref" href="#t0:621"><span class="id" title="binder">t0</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="t1:622" class="idref" href="#t1:622"><span class="id" title="binder">t1</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="Q:623" class="idref" href="#Q:623"><span class="id" title="binder">Q</span></a> <a id="Q':624" class="idref" href="#Q':624"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:625" class="idref" href="#v:625"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:623"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:625"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':624"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:625"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:622"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:618"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:621"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:620"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:619"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:623"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:622"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:618"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:621"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:620"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:619"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':624"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame_fupd"><span class="id" title="axiom">fspec_frame_fupd</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>

<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="module">stdpp.coPset</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
