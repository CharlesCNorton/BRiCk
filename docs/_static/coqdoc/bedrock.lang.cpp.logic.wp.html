<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="../css/coqdocjs/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="../css/coqdocjs/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../js/coqdocjs/config.js"></script>
<script type="text/javascript" src="../js/coqdocjs/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <!-- NOTE: These are displayed right to left on the page -->
    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> `theories/` </a>
      <a href="../../index.html"> Toplevel </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">bedrock.lang.cpp.logic.wp</h1>

<div class="code">
<span class="comment">(*<br/>
&nbsp;*&nbsp;Copyright&nbsp;(c)&nbsp;2020-2021&nbsp;BedRock&nbsp;Systems,&nbsp;Inc.<br/>
&nbsp;*&nbsp;This&nbsp;software&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;BedRock&nbsp;Open-Source&nbsp;License.<br/>
&nbsp;*&nbsp;See&nbsp;the&nbsp;LICENSE-BedRock&nbsp;file&nbsp;in&nbsp;the&nbsp;repository&nbsp;root&nbsp;for&nbsp;details.<br/>
&nbsp;*)</span><br/>
</div>

<div class="doc">
<a id="lab93"></a><h1 class="section">Definitions for the semantics</h1>

 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="bedrock.prelude.base.html#"><span class="id" title="library">bedrock.prelude.base</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="library">stdpp.coPset</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#"><span class="id" title="library">iris.bi.monpred</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.proofmode.html#"><span class="id" title="library">proofmode</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#"><span class="id" title="library">classes</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">bedrock.lang.cpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.ast.html#"><span class="id" title="library">ast</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.html#"><span class="id" title="library">semantics</span></a> <a class="idref" href="bedrock.lang.cpp.logic.pred.html#"><span class="id" title="library">logic.pred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#"><span class="id" title="library">logic.heap_pred</span></a>.<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="comment">(*&nbsp;expression&nbsp;continuations<br/>
&nbsp;*&nbsp;-&nbsp;in&nbsp;full&nbsp;C++,&nbsp;this&nbsp;includes&nbsp;exceptions,&nbsp;but&nbsp;our&nbsp;current&nbsp;semantics<br/>
&nbsp;*&nbsp;&nbsp;&nbsp;doesn't&nbsp;treat&nbsp;those.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="epred" class="idref" href="#epred"><span class="id" title="definition">epred</span></a> `{<a id="ebf069dbc779b42a15c441a6d39d5f83" class="idref" href="#ebf069dbc779b42a15c441a6d39d5f83"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:1" class="idref" href="#thread_info:1"><span class="id" title="binder">thread_info</span></a>} := <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="epredO" class="idref" href="#epredO"><span class="id" title="abbreviation">epredO</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredO"><span class="id" title="definition">mpredO</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">Section</span> <a id="FreeTemps.FreeTemps" class="idref" href="#FreeTemps.FreeTemps"><span class="id" title="section">FreeTemps</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="9c6d78f4cdf6dede5e109a175164bdaa" class="idref" href="#9c6d78f4cdf6dede5e109a175164bdaa"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:3" class="idref" href="#thread_info:3"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;FreeTemps.t&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t" class="idref" href="#FreeTemps.t"><span class="id" title="inductive">t</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.id" class="idref" href="#FreeTemps.id"><span class="id" title="constructor">id</span></a> <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.delete" class="idref" href="#FreeTemps.delete"><span class="id" title="constructor">delete</span></a> (<a id="ty:7" class="idref" href="#ty:7"><span class="id" title="binder">ty</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="p:8" class="idref" href="#p:8"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) <span class="comment">(*&nbsp;=&nbsp;delete_val&nbsp;ty&nbsp;p&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq" class="idref" href="#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> (<a id="f:9" class="idref" href="#f:9"><span class="id" title="binder">f</span></a> <a id="g:10" class="idref" href="#g:10"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:5"><span class="id" title="inductive">t</span></a>) <span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;f&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par" class="idref" href="#FreeTemps.par"><span class="id" title="constructor">par</span></a> (<a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> <a id="g:12" class="idref" href="#g:12"><span class="id" title="binder">g</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:5"><span class="id" title="inductive">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;=&nbsp;fun&nbsp;x&nbsp;=&gt;&nbsp;Exists&nbsp;Qf&nbsp;Qg,&nbsp;f&nbsp;Qf&nbsp;**&nbsp;g&nbsp;Qg&nbsp;**&nbsp;(Qf&nbsp;-*&nbsp;Qg&nbsp;-*&nbsp;x)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;FreeTemps.t&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="FreeTemps.t_eq" class="idref" href="#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="FreeTemps.refl" class="idref" href="#FreeTemps.refl"><span class="id" title="constructor">refl</span></a> <a id="l:15" class="idref" href="#l:15"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:15"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:15"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.sym" class="idref" href="#FreeTemps.sym"><span class="id" title="constructor">sym</span></a> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> <a id="r:17" class="idref" href="#r:17"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:17"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:17"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:16"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.trans" class="idref" href="#FreeTemps.trans"><span class="id" title="constructor">trans</span></a> <a id="a:18" class="idref" href="#a:18"><span class="id" title="binder">a</span></a> <a id="b:19" class="idref" href="#b:19"><span class="id" title="binder">b</span></a> <a id="c:20" class="idref" href="#c:20"><span class="id" title="binder">c</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:20"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:18"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c:20"><span class="id" title="variable">c</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seqA" class="idref" href="#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a> <a id="x:21" class="idref" href="#x:21"><span class="id" title="binder">x</span></a> <a id="y:22" class="idref" href="#y:22"><span class="id" title="binder">y</span></a> <a id="z:23" class="idref" href="#z:23"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:21"><span class="id" title="variable">x</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:22"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:23"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:21"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:22"><span class="id" title="variable">y</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:23"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitR" class="idref" href="#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a> <a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:24"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:24"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.seq_id_unitL" class="idref" href="#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a> <a id="l:25" class="idref" href="#l:25"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:25"><span class="id" title="variable">l</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:25"><span class="id" title="variable">l</span></a><br/>
<br/>
&nbsp;&nbsp;| <a id="FreeTemps.parC" class="idref" href="#FreeTemps.parC"><span class="id" title="constructor">parC</span></a> <a id="r:26" class="idref" href="#r:26"><span class="id" title="binder">r</span></a> <a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:26"><span class="id" title="variable">r</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:26"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:27"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.parA" class="idref" href="#FreeTemps.parA"><span class="id" title="constructor">parA</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> <a id="y:29" class="idref" href="#y:29"><span class="id" title="binder">y</span></a> <a id="z:30" class="idref" href="#z:30"><span class="id" title="binder">z</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:28"><span class="id" title="variable">x</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:29"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:30"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:29"><span class="id" title="variable">y</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#z:30"><span class="id" title="variable">z</span></a>)<br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_id_unitR" class="idref" href="#FreeTemps.par_id_unitR"><span class="id" title="constructor">par_id_unitR</span></a> <a id="l:31" class="idref" href="#l:31"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:31"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:31"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;| <a id="FreeTemps.par_id_unitL" class="idref" href="#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a> <a id="l:32" class="idref" href="#l:32"><span class="id" title="binder">l</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t_eq:13"><span class="id" title="inductive">t_eq</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:32"><span class="id" title="variable">l</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:32"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.t_Equiv" class="idref" href="#FreeTemps.t_Equiv"><span class="id" title="instance">t_Equiv</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t_eq"><span class="id" title="inductive">t_eq</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="FreeTemps.t_Equivalence" class="idref" href="#FreeTemps.t_Equivalence"><span class="id" title="instance">t_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.refl"><span class="id" title="constructor">refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.sym"><span class="id" title="constructor">sym</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.trans"><span class="id" title="constructor">trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqA"><span class="id" title="constructor">seqA</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitL"><span class="id" title="constructor">seq_id_unitL</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq_id_unitR"><span class="id" title="constructor">seq_id_unitR</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.parC"><span class="id" title="constructor">parC</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.parA"><span class="id" title="constructor">parA</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_id_unitL"><span class="id" title="constructor">par_id_unitL</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">id</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">par</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par_id_unitR"><span class="id" title="constructor">par_id_unitR</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.pars"><span class="id" title="definition">pars</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> *in non-deterministic order*.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.pars" class="idref" href="#FreeTemps.pars"><span class="id" title="definition">pars</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.par"><span class="id" title="constructor">FreeTemps.par</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqs"><span class="id" title="definition">seqs</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> sequentially from left-to-right, i.e.
      the first element in the list is run first.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqs" class="idref" href="#FreeTemps.seqs"><span class="id" title="definition">seqs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">FreeTemps.seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seqsR"><span class="id" title="definition">seqsR</span></a></span> <span class="inlinecode"><span class="id" title="var">ls</span></span> is the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a></span> representing the destruction
      of each element in <span class="inlinecode"><span class="id" title="var">ls</span></span> sequentially from right-to-left, i.e.
      the first element in the list is destructed last.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="FreeTemps.seqsR" class="idref" href="#FreeTemps.seqsR"><span class="id" title="definition">seqsR</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.t"><span class="id" title="inductive">t</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.list.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> <a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a> <a id="b:34" class="idref" href="#b:34"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.seq"><span class="id" title="constructor">FreeTemps.seq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:34"><span class="id" title="variable">b</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:33"><span class="id" title="variable">a</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.id"><span class="id" title="constructor">FreeTemps.id</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.FreeTemps"><span class="id" title="section">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="module">FreeTemps</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemps" class="idref" href="#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a id="FreeTemp" class="idref" href="#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t"><span class="id" title="inductive">FreeTemps.t</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="comment">(*&nbsp;Notations&nbsp;*)</span><br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">free</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="592ed300ef1069ca1a008c242f24018e" class="idref" href="#592ed300ef1069ca1a008c242f24018e"><span class="id" title="notation">&quot;</span></a>|*|" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#par"><span class="id" title="constructor">FreeTemps.par</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a id="e7ee732424d29ae8c030d3bb834f6f3f" class="idref" href="#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&quot;</span></a>&gt;*&gt;" := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#seq"><span class="id" title="constructor">FreeTemps.seq</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">free_scope</span>.<br/>
<span class="id" title="keyword">Bind Scope</span> <span class="id" title="var">free_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">FreeTemps.t</span>.<br/>

<br/>
<span class="comment">(*&nbsp;continuations<br/>
&nbsp;*&nbsp;C++&nbsp;statements&nbsp;can&nbsp;terminate&nbsp;in&nbsp;4&nbsp;ways.<br/>
&nbsp;*<br/>
&nbsp;*&nbsp;note(gmm):&nbsp;technically,&nbsp;they&nbsp;can&nbsp;also&nbsp;raise&nbsp;exceptions;&nbsp;however,<br/>
&nbsp;*&nbsp;our&nbsp;current&nbsp;semantics&nbsp;doesn't&nbsp;capture&nbsp;this.&nbsp;if&nbsp;we&nbsp;want&nbsp;to&nbsp;support<br/>
&nbsp;*&nbsp;exceptions,&nbsp;we&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;another&nbsp;case,<br/>
&nbsp;*&nbsp;`k_throw&nbsp;:&nbsp;val&nbsp;-&gt;&nbsp;mpred`.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Variant</span> <a id="ReturnType" class="idref" href="#ReturnType"><span class="id" title="inductive">ReturnType</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Normal" class="idref" href="#Normal"><span class="id" title="constructor">Normal</span></a><br/>
| <a id="Break" class="idref" href="#Break"><span class="id" title="constructor">Break</span></a><br/>
| <a id="Continue" class="idref" href="#Continue"><span class="id" title="constructor">Continue</span></a><br/>
| <a id="ReturnVal" class="idref" href="#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>)<br/>
| <a id="ReturnVoid" class="idref" href="#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a><br/>
.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="ReturnType_ihn" class="idref" href="#ReturnType_ihn"><span class="id" title="instance">ReturnType_ihn</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="rt_biIndex" class="idref" href="#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#biIndex"><span class="id" title="record">biIndex</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_type"><span class="id" title="projection">bi_index_type</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a><br/>
&nbsp;&nbsp;&nbsp;; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#bi_index_rel"><span class="id" title="projection">bi_index_rel</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><br/>
&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="section">Kpred</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="4419af43eee85446dd7b19942c9f830b" class="idref" href="#4419af43eee85446dd7b19942c9f830b"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:37" class="idref" href="#thread_info:37"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="KpredI" class="idref" href="#KpredI"><span class="id" title="definition">KpredI</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#monPredI"><span class="id" title="definition">monPredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt_biIndex"><span class="id" title="definition">rt_biIndex</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredI"><span class="id" title="definition">mpredI</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Notation</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="KP" class="idref" href="#KP"><span class="id" title="definition">KP</span></a> (<a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnType"><span class="id" title="inductive">ReturnType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> := <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#MonPred"><span class="id" title="constructor">MonPred</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:39"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> <span class="id" title="var">_</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="void_return" class="idref" href="#void_return"><span class="id" title="definition">void_return</span></a> (<a id="P:40" class="idref" href="#P:40"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:41" class="idref" href="#rt:41"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:41"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVoid"><span class="id" title="constructor">ReturnVoid</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:40"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="val_return" class="idref" href="#val_return"><span class="id" title="definition">val_return</span></a> (<a id="P:43" class="idref" href="#P:43"><span class="id" title="binder">P</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:44" class="idref" href="#rt:44"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:44"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ReturnVal"><span class="id" title="constructor">ReturnVal</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:43"><span class="id" title="variable">P</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kseq" class="idref" href="#Kseq"><span class="id" title="definition">Kseq</span></a> (<a id="Q:46" class="idref" href="#Q:46"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:47" class="idref" href="#k:47"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:48" class="idref" href="#rt:48"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:48"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:46"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:47"><span class="id" title="variable">k</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rt</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:47"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:48"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;loop&nbsp;with&nbsp;invariant&nbsp;`I`&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kloop" class="idref" href="#Kloop"><span class="id" title="definition">Kloop</span></a> (<a id="I:50" class="idref" href="#I:50"><span class="id" title="binder">I</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="Q:51" class="idref" href="#Q:51"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:52" class="idref" href="#rt:52"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:52"><span class="id" title="variable">rt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Break"><span class="id" title="constructor">Break</span></a> | <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:51"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Normal"><span class="id" title="constructor">Normal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Continue"><span class="id" title="constructor">Continue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#I:50"><span class="id" title="variable">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rt</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:51"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:52"><span class="id" title="variable">rt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Kat_exit" class="idref" href="#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> (<a id="Q:54" class="idref" href="#Q:54"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) (<a id="k:55" class="idref" href="#k:55"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#KP"><span class="id" title="definition">KP</span></a> (<a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <a id="rt:56" class="idref" href="#rt:56"><span class="id" title="binder">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:54"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:55"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:56"><span class="id" title="variable">rt</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="Kat_exit_frame" class="idref" href="#Kat_exit_frame"><span class="id" title="lemma">Kat_exit_frame</span></a> <a id="Q:57" class="idref" href="#Q:57"><span class="id" title="binder">Q</span></a> <a id="Q':58" class="idref" href="#Q':58"><span class="id" title="binder">Q'</span></a> (<a id="k:59" class="idref" href="#k:59"><span class="id" title="binder">k</span></a> <a id="k':60" class="idref" href="#k':60"><span class="id" title="binder">k'</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> <a id="y:62" class="idref" href="#y:62"><span class="id" title="binder">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:62"><span class="id" title="variable">y</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:57"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':58"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#y:62"><span class="id" title="variable">y</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:63" class="idref" href="#rt:63"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:59"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:63"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':60"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:63"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:57"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:59"><span class="id" title="variable">k</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:63"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':58"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k':60"><span class="id" title="variable">k'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:63"><span class="id" title="variable">rt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kat_exit"><span class="id" title="definition">Kat_exit</span></a>. <span class="id" title="var">iIntros</span> "A" (?) "B" =&gt;/=. <span class="id" title="var">iApply</span> "A"; <span class="id" title="var">iApply</span> "B".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="mpred_Kpred_BiEmbed" class="idref" href="#mpred_Kpred_BiEmbed"><span class="id" title="instance">mpred_Kpred_BiEmbed</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.embedding.html#BiEmbed"><span class="id" title="class">BiEmbed</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpredI"><span class="id" title="definition">mpredI</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> := <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE&nbsp;KpredI&nbsp;does&nbsp;not&nbsp;embed&nbsp;into&nbsp;mpredI&nbsp;because&nbsp;it&nbsp;doesn't&nbsp;respect<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;existentials.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="section">Kpred</span></a>.<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Notation</span> <a id="Kpred" class="idref" href="#Kpred"><span class="id" title="abbreviation">Kpred</span></a> := (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#bi_car"><span class="id" title="projection">bi_car</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>).<br/>
#[<span class="id" title="var">global</span>,<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="2021-02-15",<span class="id" title="var">note</span>="use KpredI")] <span class="id" title="keyword">Notation</span> <a id="KpredsI" class="idref" href="#KpredsI"><span class="id" title="abbreviation">KpredsI</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
#[<span class="id" title="var">global</span>,<span class="id" title="var">deprecated</span>(<span class="id" title="var">since</span>="2021-02-15",<span class="id" title="var">note</span>="use Kpred")] <span class="id" title="keyword">Notation</span> <a id="Kpreds" class="idref" href="#Kpreds"><span class="id" title="abbreviation">Kpreds</span></a> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Kpred"><span class="id" title="abbreviation">Kpred</span></a> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab94"></a><h1 class="section">Regions</h1>

    To model the stack frame in separation logic, we use a notion of regions
    that are threaded through the semantics.

<div class="paragraph"> </div>

    We instantiate <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a></span> as a finite map from variables to their addresses
    (implemented as an association list).

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="region" class="idref" href="#region"><span class="id" title="inductive">region</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a id="Remp" class="idref" href="#Remp"><span class="id" title="constructor">Remp</span></a> (<a id="this:66" class="idref" href="#this:66"><span class="id" title="binder">this</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
| <a id="Rbind" class="idref" href="#Rbind"><span class="id" title="constructor">Rbind</span></a> (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#localname"><span class="id" title="definition">localname</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<span class="id" title="var">_</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region:64"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_location" class="idref" href="#get_location"><span class="id" title="definition">get_location</span></a> (<a id="8b7405dca2dfa33ab09b7b14c8c79160" class="idref" href="#8b7405dca2dfa33ab09b7b14c8c79160"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:68" class="idref" href="#b:68"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#localname"><span class="id" title="definition">localname</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#8b7405dca2dfa33ab09b7b14c8c79160"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:68"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location:69"><span class="id" title="definition">get_location</span></a> <span class="id" title="var">rs</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:68"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_this" class="idref" href="#get_this"><span class="id" title="definition">get_this</span></a> (<a id="b720f1b1f729a3246f0b13c1fa9d713d" class="idref" href="#b720f1b1f729a3246f0b13c1fa9d713d"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b720f1b1f729a3246f0b13c1fa9d713d"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">this</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">this</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this:72"><span class="id" title="definition">get_this</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="get_return_type" class="idref" href="#get_return_type"><span class="id" title="definition">get_return_type</span></a> (<a id="4ac90fc9a4666dc9c90b55b2cf233e49" class="idref" href="#4ac90fc9a4666dc9c90b55b2cf233e49"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#4ac90fc9a4666dc9c90b55b2cf233e49"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ty</span> =&gt; <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_return_type:75"><span class="id" title="definition">get_return_type</span></a> <span class="id" title="var">rs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.b"><span class="id" title="variable">b</span></a></span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> that stores the local variable <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.b"><span class="id" title="variable">b</span></a></span>.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_local" class="idref" href="#_local"><span class="id" title="definition">_local</span></a> (<a id="a4b7cad739b05b25cd9fde2b3185c0f1" class="idref" href="#a4b7cad739b05b25cd9fde2b3185c0f1"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="b:78" class="idref" href="#b:78"><span class="id" title="binder">b</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.names.html#ident"><span class="id" title="definition">ident</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_location"><span class="id" title="definition">get_location</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a4b7cad739b05b25cd9fde2b3185c0f1"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b:78"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_local"><span class="id" title="definition">_local</span></a> !<span class="id" title="var">_</span> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">simpl</span> <span class="id" title="var">nomatch</span>, <span class="id" title="tactic">assert</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a></span> <span class="inlinecode">ρ</span> returns the <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.model.inductive_pointers.html#PTRS_IMPL.ptr"><span class="id" title="definition">ptr</span></a></span> that <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> is bound to.

<div class="paragraph"> </div>

    NOTE because <span class="inlinecode"><a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.this"><span class="id" title="variable">this</span></a></span> is <span class="inlinecode"><span class="id" title="var">const</span></span>, we actually store the value directly
    rather than indirectly representing it in memory.
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="_this" class="idref" href="#_this"><span class="id" title="definition">_this</span></a> (<a id="f49d3fc8ca22e0f9e710f0c9a4d98298" class="idref" href="#f49d3fc8ca22e0f9e710f0c9a4d98298"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#get_this"><span class="id" title="definition">get_this</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f49d3fc8ca22e0f9e710f0c9a4d98298"><span class="id" title="variable">ρ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span> =&gt; <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.invalid_ptr"><span class="id" title="axiom">invalid_ptr</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#_this"><span class="id" title="definition">_this</span></a> !<span class="id" title="var">_</span> / : <span class="id" title="tactic">assert</span>.<br/>

<br/>
</div>

<div class="doc">
Region notations
 
</div>
<div class="code">
#[<span class="id" title="var">global</span>] <span class="id" title="var">Declare</span> <span class="id" title="var">Custom</span> <span class="id" title="var">Entry</span> <span class="id" title="var">cpp_region</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id=":cpp_region::'return'_x" class="idref" href="#:cpp_region::'return'_x"><span class="id" title="notation">&quot;</span></a>'return' ty" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">cpp_region</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">ty</span> <span class="id" title="keyword">constr</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[  ' return  ty ']'").<br/>
<span class="id" title="keyword">Notation</span> <a id="ad3b08b1827faab9692808a79f1e9b4f" class="idref" href="#ad3b08b1827faab9692808a79f1e9b4f"><span class="id" title="notation">&quot;</span></a>[ 'this' := ptr ] ; 'return' ty" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Remp"><span class="id" title="constructor">Remp</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ptr</span>) <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">cpp_region</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1, <span class="id" title="var">ptr</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">ty</span> <span class="id" title="keyword">constr</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[' [ this  :=  ptr ] ']' ;  '/' '[  ' return  '/' ty ']'").<br/>
<span class="id" title="keyword">Notation</span> <a id="91dd67b7be792d0e6b9c893946ebc372" class="idref" href="#91dd67b7be792d0e6b9c893946ebc372"><span class="id" title="notation">&quot;</span></a>v @ p ';' ρ " :=<br/>
&nbsp;&nbsp;(<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Rbind"><span class="id" title="constructor">Rbind</span></a> <span class="id" title="var">v</span> <span class="id" title="var">p</span> ρ)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">cpp_region</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1, <span class="id" title="var">v</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">p</span> <span class="id" title="keyword">constr</span>, ρ <span class="id" title="var">custom</span> <span class="id" title="var">cpp_region</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[' v  @  p ']' ;  '/' ρ").<br/>
<span class="id" title="keyword">Notation</span> <a id="f42797071561ce84f1a66ab8247a9961" class="idref" href="#f42797071561ce84f1a66ab8247a9961"><span class="id" title="notation">&quot;</span></a>'[region:' ρ ]" :=<br/>
&nbsp;&nbsp;(ρ)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, ρ <span class="id" title="var">custom</span> <span class="id" title="var">cpp_region</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">format</span> "'[hv' [region:  '/ ' '[' ρ ']' ']' ]").<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="WPE" class="idref" href="#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp" class="idref" href="#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="213a0dec94e9cf112034b0b076aaefbc" class="idref" href="#213a0dec94e9cf112034b0b076aaefbc"><span class="id" title="binder">Σ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.cpp_logic"><span class="id" title="class">cpp_logic</span></a> <a id="thread_info:80" class="idref" href="#thread_info:80"><span class="id" title="binder">thread_info</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;expressions&nbsp;in&nbsp;the&nbsp;C++&nbsp;language&nbsp;are&nbsp;categorized&nbsp;into&nbsp;five<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"value&nbsp;categories"&nbsp;as&nbsp;defined&nbsp;in:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1
   *
   * - "A glvalue is an expression whose evaluation determines the identity of
   *    an object or function."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.1<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation&nbsp;initializes&nbsp;an&nbsp;object&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,&nbsp;as&nbsp;specified&nbsp;by&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,&nbsp;or&nbsp;an&nbsp;expression&nbsp;that&nbsp;has&nbsp;type&nbsp;cv&nbsp;void."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.2
   * - "An xvalue is a glvalue that denotes an object whose resources can be
   *    reused (usually because it is near the end of its lifetime)."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.3<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;"An&nbsp;lvalue&nbsp;is&nbsp;a&nbsp;glvalue&nbsp;that&nbsp;is&nbsp;not&nbsp;an&nbsp;xvalue."<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;http://eel.is/c++draft/expr.propbasic.lval-1.4
   * - "An rvalue is a prvalue or an xvalue."
   *   http://eel.is/c++draft/expr.propbasic.lval-1.5<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
lvalues 
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_lval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">wp_lval</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">ρ</span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;evaluates&nbsp;the&nbsp;expression&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;in&nbsp;region&nbsp;<span class="inlinecode">ρ</span><br/>
&nbsp;&nbsp;&nbsp;*&nbsp;with&nbsp;mask&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span>&nbsp;and&nbsp;continutation&nbsp;<span class="inlinecode"><span class="id" title="var">Q</span></span>.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_lval" class="idref" href="#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:82" class="idref" href="#resolve:82"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;result&nbsp;-&gt;&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_lval&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_lval_shift" class="idref" href="#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="40d201d864be852b98c7ff52c8f159ec" class="idref" href="#40d201d864be852b98c7ff52c8f159ec"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="22461c170f4d02f133b78f1545b0790d" class="idref" href="#22461c170f4d02f133b78f1545b0790d"><span class="id" title="binder">ρ</span></a> <a id="e:86" class="idref" href="#e:86"><span class="id" title="binder">e</span></a> <a id="Q:87" class="idref" href="#Q:87"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#22461c170f4d02f133b78f1545b0790d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:86"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:88" class="idref" href="#v:88"><span class="id" title="binder">v</span></a> <a id="free:89" class="idref" href="#free:89"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:87"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:88"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:89"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#22461c170f4d02f133b78f1545b0790d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:86"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:87"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_lval_frame" class="idref" href="#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="2e113c870e5e5dbb1ad50f7c1dc88275" class="idref" href="#2e113c870e5e5dbb1ad50f7c1dc88275"><span class="id" title="binder">σ1</span></a> <a id="6048f4a409f5d88c37f33dccb6d2d8e0" class="idref" href="#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="binder">σ2</span></a> <a id="5dbee8c2533c2aa967358d20ed382d6f" class="idref" href="#5dbee8c2533c2aa967358d20ed382d6f"><span class="id" title="binder">ρ</span></a> <a id="e:94" class="idref" href="#e:94"><span class="id" title="binder">e</span></a> <a id="k1:95" class="idref" href="#k1:95"><span class="id" title="binder">k1</span></a> <a id="k2:96" class="idref" href="#k2:96"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2e113c870e5e5dbb1ad50f7c1dc88275"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:97" class="idref" href="#v:97"><span class="id" title="binder">v</span></a> <a id="f:98" class="idref" href="#f:98"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:95"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:97"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:98"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:96"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:97"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:98"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2e113c870e5e5dbb1ad50f7c1dc88275"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5dbee8c2533c2aa967358d20ed382d6f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:94"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:95"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6048f4a409f5d88c37f33dccb6d2d8e0"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5dbee8c2533c2aa967358d20ed382d6f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:94"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:96"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_lval" class="idref" href="#WPE.Proper_wp_lval"><span class="id" title="instance">Proper_wp_lval</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X". <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>). <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>). <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_lval" class="idref" href="#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="4fbcfdbd6bed7ea9d2fc47807f145636" class="idref" href="#4fbcfdbd6bed7ea9d2fc47807f145636"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="659339eeb3f3774df80550d0692c65e2" class="idref" href="#659339eeb3f3774df80550d0692c65e2"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:102" class="idref" href="#e:102"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d5d7f5116cb446f56f45e70ce4737a2f"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_wand" class="idref" href="#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a id="Q1:103" class="idref" href="#Q1:103"><span class="id" title="binder">Q1</span></a> <a id="Q2:104" class="idref" href="#Q2:104"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:103"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:105" class="idref" href="#v:105"><span class="id" title="binder">v</span></a> <a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:103"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:105"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:104"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:105"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:106"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:104"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_lval" class="idref" href="#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a> <a id="Q:107" class="idref" href="#Q:107"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:107"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:107"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_wand"><span class="id" title="lemma">wp_lval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_lval_fupd" class="idref" href="#WPE.wp_lval_fupd"><span class="id" title="lemma">wp_lval_fupd</span></a> <a id="Q:108" class="idref" href="#Q:108"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:109" class="idref" href="#v:109"><span class="id" title="binder">v</span></a> <a id="f:110" class="idref" href="#f:110"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:108"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:109"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:110"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:108"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_shift"><span class="id" title="axiom">wp_lval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_lval" class="idref" href="#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a> <a id="p:111" class="idref" href="#p:111"><span class="id" title="binder">p</span></a> <a id="P:112" class="idref" href="#P:112"><span class="id" title="binder">P</span></a> <a id="Q:113" class="idref" href="#Q:113"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:111"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:112"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:112"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:113"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:113"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_lval" class="idref" href="#WPE.elim_modal_bupd_wp_lval"><span class="id" title="instance">elim_modal_bupd_wp_lval</span></a> <a id="p:114" class="idref" href="#p:114"><span class="id" title="binder">p</span></a> <a id="P:115" class="idref" href="#P:115"><span class="id" title="binder">P</span></a> <a id="Q:116" class="idref" href="#Q:116"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:114"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:115"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:115"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:116"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:116"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_lval"><span class="id" title="instance">elim_modal_fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_lval" class="idref" href="#WPE.add_modal_fupd_wp_lval"><span class="id" title="instance">add_modal_fupd_wp_lval</span></a> <a id="P:117" class="idref" href="#P:117"><span class="id" title="binder">P</span></a> <a id="Q:118" class="idref" href="#Q:118"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:117"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:117"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:118"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_lval"><span class="id" title="lemma">fupd_wp_lval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_lval"><span class="id" title="section">wp_lval</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab95"></a><h1 class="section">prvalue</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;there&nbsp;are&nbsp;two&nbsp;distinct&nbsp;weakest&nbsp;pre-conditions&nbsp;for&nbsp;this&nbsp;corresponding&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;standard&nbsp;text:<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;"A&nbsp;prvalue&nbsp;is&nbsp;an&nbsp;expression&nbsp;whose&nbsp;evaluation...<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;1.&nbsp;initializes&nbsp;an&nbsp;object,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;2.&nbsp;computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator,<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;specified&nbsp;by&nbsp;the&nbsp;context&nbsp;in&nbsp;which&nbsp;it&nbsp;appears,..."<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_init&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"initializes&nbsp;an&nbsp;object".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;memory&nbsp;that&nbsp;is&nbsp;being&nbsp;initialized&nbsp;is&nbsp;already&nbsp;owned&nbsp;by&nbsp;the&nbsp;C++&nbsp;abstract&nbsp;machine.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Therefore,&nbsp;schematically,&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span> <span class="inlinecode"><span class="id" title="var">ty</span></span> <span class="inlinecode"><span class="id" title="var">addr</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span> <span class="inlinecode"><span class="id" title="var">Q</span></span>&nbsp;looks&nbsp;like&nbsp;the&nbsp;following:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">addr</span> |-&gt; <span class="id" title="var">R</span> ... 1 -* <span class="id" title="var">Q</span>
<div class="paragraph"> </div>

</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;choice&nbsp;means&nbsp;that&nbsp;a&nbsp;thread&nbsp;needs&nbsp;to&nbsp;give&nbsp;up&nbsp;the&nbsp;memory&nbsp;to&nbsp;the&nbsp;abstract<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;machine&nbsp;when&nbsp;it&nbsp;transitions&nbsp;to&nbsp;running&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">wp_init</span></span>.&nbsp;In&nbsp;the&nbsp;case&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack&nbsp;allocation,&nbsp;there&nbsp;is&nbsp;nothing&nbsp;to&nbsp;do&nbsp;here,&nbsp;but&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">new</span></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;memory&nbsp;must&nbsp;be&nbsp;given&nbsp;up.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;C++&nbsp;standard&nbsp;has&nbsp;many&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;(see<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://eel.is/c++draft/dcl.init&gt;).&nbsp;The&nbsp;Clang&nbsp;frontend&nbsp;(and&nbsp;therefore&nbsp;our<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AST)&nbsp;implements&nbsp;the&nbsp;different&nbsp;forms&nbsp;of&nbsp;initialization&nbsp;through&nbsp;elaboration.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;example,&nbsp;in&nbsp;aggregate&nbsp;pass-by-value&nbsp;the&nbsp;standard&nbsp;states&nbsp;that&nbsp;copy&nbsp;initialization<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;https://eel.is/c++draft/dcl.initgeneral-14> is used; however, our AST
     produces an explicit [Econstructor] in the AST to represent this. This seems
     necessary to have a uniform representation of the various evoluations of
     initialization between different standards, e.g. C++14, C++17, etc.
   *)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_init" class="idref" href="#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:119" class="idref" href="#resolve:119"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;top-free&nbsp;-&gt;&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_init&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_init_shift" class="idref" href="#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="6954d5c2e51d8ac5bcf7341b9ce1d94f" class="idref" href="#6954d5c2e51d8ac5bcf7341b9ce1d94f"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="b9d5a05665af7858344e4118dd1fb4a2" class="idref" href="#b9d5a05665af7858344e4118dd1fb4a2"><span class="id" title="binder">ρ</span></a> <a id="v:123" class="idref" href="#v:123"><span class="id" title="binder">v</span></a> <a id="e:124" class="idref" href="#e:124"><span class="id" title="binder">e</span></a> <a id="Q:125" class="idref" href="#Q:125"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b9d5a05665af7858344e4118dd1fb4a2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:123"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:124"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="free:126" class="idref" href="#free:126"><span class="id" title="binder">free</span></a> <a id="frees:127" class="idref" href="#frees:127"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:125"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:126"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:127"><span class="id" title="variable">frees</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#b9d5a05665af7858344e4118dd1fb4a2"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:123"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:124"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:125"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_init_frame" class="idref" href="#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="477c0ff2bcd99e68e79ea14248eee26e" class="idref" href="#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="binder">σ1</span></a> <a id="1e7068e73f451e64b82526766aa53952" class="idref" href="#1e7068e73f451e64b82526766aa53952"><span class="id" title="binder">σ2</span></a> <a id="810d4863130f86c51df7431c1b8ace2c" class="idref" href="#810d4863130f86c51df7431c1b8ace2c"><span class="id" title="binder">ρ</span></a> <a id="v:132" class="idref" href="#v:132"><span class="id" title="binder">v</span></a> <a id="e:133" class="idref" href="#e:133"><span class="id" title="binder">e</span></a> <a id="k1:134" class="idref" href="#k1:134"><span class="id" title="binder">k1</span></a> <a id="k2:135" class="idref" href="#k2:135"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1e7068e73f451e64b82526766aa53952"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> <a id="fs:137" class="idref" href="#fs:137"><span class="id" title="binder">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:134"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:137"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:135"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:137"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#477c0ff2bcd99e68e79ea14248eee26e"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#810d4863130f86c51df7431c1b8ace2c"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:132"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:134"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#1e7068e73f451e64b82526766aa53952"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#810d4863130f86c51df7431c1b8ace2c"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:132"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:133"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:135"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_init" class="idref" href="#WPE.Proper_wp_init"><span class="id" title="instance">Proper_wp_init</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (??); <span class="id" title="var">iApply</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_init" class="idref" href="#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="e515168a4ed37059c2e6cbaf981dc537" class="idref" href="#e515168a4ed37059c2e6cbaf981dc537"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="de219807b9acde29c584fb5de562f118" class="idref" href="#de219807b9acde29c584fb5de562f118"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="p:141" class="idref" href="#p:141"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a>) (<a id="e:142" class="idref" href="#e:142"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5177df966d518039fadcc9b95e674bb5"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.p"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_wand" class="idref" href="#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a id="Q1:143" class="idref" href="#Q1:143"><span class="id" title="binder">Q1</span></a> <a id="Q2:144" class="idref" href="#Q2:144"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:143"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="f:145" class="idref" href="#f:145"><span class="id" title="binder">f</span></a> <a id="fs:146" class="idref" href="#fs:146"><span class="id" title="binder">fs</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:143"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:146"><span class="id" title="variable">fs</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:144"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:145"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:146"><span class="id" title="variable">fs</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:144"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_frame"><span class="id" title="axiom">wp_init_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_init" class="idref" href="#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a> <a id="Q:147" class="idref" href="#Q:147"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:147"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:147"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_wand"><span class="id" title="lemma">wp_init_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_init_fupd" class="idref" href="#WPE.wp_init_fupd"><span class="id" title="lemma">wp_init_fupd</span></a> <a id="Q:148" class="idref" href="#Q:148"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="f:149" class="idref" href="#f:149"><span class="id" title="binder">f</span></a> <a id="fs:150" class="idref" href="#fs:150"><span class="id" title="binder">fs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:148"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:149"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fs:150"><span class="id" title="variable">fs</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:148"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init_shift"><span class="id" title="axiom">wp_init_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_init" class="idref" href="#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a> <a id="q:151" class="idref" href="#q:151"><span class="id" title="binder">q</span></a> <a id="P:152" class="idref" href="#P:152"><span class="id" title="binder">P</span></a> <a id="Q:153" class="idref" href="#Q:153"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:151"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:152"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:152"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:153"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:153"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_init" class="idref" href="#WPE.elim_modal_bupd_wp_init"><span class="id" title="instance">elim_modal_bupd_wp_init</span></a> <a id="q:154" class="idref" href="#q:154"><span class="id" title="binder">q</span></a> <a id="P:155" class="idref" href="#P:155"><span class="id" title="binder">P</span></a> <a id="Q:156" class="idref" href="#Q:156"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#q:154"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:155"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:155"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:156"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:156"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_init"><span class="id" title="instance">elim_modal_fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_init" class="idref" href="#WPE.add_modal_fupd_wp_init"><span class="id" title="instance">add_modal_fupd_wp_init</span></a> <a id="P:157" class="idref" href="#P:157"><span class="id" title="binder">P</span></a> <a id="Q:158" class="idref" href="#Q:158"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:157"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:157"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:158"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_init"><span class="id" title="lemma">fupd_wp_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_init"><span class="id" title="section">wp_init</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_prval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_prval" class="idref" href="#WPE.wp_prval"><span class="id" title="definition">wp_prval</span></a> {<a id="resolve:159" class="idref" href="#resolve:159"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="f210f6a1f26ac165797c70cbfa4f4e43" class="idref" href="#f210f6a1f26ac165797c70cbfa4f4e43"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:161" class="idref" href="#e:161"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="Q:162" class="idref" href="#Q:162"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemp"><span class="id" title="abbreviation">FreeTemp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="p:163" class="idref" href="#p:163"><span class="id" title="binder">p</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f210f6a1f26ac165797c70cbfa4f4e43"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:163"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:161"><span class="id" title="variable">e</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:162"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:163"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_prval&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
TODO prove instances for <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_prval"><span class="id" title="abbreviation">wp_prval</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_operand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;prvalue&nbsp;that&nbsp;"computes&nbsp;the&nbsp;value&nbsp;of&nbsp;an&nbsp;operand&nbsp;of&nbsp;an&nbsp;operator"<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_operand" class="idref" href="#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:164" class="idref" href="#resolve:164"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;result&nbsp;-&gt;&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_operand&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_shift" class="idref" href="#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="a761a1b4e13a4eea960c98e205c18811" class="idref" href="#a761a1b4e13a4eea960c98e205c18811"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="7cf496709408deb9797d8b3a8fa0b1a6" class="idref" href="#7cf496709408deb9797d8b3a8fa0b1a6"><span class="id" title="binder">ρ</span></a> <a id="e:168" class="idref" href="#e:168"><span class="id" title="binder">e</span></a> <a id="Q:169" class="idref" href="#Q:169"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#a761a1b4e13a4eea960c98e205c18811"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#7cf496709408deb9797d8b3a8fa0b1a6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:168"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:170" class="idref" href="#v:170"><span class="id" title="binder">v</span></a> <a id="free:171" class="idref" href="#free:171"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:169"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:170"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:171"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#a761a1b4e13a4eea960c98e205c18811"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#7cf496709408deb9797d8b3a8fa0b1a6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:168"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:169"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_frame" class="idref" href="#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="9f29eb300d57e92574559de47a4a8ab7" class="idref" href="#9f29eb300d57e92574559de47a4a8ab7"><span class="id" title="binder">σ1</span></a> <a id="6844f62697dfb160ba8501c88cff24c8" class="idref" href="#6844f62697dfb160ba8501c88cff24c8"><span class="id" title="binder">σ2</span></a> <a id="bcac7401b0948f75d225375216d81aee" class="idref" href="#bcac7401b0948f75d225375216d81aee"><span class="id" title="binder">ρ</span></a> <a id="e:176" class="idref" href="#e:176"><span class="id" title="binder">e</span></a> <a id="k1:177" class="idref" href="#k1:177"><span class="id" title="binder">k1</span></a> <a id="k2:178" class="idref" href="#k2:178"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9f29eb300d57e92574559de47a4a8ab7"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6844f62697dfb160ba8501c88cff24c8"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:179" class="idref" href="#v:179"><span class="id" title="binder">v</span></a> <a id="f:180" class="idref" href="#f:180"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:177"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:179"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:178"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:179"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#9f29eb300d57e92574559de47a4a8ab7"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bcac7401b0948f75d225375216d81aee"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:176"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:177"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#6844f62697dfb160ba8501c88cff24c8"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bcac7401b0948f75d225375216d81aee"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:176"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:178"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;BEGIN&nbsp;wp_init&nbsp;&lt;-&gt;&nbsp;wp_operand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_operand_wp_init" class="idref" href="#WPE.wp_operand_wp_init"><span class="id" title="axiom">wp_operand_wp_init</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="c4328d2d235e6e0d7c0a12c793e0568e" class="idref" href="#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="5b606fec4329e5170d49d3cac76d9e26" class="idref" href="#5b606fec4329e5170d49d3cac76d9e26"><span class="id" title="binder">ρ</span></a> <a id="addr:184" class="idref" href="#addr:184"><span class="id" title="binder">addr</span></a> <a id="e:185" class="idref" href="#e:185"><span class="id" title="binder">e</span></a> <a id="Q:186" class="idref" href="#Q:186"><span class="id" title="binder">Q</span></a> (<a id="ty:187" class="idref" href="#ty:187"><span class="id" title="binder">ty</span></a> := <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:185"><span class="id" title="variable">e</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_primitive"><span class="id" title="definition">is_primitive</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:187"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5b606fec4329e5170d49d3cac76d9e26"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:185"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:188" class="idref" href="#v:188"><span class="id" title="binder">v</span></a> <a id="frees:189" class="idref" href="#frees:189"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.heap_notations.html#_at"><span class="id" title="abbreviation">_at</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#addr:184"><span class="id" title="variable">addr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="definition">primR</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:187"><span class="id" title="variable">ty</span></a> 1 <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:188"><span class="id" title="variable">v</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:186"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps.delete"><span class="id" title="constructor">FreeTemps.delete</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ty:187"><span class="id" title="variable">ty</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#addr:184"><span class="id" title="variable">addr</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:189"><span class="id" title="variable">frees</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5b606fec4329e5170d49d3cac76d9e26"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#addr:184"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:185"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:186"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
</div>

<div class="doc">
This is justified in the logic but technically not sactioned by the standard

<div class="paragraph"> </div>

    <br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <span class="id" title="var">wp_init_wp_operand</span> : <span class="id" title="keyword">forall</span> {σ : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="record">genv</span></a>} <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a> <span class="id" title="var">e</span> <span class="id" title="var">Q</span> (<span class="id" title="var">ty</span> := <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <span class="id" title="var">e</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_primitive"><span class="id" title="definition">is_primitive</span></a> <span class="id" title="var">ty</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_prval"><span class="id" title="abbreviation">wp_prval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <a class="idref" href="bedrock.noimport.doc.cpp.logic.html#with_Sigma.p"><span class="id" title="variable">p</span></a> <span class="id" title="var">free</span> <span class="id" title="var">frees</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">FreeTemps.t_eq</span> <span class="id" title="var">free</span> (<span class="id" title="var">FreeTemps.delete</span> <span class="id" title="var">ty</span> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a>) |] **<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">v</span>, <a class="idref" href="bedrock.lang.cpp.heap_notations.html#_at"><span class="id" title="abbreviation">_at</span></a> <a class="idref" href="bedrock.lang.cpp.model.simple_pred.html#SimpleCPP_BASE.addr"><span class="id" title="definition">addr</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.heap_pred.html#primR"><span class="id" title="definition">primR</span></a> <span class="id" title="var">ty</span> 1 <span class="id" title="var">v</span>) ** <span class="id" title="var">Q</span> <span class="id" title="var">v</span> <span class="id" title="var">frees</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|-- <a class="idref" href="bedrock.lang.cpp.logic.atomics.html#wp_operand"><span class="id" title="abbreviation">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.atomics_derived.html#cmpxchg_derived.M"><span class="id" title="variable">M</span></a> ρ <span class="id" title="var">e</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;
<div class="paragraph"> </div>

</span>   
</div>
<div class="code">
&nbsp;&nbsp;<span class="comment">(*&nbsp;END&nbsp;wp_init&nbsp;&lt;-&gt;&nbsp;wp_operand&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_operand" class="idref" href="#WPE.Proper_wp_operand"><span class="id" title="instance">Proper_wp_operand</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>); <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_operand" class="idref" href="#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="efa92aa1d21af6e6f6fa782e282fa3db" class="idref" href="#efa92aa1d21af6e6f6fa782e282fa3db"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="38ed0d3a4b0a31b766abbd493dbf8c84" class="idref" href="#38ed0d3a4b0a31b766abbd493dbf8c84"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:193" class="idref" href="#e:193"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#5edd49b5864a9b015bcc057fa8cbd8ea"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_wand" class="idref" href="#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a id="Q1:194" class="idref" href="#Q1:194"><span class="id" title="binder">Q1</span></a> <a id="Q2:195" class="idref" href="#Q2:195"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:194"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:196" class="idref" href="#v:196"><span class="id" title="binder">v</span></a> <a id="f:197" class="idref" href="#f:197"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:194"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:196"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:197"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:195"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:196"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:197"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:195"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_frame"><span class="id" title="axiom">wp_operand_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_operand" class="idref" href="#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a> <a id="Q:198" class="idref" href="#Q:198"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:198"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:198"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_wand"><span class="id" title="lemma">wp_operand_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_operand_fupd" class="idref" href="#WPE.wp_operand_fupd"><span class="id" title="lemma">wp_operand_fupd</span></a> <a id="Q:199" class="idref" href="#Q:199"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:200" class="idref" href="#v:200"><span class="id" title="binder">v</span></a> <a id="f:201" class="idref" href="#f:201"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:199"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:200"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:201"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:199"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand_shift"><span class="id" title="axiom">wp_operand_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_operand" class="idref" href="#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a> <a id="p:202" class="idref" href="#p:202"><span class="id" title="binder">p</span></a> <a id="P:203" class="idref" href="#P:203"><span class="id" title="binder">P</span></a> <a id="Q:204" class="idref" href="#Q:204"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:202"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:203"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:203"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:204"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:204"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_operand" class="idref" href="#WPE.elim_modal_bupd_wp_operand"><span class="id" title="instance">elim_modal_bupd_wp_operand</span></a> <a id="p:205" class="idref" href="#p:205"><span class="id" title="binder">p</span></a> <a id="P:206" class="idref" href="#P:206"><span class="id" title="binder">P</span></a> <a id="Q:207" class="idref" href="#Q:207"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:206"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:206"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:207"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:207"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_operand"><span class="id" title="instance">elim_modal_fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_operand" class="idref" href="#WPE.add_modal_fupd_wp_operand"><span class="id" title="instance">add_modal_fupd_wp_operand</span></a> <a id="P:208" class="idref" href="#P:208"><span class="id" title="binder">P</span></a> <a id="Q:209" class="idref" href="#Q:209"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:208"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:208"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:209"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_operand"><span class="id" title="lemma">fupd_wp_operand</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_operand"><span class="id" title="section">wp_operand</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab96"></a><h1 class="section">xvalues</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;an&nbsp;xvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp_xval" class="idref" href="#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:210" class="idref" href="#resolve:210"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="comment">(*&nbsp;result&nbsp;-&gt;&nbsp;free&nbsp;-&gt;&nbsp;post&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>. <span class="comment">(*&nbsp;pre-condition&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_xval_shift" class="idref" href="#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="a517e2a9509fab1aa24ce1e73beb0c76" class="idref" href="#a517e2a9509fab1aa24ce1e73beb0c76"><span class="id" title="binder">σ</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="79a590e6563adc9ddd494b7dece16db6" class="idref" href="#79a590e6563adc9ddd494b7dece16db6"><span class="id" title="binder">ρ</span></a> <a id="e:214" class="idref" href="#e:214"><span class="id" title="binder">e</span></a> <a id="Q:215" class="idref" href="#Q:215"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#79a590e6563adc9ddd494b7dece16db6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:214"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="v:216" class="idref" href="#v:216"><span class="id" title="binder">v</span></a> <a id="free:217" class="idref" href="#free:217"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:215"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:216"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:217"><span class="id" title="variable">free</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#79a590e6563adc9ddd494b7dece16db6"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:215"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_xval_frame" class="idref" href="#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="fca1dd3a713bb7b9de0a4d7b5287f782" class="idref" href="#fca1dd3a713bb7b9de0a4d7b5287f782"><span class="id" title="binder">σ1</span></a> <a id="164c603a58fa9fd2cd973a657332ff95" class="idref" href="#164c603a58fa9fd2cd973a657332ff95"><span class="id" title="binder">σ2</span></a> <a id="21229953d35a938d876aecf090ef7f0d" class="idref" href="#21229953d35a938d876aecf090ef7f0d"><span class="id" title="binder">ρ</span></a> <a id="e:222" class="idref" href="#e:222"><span class="id" title="binder">e</span></a> <a id="k1:223" class="idref" href="#k1:223"><span class="id" title="binder">k1</span></a> <a id="k2:224" class="idref" href="#k2:224"><span class="id" title="binder">k2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fca1dd3a713bb7b9de0a4d7b5287f782"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#164c603a58fa9fd2cd973a657332ff95"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:225" class="idref" href="#v:225"><span class="id" title="binder">v</span></a> <a id="f:226" class="idref" href="#f:226"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:223"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:225"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:226"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:224"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:225"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:226"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fca1dd3a713bb7b9de0a4d7b5287f782"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#21229953d35a938d876aecf090ef7f0d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:223"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#164c603a58fa9fd2cd973a657332ff95"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#21229953d35a938d876aecf090ef7f0d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:222"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:224"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp_xval" class="idref" href="#WPE.Proper_wp_xval"><span class="id" title="instance">Proper_wp_xval</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iIntros</span> (<span class="id" title="var">f</span>); <span class="id" title="var">iApply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_xval" class="idref" href="#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="15b543d33237afd71f9207f2e0e6b6e5" class="idref" href="#15b543d33237afd71f9207f2e0e6b6e5"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="3db66157b962a8307b0c92bbd0db231e" class="idref" href="#3db66157b962a8307b0c92bbd0db231e"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="e:230" class="idref" href="#e:230"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f954ce9247934de32355b50a45e0eaed"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval.e"><span class="id" title="variable">e</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_wand" class="idref" href="#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a id="Q1:231" class="idref" href="#Q1:231"><span class="id" title="binder">Q1</span></a> <a id="Q2:232" class="idref" href="#Q2:232"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:231"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:233" class="idref" href="#v:233"><span class="id" title="binder">v</span></a> <a id="f:234" class="idref" href="#f:234"><span class="id" title="binder">f</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:231"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:233"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:234"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:232"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:233"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:234"><span class="id" title="variable">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:232"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp_xval" class="idref" href="#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a> <a id="Q:235" class="idref" href="#Q:235"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:235"><span class="id" title="variable">Q</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:235"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_wand"><span class="id" title="lemma">wp_xval_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_xval_fupd" class="idref" href="#WPE.wp_xval_fupd"><span class="id" title="lemma">wp_xval_fupd</span></a> <a id="Q:236" class="idref" href="#Q:236"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="v:237" class="idref" href="#v:237"><span class="id" title="binder">v</span></a> <a id="f:238" class="idref" href="#f:238"><span class="id" title="binder">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:236"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:237"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:238"><span class="id" title="variable">f</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:236"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_shift"><span class="id" title="axiom">wp_xval_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp_xval" class="idref" href="#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a> <a id="p:239" class="idref" href="#p:239"><span class="id" title="binder">p</span></a> <a id="P:240" class="idref" href="#P:240"><span class="id" title="binder">P</span></a> <a id="Q:241" class="idref" href="#Q:241"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:240"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:240"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:241"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:241"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp_xval" class="idref" href="#WPE.elim_modal_bupd_wp_xval"><span class="id" title="instance">elim_modal_bupd_wp_xval</span></a> <a id="p:242" class="idref" href="#p:242"><span class="id" title="binder">p</span></a> <a id="P:243" class="idref" href="#P:243"><span class="id" title="binder">P</span></a> <a id="Q:244" class="idref" href="#Q:244"><span class="id" title="binder">Q</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:242"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:243"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:243"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:244"><span class="id" title="variable">Q</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:244"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp_xval"><span class="id" title="instance">elim_modal_fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp_xval" class="idref" href="#WPE.add_modal_fupd_wp_xval"><span class="id" title="instance">add_modal_fupd_wp_xval</span></a> <a id="P:245" class="idref" href="#P:245"><span class="id" title="binder">P</span></a> <a id="Q:246" class="idref" href="#Q:246"><span class="id" title="binder">Q</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:245"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:245"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:246"><span class="id" title="variable">Q</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp_xval"><span class="id" title="lemma">fupd_wp_xval</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_xval"><span class="id" title="section">wp_xval</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Opaque&nbsp;wrapper&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>:&nbsp;this&nbsp;represents&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">False</span></span>&nbsp;obtained&nbsp;by&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ValCat</span></span>&nbsp;mismatch&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">wp_glval</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval_mismatch" class="idref" href="#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> {<a id="resolve:247" class="idref" href="#resolve:247"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="r:248" class="idref" href="#r:248"><span class="id" title="binder">r</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="vc:249" class="idref" href="#vc:249"><span class="id" title="binder">vc</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#ValCat"><span class="id" title="inductive">ValCat</span></a>) (<a id="e:250" class="idref" href="#e:250"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> := <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">funI</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#4dc5ea9ff5adf96778673fd78da7179e"><span class="id" title="notation">=&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#::bi_scope:'False'"><span class="id" title="notation">False</span></a>.<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;an&nbsp;expression&nbsp;as&nbsp;a&nbsp;generalized&nbsp;lvalue&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;some&nbsp;cases&nbsp;we&nbsp;need&nbsp;to&nbsp;evaluate&nbsp;a&nbsp;glvalue&nbsp;but&nbsp;we&nbsp;know&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;underlying&nbsp;primitive&nbsp;value&nbsp;category.&nbsp;This&nbsp;makes&nbsp;some&nbsp;weakest<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pre-condition&nbsp;axioms&nbsp;a&nbsp;bit&nbsp;shorter<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_glval" class="idref" href="#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> {<a id="resolve:251" class="idref" href="#resolve:251"><span class="id" title="binder">resolve</span></a>} <a id="r:252" class="idref" href="#r:252"><span class="id" title="binder">r</span></a> (<a id="vc:253" class="idref" href="#vc:253"><span class="id" title="binder">vc</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#ValCat"><span class="id" title="inductive">ValCat</span></a>) (<a id="e:254" class="idref" href="#e:254"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#PTRS_INTF_AXIOM.ptr"><span class="id" title="axiom">ptr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:253"><span class="id" title="variable">vc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#resolve:251"><span class="id" title="variable">resolve</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:252"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:254"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#resolve:251"><span class="id" title="variable">resolve</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:252"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:254"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_mismatch"><span class="id" title="definition">wp_glval_mismatch</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:252"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:253"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:254"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="WPE.wp_glval_frame" class="idref" href="#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a> {<a id="resolve:256" class="idref" href="#resolve:256"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="r:257" class="idref" href="#r:257"><span class="id" title="binder">r</span></a> <a id="vc:258" class="idref" href="#vc:258"><span class="id" title="binder">vc</span></a> <a id="e:259" class="idref" href="#e:259"><span class="id" title="binder">e</span></a> <a id="Q:260" class="idref" href="#Q:260"><span class="id" title="binder">Q</span></a> <a id="Q':261" class="idref" href="#Q':261"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:262" class="idref" href="#v:262"><span class="id" title="binder">v</span></a> <a id="free:263" class="idref" href="#free:263"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:260"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:262"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:263"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':261"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:262"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:263"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:258"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:260"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:257"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:258"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:259"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':261"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vc</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval_frame"><span class="id" title="axiom">wp_lval_frame</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval_frame"><span class="id" title="axiom">wp_xval_frame</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="WPE.wp_glval_wand" class="idref" href="#WPE.wp_glval_wand"><span class="id" title="lemma">wp_glval_wand</span></a> {<a id="resolve:264" class="idref" href="#resolve:264"><span class="id" title="binder">resolve</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} <a id="r:265" class="idref" href="#r:265"><span class="id" title="binder">r</span></a> <a id="vc:266" class="idref" href="#vc:266"><span class="id" title="binder">vc</span></a> <a id="e:267" class="idref" href="#e:267"><span class="id" title="binder">e</span></a> <a id="Q:268" class="idref" href="#Q:268"><span class="id" title="binder">Q</span></a> <a id="Q':269" class="idref" href="#Q':269"><span class="id" title="binder">Q'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:265"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:266"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:267"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:268"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:270" class="idref" href="#v:270"><span class="id" title="binder">v</span></a> <a id="free:271" class="idref" href="#free:271"><span class="id" title="binder">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:268"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:270"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:271"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':269"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:270"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:271"><span class="id" title="variable">free</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval"><span class="id" title="definition">wp_glval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#r:265"><span class="id" title="variable">r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:266"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:267"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':269"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "A B"; <span class="id" title="var">iRevert</span> "A"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_glval_frame"><span class="id" title="lemma">wp_glval_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Discarded values.
      Sometimes expressions are evaluated only for their side-effects.
      https://eel.is/c++draft/exprcontext-2

      The definition [wp_discard] captures this and allows us to express some rules
      more concisely. Note that due to the fact that we have different [wp]s for each
      value category, [wp_discard] takes the value category of the expression which
      must be embedded into the AST.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp_discard" class="idref" href="#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="resolve:272" class="idref" href="#resolve:272"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="e155ffaf02ea34a0d68d86051382f19d" class="idref" href="#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.wp_discard" class="idref" href="#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> (<a id="vc:274" class="idref" href="#vc:274"><span class="id" title="binder">vc</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#ValCat"><span class="id" title="inductive">ValCat</span></a>) (<a id="e:275" class="idref" href="#e:275"><span class="id" title="binder">e</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Expr"><span class="id" title="inductive">Expr</span></a>) (<a id="Q:276" class="idref" href="#Q:276"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#FreeTemps"><span class="id" title="abbreviation">FreeTemps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>) : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:274"><span class="id" title="variable">vc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Lvalue"><span class="id" title="constructor">Lvalue</span></a> =&gt; @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_lval"><span class="id" title="axiom">wp_lval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.resolve"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:275"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:276"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Prvalue"><span class="id" title="constructor">Prvalue</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.typing.html#is_primitive"><span class="id" title="definition">is_primitive</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.typing.html#type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:275"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_operand"><span class="id" title="axiom">wp_operand</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.resolve"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:275"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="free:281" class="idref" href="#free:281"><span class="id" title="binder">free</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:276"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:281"><span class="id" title="variable">free</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="p:278" class="idref" href="#p:278"><span class="id" title="binder">p</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_init"><span class="id" title="axiom">wp_init</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.resolve"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:278"><span class="id" title="variable">p</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:275"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <a id="free:279" class="idref" href="#free:279"><span class="id" title="binder">free</span></a> <a id="frees:280" class="idref" href="#frees:280"><span class="id" title="binder">frees</span></a> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:276"><span class="id" title="variable">Q</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#free:279"><span class="id" title="variable">free</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e7ee732424d29ae8c030d3bb834f6f3f"><span class="id" title="notation">&gt;*&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#frees:280"><span class="id" title="variable">frees</span></a>)%<span class="id" title="var">free</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="bedrock.lang.cpp.syntax.expr.html#Xvalue"><span class="id" title="constructor">Xvalue</span></a> =&gt; @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_xval"><span class="id" title="axiom">wp_xval</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard.resolve"><span class="id" title="variable">resolve</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e155ffaf02ea34a0d68d86051382f19d"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:275"><span class="id" title="variable">e</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:276"><span class="id" title="variable">Q</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp_discard"><span class="id" title="section">wp_discard</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_discard_frame" class="idref" href="#WPE.wp_discard_frame"><span class="id" title="lemma">wp_discard_frame</span></a> <a id="37db11bb74e8542c6ee3be0ff5a118ce" class="idref" href="#37db11bb74e8542c6ee3be0ff5a118ce"><span class="id" title="binder">σ1</span></a> <a id="c732013b0aca5b835799014fd13a7b41" class="idref" href="#c732013b0aca5b835799014fd13a7b41"><span class="id" title="binder">σ2</span></a> <a id="daadfbea8e99bbdac05572d9b28d1012" class="idref" href="#daadfbea8e99bbdac05572d9b28d1012"><span class="id" title="binder">ρ</span></a> <a id="vc:285" class="idref" href="#vc:285"><span class="id" title="binder">vc</span></a> <a id="e:286" class="idref" href="#e:286"><span class="id" title="binder">e</span></a> <a id="k1:287" class="idref" href="#k1:287"><span class="id" title="binder">k1</span></a> <a id="k2:288" class="idref" href="#k2:288"><span class="id" title="binder">k2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#37db11bb74e8542c6ee3be0ff5a118ce"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#c732013b0aca5b835799014fd13a7b41"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="f:289" class="idref" href="#f:289"><span class="id" title="binder">f</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:287"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:289"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:288"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f:289"><span class="id" title="variable">f</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> (<span class="id" title="var">resolve</span> := <a class="idref" href="bedrock.lang.cpp.logic.wp.html#37db11bb74e8542c6ee3be0ff5a118ce"><span class="id" title="variable">σ1</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#daadfbea8e99bbdac05572d9b28d1012"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:285"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:287"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#c732013b0aca5b835799014fd13a7b41"><span class="id" title="variable">σ2</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#daadfbea8e99bbdac05572d9b28d1012"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#vc:285"><span class="id" title="variable">vc</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:288"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;vc&nbsp;=&gt;&nbsp;/=;&nbsp;<span class="inlinecode"></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="var">wp_prval_frame</span></span> <span class="inlinecode">|</span> <span class="inlinecode"></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;intros.&nbsp;rewrite&nbsp;-wp_lval_frame;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iIntros&nbsp;"h"&nbsp;(v&nbsp;f)&nbsp;"x";&nbsp;iApply&nbsp;"h";&nbsp;iFrame.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;intros.&nbsp;rewrite&nbsp;-wp_xval_frame;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iIntros&nbsp;"h"&nbsp;(v&nbsp;f)&nbsp;"x";&nbsp;iApply&nbsp;"h";&nbsp;iFrame.<br/>
&nbsp;&nbsp;Qed.&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wpe" class="idref" href="#WPE.Proper_wpe"><span class="id" title="instance">Proper_wpe</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard_frame"><span class="id" title="axiom">wp_discard_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wpe'" class="idref" href="#WPE.Proper_wpe'"><span class="id" title="instance">Proper_wpe'</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard"><span class="id" title="definition">wp_discard</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_discard_frame"><span class="id" title="axiom">wp_discard_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?); <span class="id" title="var">iApply</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab97"></a><h1 class="section">Statements</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;evaluate&nbsp;a&nbsp;statement&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.wp" class="idref" href="#WPE.wp"><span class="id" title="axiom">wp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">{</span></a><a id="resolve:290" class="idref" href="#resolve:290"><span class="id" title="binder">resolve</span></a>:<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">},</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="inductive">Stmt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_shift" class="idref" href="#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="42b0bc8e64cab4e668fd5538f5b79064" class="idref" href="#42b0bc8e64cab4e668fd5538f5b79064"><span class="id" title="binder">σ</span></a> <a id="bf6e2fc89bbab2ee1d579045a53302ac" class="idref" href="#bf6e2fc89bbab2ee1d579045a53302ac"><span class="id" title="binder">ρ</span></a> <a id="s:294" class="idref" href="#s:294"><span class="id" title="binder">s</span></a> <a id="Q:295" class="idref" href="#Q:295"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#42b0bc8e64cab4e668fd5538f5b79064"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bf6e2fc89bbab2ee1d579045a53302ac"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:294"><span class="id" title="variable">s</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:295"><span class="id" title="variable">Q</span></a>)<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> (<span class="id" title="var">resolve</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#42b0bc8e64cab4e668fd5538f5b79064"><span class="id" title="variable">σ</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#bf6e2fc89bbab2ee1d579045a53302ac"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:294"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:295"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.wp_frame" class="idref" href="#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="2c483c4ada72d1a2670a8ac625926e75" class="idref" href="#2c483c4ada72d1a2670a8ac625926e75"><span class="id" title="binder">σ1</span></a> <a id="33bff261508d683cbd014df93b2fc31b" class="idref" href="#33bff261508d683cbd014df93b2fc31b"><span class="id" title="binder">σ2</span></a> <a id="d15c09c6099c5d61e517ad2468521cac" class="idref" href="#d15c09c6099c5d61e517ad2468521cac"><span class="id" title="binder">ρ</span></a> <a id="s:300" class="idref" href="#s:300"><span class="id" title="binder">s</span></a> (<a id="k1:301" class="idref" href="#k1:301"><span class="id" title="binder">k1</span></a> <a id="k2:302" class="idref" href="#k2:302"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2c483c4ada72d1a2670a8ac625926e75"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#33bff261508d683cbd014df93b2fc31b"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:303" class="idref" href="#rt:303"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:301"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:303"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:302"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:303"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#2c483c4ada72d1a2670a8ac625926e75"><span class="id" title="variable">σ1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d15c09c6099c5d61e517ad2468521cac"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:300"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:301"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#33bff261508d683cbd014df93b2fc31b"><span class="id" title="variable">σ2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#d15c09c6099c5d61e517ad2468521cac"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#s:300"><span class="id" title="variable">s</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:302"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_wp" class="idref" href="#WPE.Proper_wp"><span class="id" title="instance">Proper_wp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv_leq"><span class="id" title="record">genv_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "X"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> (<span class="id" title="var">rt</span>); <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.monpred.html#monPred_in_entails"><span class="id" title="projection">monPred_in_entails</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.wp" class="idref" href="#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="dfdc303f41cbb8c8a66cf3c5b08ab952" class="idref" href="#dfdc303f41cbb8c8a66cf3c5b08ab952"><span class="id" title="binder">σ</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.genv.html#genv"><span class="id" title="class">genv</span></a>} (<a id="bf9ff1560d141d3d7bd063a769b811fa" class="idref" href="#bf9ff1560d141d3d7bd063a769b811fa"><span class="id" title="binder">ρ</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#region"><span class="id" title="inductive">region</span></a>) (<a id="s:307" class="idref" href="#s:307"><span class="id" title="binder">s</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.stmt.html#Stmt"><span class="id" title="inductive">Stmt</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp"><span class="id" title="axiom">wp</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#f044a0fb97bd5ae8e836995ef1ec84c7"><span class="id" title="variable">ρ</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp.s"><span class="id" title="variable">s</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_wand" class="idref" href="#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> (<a id="k1:308" class="idref" href="#k1:308"><span class="id" title="binder">k1</span></a> <a id="k2:309" class="idref" href="#k2:309"><span class="id" title="binder">k2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#KpredI"><span class="id" title="definition">KpredI</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:308"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="rt:310" class="idref" href="#rt:310"><span class="id" title="binder">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k1:308"><span class="id" title="variable">k1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:310"><span class="id" title="variable">rt</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:309"><span class="id" title="variable">k2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#rt:310"><span class="id" title="variable">rt</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k2:309"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp Hk". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_frame"><span class="id" title="axiom">wp_frame</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#50ddedb0045cc2d4465d775f34dc22ec"><span class="id" title="variable">σ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">k1</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hk] Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fupd_wp" class="idref" href="#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a> <a id="k:311" class="idref" href="#k:311"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:311"><span class="id" title="variable">k</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:311"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_elim"><span class="id" title="lemma">fupd_elim</span></a>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_wand"><span class="id" title="lemma">wp_wand</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "X". <span class="id" title="var">iModIntro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.wp_fupd" class="idref" href="#WPE.wp_fupd"><span class="id" title="lemma">wp_fupd</span></a> <a id="k:312" class="idref" href="#k:312"><span class="id" title="binder">k</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:312"><span class="id" title="variable">k</span></a>) <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:312"><span class="id" title="variable">k</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.wp_shift"><span class="id" title="axiom">wp_shift</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$Hwp]"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;proof&nbsp;mode&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_fupd_wp" class="idref" href="#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a> <a id="p:313" class="idref" href="#p:313"><span class="id" title="binder">p</span></a> <a id="P:314" class="idref" href="#P:314"><span class="id" title="binder">P</span></a> <a id="k:315" class="idref" href="#k:315"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:313"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:314"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:314"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:315"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:315"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">bi.intuitionistically_if_elim</span></a>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.elim_modal_bupd_wp" class="idref" href="#WPE.elim_modal_bupd_wp"><span class="id" title="instance">elim_modal_bupd_wp</span></a> <a id="p:316" class="idref" href="#p:316"><span class="id" title="binder">p</span></a> <a id="P:317" class="idref" href="#P:317"><span class="id" title="binder">P</span></a> <a id="k:318" class="idref" href="#k:318"><span class="id" title="binder">k</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#::type_scope:'True'"><span class="id" title="notation">True</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#p:316"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:317"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:317"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:318"><span class="id" title="variable">k</span></a>) (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:318"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a>). <span class="id" title="tactic">exact</span>: <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.elim_modal_fupd_wp"><span class="id" title="instance">elim_modal_fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.add_modal_fupd_wp" class="idref" href="#WPE.add_modal_fupd_wp"><span class="id" title="instance">add_modal_fupd_wp</span></a> <a id="P:319" class="idref" href="#P:319"><span class="id" title="binder">P</span></a> <a id="k:320" class="idref" href="#k:320"><span class="id" title="binder">k</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#top"><span class="id" title="definition">top</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:319"><span class="id" title="variable">P</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#P:319"><span class="id" title="variable">P</span></a> (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#k:320"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>/<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.derived_laws.html#bi.wand_elim_r"><span class="id" title="lemma">bi.wand_elim_r</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fupd_wp"><span class="id" title="lemma">fupd_wp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.wp"><span class="id" title="section">wp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;is&nbsp;the&nbsp;low-level&nbsp;specification&nbsp;of&nbsp;C++&nbsp;code&nbsp;blocks.<br/>
&nbsp;&nbsp;&nbsp;*<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;<span class="inlinecode"><span class="id" title="var">addr</span></span>&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;the&nbsp;entry&nbsp;point&nbsp;of&nbsp;the&nbsp;code.<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;note:&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">val</span></span>&nbsp;will&nbsp;be&nbsp;related&nbsp;to&nbsp;the&nbsp;register&nbsp;set.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a id="WPE.fspec" class="idref" href="#WPE.fspec"><span class="id" title="axiom">fspec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">(</span></a><a id="tt:321" class="idref" href="#tt:321"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="fun_type:322" class="idref" href="#fun_type:322"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="addr:323" class="idref" href="#addr:323"><span class="id" title="binder">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) (<a id="ls:324" class="idref" href="#ls:324"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) (<a id="Q:325" class="idref" href="#Q:325"><span class="id" title="binder">Q</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">),</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_complete_type" class="idref" href="#WPE.fspec_complete_type"><span class="id" title="axiom">fspec_complete_type</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="te:327" class="idref" href="#te:327"><span class="id" title="binder">te</span></a> <a id="ft:328" class="idref" href="#ft:328"><span class="id" title="binder">ft</span></a> <a id="a:329" class="idref" href="#a:329"><span class="id" title="binder">a</span></a> <a id="ls:330" class="idref" href="#ls:330"><span class="id" title="binder">ls</span></a> <a id="Q:331" class="idref" href="#Q:331"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:327"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:328"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:329"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:330"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:331"><span class="id" title="variable">Q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#te:327"><span class="id" title="variable">te</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:328"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:329"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:330"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:331"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#edd4b90f66987f0e4145840adec59ece"><span class="id" title="notation">**</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">[|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="cc:332" class="idref" href="#cc:332"><span class="id" title="binder">cc</span></a> <a id="tret:333" class="idref" href="#tret:333"><span class="id" title="binder">tret</span></a> <a id="targs:334" class="idref" href="#targs:334"><span class="id" title="binder">targs</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:328"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="bedrock.lang.cpp.syntax.types.html#Tfunction"><span class="id" title="constructor">Tfunction</span></a> (<span class="id" title="var">cc</span>:=<a class="idref" href="bedrock.lang.cpp.logic.wp.html#cc:332"><span class="id" title="variable">cc</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tret:333"><span class="id" title="variable">tret</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#targs:334"><span class="id" title="variable">targs</span></a> <a class="idref" href="bedrock.lang.bi.only_provable.html#d95ff2fe2904cc1067c71e0d017740c6"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;states&nbsp;that&nbsp;the&nbsp;type&nbsp;environment&nbsp;for&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">fspec</span></span>&nbsp;can&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;narrowed&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>&nbsp;is&nbsp;smaller&nbsp;than<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;type&nbsp;environment&nbsp;(<span class="inlinecode"><span class="id" title="var">big</span></span>/<span class="inlinecode"><span class="id" title="var">tt1</span></span>),&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">ft</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;still&nbsp;a&nbsp;*complete&nbsp;type*&nbsp;in&nbsp;the&nbsp;new&nbsp;type&nbsp;environment&nbsp;<span class="inlinecode"><span class="id" title="var">small</span></span>/<span class="inlinecode"><span class="id" title="var">tt2</span></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOTE:&nbsp;This&nbsp;is&nbsp;informally&nbsp;justified&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;(in&nbsp;the&nbsp;absence<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;ODR)&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;is&nbsp;encapsulated&nbsp;and&nbsp;only<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;public&nbsp;interface&nbsp;(the&nbsp;type)&nbsp;is&nbsp;need&nbsp;to&nbsp;know&nbsp;how&nbsp;to&nbsp;call&nbsp;the&nbsp;function.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_strengthen" class="idref" href="#WPE.fspec_strengthen"><span class="id" title="axiom">fspec_strengthen</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt1:336" class="idref" href="#tt1:336"><span class="id" title="binder">tt1</span></a> <a id="tt2:337" class="idref" href="#tt2:337"><span class="id" title="binder">tt2</span></a> <a id="ft:338" class="idref" href="#ft:338"><span class="id" title="binder">ft</span></a> <a id="a:339" class="idref" href="#a:339"><span class="id" title="binder">a</span></a> <a id="ls:340" class="idref" href="#ls:340"><span class="id" title="binder">ls</span></a> <a id="Q:341" class="idref" href="#Q:341"><span class="id" title="binder">Q</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#complete_type"><span class="id" title="inductive">complete_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:337"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:338"><span class="id" title="variable">ft</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO(PG):&nbsp;even&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">ft</span></span>&nbsp;is&nbsp;complete,&nbsp;the&nbsp;argument/return&nbsp;types&nbsp;might&nbsp;not&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;complete.&nbsp;That&nbsp;would&nbsp;make&nbsp;a&nbsp;call&nbsp;impossible,&nbsp;but&nbsp;does&nbsp;might&nbsp;not&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enough&nbsp;to&nbsp;justify&nbsp;<span class="inlinecode"><span class="id" title="var">fspec_strengthen</span></span>&nbsp;locally&nbsp;(tho&nbsp;I&nbsp;expect&nbsp;it&nbsp;suffices&nbsp;globally).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.semantics.sub_module.html#sub_module"><span class="id" title="record">sub_module</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:337"><span class="id" title="variable">tt2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:336"><span class="id" title="variable">tt1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt1:336"><span class="id" title="variable">tt1</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:338"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:339"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:340"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:341"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt2:337"><span class="id" title="variable">tt2</span></a>.(<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#globals"><span class="id" title="projection">globals</span></a>) <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:338"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:339"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:340"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:341"><span class="id" title="variable">Q</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;axiom&nbsp;is&nbsp;the&nbsp;standard&nbsp;rule&nbsp;of&nbsp;consequence&nbsp;for&nbsp;weakest<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pre-condition.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a id="WPE.fspec_frame" class="idref" href="#WPE.fspec_frame"><span class="id" title="axiom">fspec_frame</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:343" class="idref" href="#tt:343"><span class="id" title="binder">tt</span></a> <a id="ft:344" class="idref" href="#ft:344"><span class="id" title="binder">ft</span></a> <a id="a:345" class="idref" href="#a:345"><span class="id" title="binder">a</span></a> <a id="ls:346" class="idref" href="#ls:346"><span class="id" title="binder">ls</span></a> <a id="Q1:347" class="idref" href="#Q1:347"><span class="id" title="binder">Q1</span></a> <a id="Q2:348" class="idref" href="#Q2:348"><span class="id" title="binder">Q2</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:349" class="idref" href="#v:349"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:347"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:349"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:348"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:349"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:343"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:344"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:345"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:347"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> @<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:343"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:344"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:345"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:348"><span class="id" title="variable">Q2</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="WPE.Proper_fspec" class="idref" href="#WPE.Proper_fspec"><span class="id" title="instance">Proper_fspec</span></a> : <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">forall</span></a> <a id="tt:351" class="idref" href="#tt:351"><span class="id" title="binder">tt</span></a> <a id="ft:352" class="idref" href="#ft:352"><span class="id" title="binder">ft</span></a> <a id="a:353" class="idref" href="#a:353"><span class="id" title="binder">a</span></a> <a id="ls:354" class="idref" href="#ls:354"><span class="id" title="binder">ls</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.base.html#a46514f7419edb3d22453078cf7c9fb7"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#lentails"><span class="id" title="abbreviation">lentails</span></a>) (@<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:351"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ft:352"><span class="id" title="variable">ft</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#a:353"><span class="id" title="variable">a</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#ls:354"><span class="id" title="variable">ls</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_complete_type"><span class="id" title="axiom">fspec_complete_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[X %]"; <span class="id" title="var">iRevert</span> "X"; <span class="id" title="var">iApply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="axiom">fspec_frame</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>); <span class="id" title="var">iApply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="WPE.with_cpp.fspec" class="idref" href="#WPE.with_cpp.fspec"><span class="id" title="section">fspec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="tt:355" class="idref" href="#tt:355"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>} {<a id="tf:356" class="idref" href="#tf:356"><span class="id" title="binder">tf</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>} (<a id="addr:357" class="idref" href="#addr:357"><span class="id" title="binder">addr</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) (<a id="ls:358" class="idref" href="#ls:358"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="WPE.WP" class="idref" href="#WPE.WP"><span class="id" title="abbreviation">WP</span></a> := (<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.tt"><span class="id" title="variable">tt</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.tf"><span class="id" title="variable">tf</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec.ls"><span class="id" title="variable">ls</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Q</span> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.fspec_wand" class="idref" href="#WPE.fspec_wand"><span class="id" title="lemma">fspec_wand</span></a> <a id="Q1:359" class="idref" href="#Q1:359"><span class="id" title="binder">Q1</span></a> <a id="Q2:360" class="idref" href="#Q2:360"><span class="id" title="binder">Q2</span></a> : <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:359"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">(</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <a id="v:361" class="idref" href="#v:361"><span class="id" title="binder">v</span></a><a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q1:359"><span class="id" title="variable">Q1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:361"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:360"><span class="id" title="variable">Q2</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:361"><span class="id" title="variable">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">)</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.WP"><span class="id" title="abbreviation">WP</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q2:360"><span class="id" title="variable">Q2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "Hwp HK".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_complete_type"><span class="id" title="axiom">fspec_complete_type</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hwp %]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="axiom">fspec_frame</span></a> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "HK Hwp"<a class="idref" href="https://plv.mpi-sws.org/coqdoc/iris//iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp.fspec"><span class="id" title="section">fspec</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.expr.html#Expr.mspec"><span class="id" title="abbreviation">mspec</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a></span> <span class="inlinecode"><span class="id" title="var">this_ty</span></span> <span class="inlinecode"><span class="id" title="var">fty</span></span> <span class="inlinecode">..</span> is the analogue of <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.fspec"><span class="id" title="abbreviation">fspec</span></a></span> for member functions.

<div class="paragraph"> </div>

      NOTE this includes constructors and destructors.

<div class="paragraph"> </div>

      NOTE the current implementation desugars this to <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.fspec"><span class="id" title="abbreviation">fspec</span></a></span> but this is not
           accurate according to the standard because a member function can not
           be cast to a regular function that takes an extra parameter.
           We could fix this by splitting <span class="inlinecode"><a class="idref" href="bedrock.lang.cpp.logic.new_delete.html#Expr__newdelete.fspec"><span class="id" title="abbreviation">fspec</span></a></span> more, but we are deferring that
           for now.

<div class="paragraph"> </div>

           In practice we assume that the AST is well-typed, so the only way to
           exploit this is to use <span class="inlinecode"><span class="id" title="var">reinterpret_cast</span>&lt;</span> <span class="inlinecode">&gt;</span> to cast a function pointer
           to an member pointer or vice versa.
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="WPE.mspec" class="idref" href="#WPE.mspec"><span class="id" title="definition">mspec</span></a> (<a id="tt:362" class="idref" href="#tt:362"><span class="id" title="binder">tt</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="this_type:363" class="idref" href="#this_type:363"><span class="id" title="binder">this_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="fun_type:364" class="idref" href="#fun_type:364"><span class="id" title="binder">fun_type</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#epred"><span class="id" title="definition">epred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="bedrock.lang.cpp.logic.mpred.html#LC.mpred"><span class="id" title="definition">mpred</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec"><span class="id" title="axiom">fspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#tt:362"><span class="id" title="variable">tt</span></a> (<a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#Tmember_func"><span class="id" title="definition">Tmember_func</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#this_type:363"><span class="id" title="variable">this_type</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#fun_type:364"><span class="id" title="variable">fun_type</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="WPE.mspec_frame" class="idref" href="#WPE.mspec_frame"><span class="id" title="lemma">mspec_frame</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="t:365" class="idref" href="#t:365"><span class="id" title="binder">t</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="l:366" class="idref" href="#l:366"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) (<a id="v:367" class="idref" href="#v:367"><span class="id" title="binder">v</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a>) (<a id="t0:368" class="idref" href="#t0:368"><span class="id" title="binder">t0</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.types.html#type"><span class="id" title="inductive">type</span></a>) (<a id="t1:369" class="idref" href="#t1:369"><span class="id" title="binder">t1</span></a> : <a class="idref" href="bedrock.lang.cpp.syntax.translation_unit.html#type_table"><span class="id" title="definition">type_table</span></a>) (<a id="Q:370" class="idref" href="#Q:370"><span class="id" title="binder">Q</span></a> <a id="Q':371" class="idref" href="#Q':371"><span class="id" title="binder">Q'</span></a> : <a class="idref" href="bedrock.lang.cpp.semantics.values.html#VALUES_INTF_AXIOM.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">Forall</span></a> <a id="v:372" class="idref" href="#v:372"><span class="id" title="binder">v</span></a><a class="idref" href="bedrock.lang.bi.prelude.html#c4d2389a489ed3709578030625aa8744"><span class="id" title="notation">,</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:370"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:372"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':371"><span class="id" title="variable">Q'</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:372"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#0582ac70d883d93be3a66ac50f1c9225"><span class="id" title="notation">|--</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:369"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:365"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:368"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:367"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:366"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q:370"><span class="id" title="variable">Q</span></a> <a class="idref" href="bedrock.lang.bi.prelude.html#1ceed28b6e47de516f82862d053216fa"><span class="id" title="notation">-*</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.mspec"><span class="id" title="definition">mspec</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t1:369"><span class="id" title="variable">t1</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t:365"><span class="id" title="variable">t</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#t0:368"><span class="id" title="variable">t0</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#v:367"><span class="id" title="variable">v</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#l:366"><span class="id" title="variable">l</span></a> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#Q':371"><span class="id" title="variable">Q'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.fspec_frame"><span class="id" title="axiom">fspec_frame</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE.with_cpp"><span class="id" title="section">with_cpp</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>

<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="bedrock.lang.cpp.logic.wp.html#WPE"><span class="id" title="module">WPE</span></a>.<br/>
<span class="id" title="keyword">Export</span> <a class="idref" href="https://plv.mpi-sws.org/coqdoc/stdpp//stdpp.coPset.html#"><span class="id" title="module">stdpp.coPset</span></a>.<br/>
</div>
<!--
-- Copyright (c) 2020 BedRock Systems, Inc.
-- This software is distributed under the terms of the BedRock Open-Source License.
-- See the LICENSE-BedRock file in the repository root for details.
-->

<!--
-- SPDX-LIcense-Identifier:BSD-2-Clause
-->
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
